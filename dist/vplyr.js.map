{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/config.js","src/js/dom.js","src/js/event.js","src/js/index.js","src/js/player.js","src/js/util.js","src/js/vplyr.js"],"names":[],"mappings":"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","file":"vplyr.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const defaultConfig = {\n  enabled:                 true,\n  debug:                  true,\n  autoplay:               false,\n  loop:                   false,\n  seekTime:               10,\n  volume:                 10,\n  volumeMin:              0,\n  volumeMax:              10,\n  volumeStep:             1,\n  duration:               null,\n  displayDuration:        true,\n  loadSprite:             true,\n  hideControls:           true,\n  blankUrl:'https://cdn.selz.com/plyr/blank.mp4',\n  controls:               ['play-large', 'play', 'progress', 'time', 'mute', 'volume', 'captions', 'fullscreen'],\n  selectors: {\n    html5:                'video, audio',\n    editable:             'input, textarea, select, [contenteditable]',\n    container:            '.vplyr',\n    controls: {\n        container:        null,\n        wrapper:          '.vplyr-controls'\n    },\n    buttons: {\n        seek:             '[data-video=\"seek\"]',\n        play:             '[data-video=\"play\"]',\n        pause:            '[data-video=\"pause\"]',\n        mute:             '[data-video=\"mute\"]',\n        fullscreen:       '[data-video=\"fullscreen\"]'\n    },\n    volume: {\n        input:            '[data-video=\"volume\"]',\n        display:          '.vplyr-volume-display'\n    },\n    progress: {\n        container:        '.vplyr-progress-bar-container',\n        buffer:           '.vplyr-progress-buffer',\n        played:           '.vplyr-progress-played'\n    },\n    volume: {\n        input:          '[data-video=\"volume\"]',\n        display:        '.vplyr-volume-display'\n    },\n    currentTime:          '.control-currenttime',\n    duration:             '.control-duration'\n    },\n\n  // Custom control listeners\n  listeners: {\n      seek:               null,\n      play:               null,\n      pause:              null,\n      restart:            null,\n      rewind:             null,\n      forward:            null,\n      mute:               null,\n      volume:             null,\n      captions:           null,\n      fullscreen:         null\n  },\n  storage: {\n    enabled:            true,\n    key:                'vplyr'\n  },\n  types: {\n    html5:              ['video']\n  },\n  classes:{\n    setup:              'vplyr-setup',\n    ready:              'vplyr-ready',\n    muted:              'vplyr-muted',\n    type:               'vplyr-{0}',\n    videoWrapper:'vplyr-video-container',\n    playing:'vplyr-plying',\n    loading:            'vplyr-loading',\n    hover:              'vplyr-hover',\n    stopped:'vplyr-stopped',\n    isIos:              'vplyr--is-ios',\n    isTouch:            'vplyr--is-touch',\n    isWechat:           'vplyr--is-wechat',\n    isChrome:           'vplyr--is-chrome',\n    tabFocus:           'tab-focus',\n    hideControls:       'vplyr-hide-controls',\n    fullscreen: {\n        enabled:        'vplyr-fullscreen-enabled',\n        active:         'vplyr-fullscreen-active'\n    },\n  },\n  events:                 ['ready', 'ended', 'progress', 'stalled', 'playing', 'waiting', 'canplay', 'canplaythrough', 'loadstart', 'loadeddata', 'loadedmetadata', 'timeupdate', 'volumechange', 'play', 'pause', 'error', 'seeking', 'seeked', 'emptied'],\n  // Logging\n  logPrefix:              '[VPlyr]'\n}\nexport function createDefaultConfig() {\n  return Object.assign({}, defaultConfig);\n}","import utils from './util';\n\nclass Dom {\n  constructor(){\n    this.toggleClass  = this._toggleClass.bind(this);\n    this.removeElement  = this._removeElement.bind(this);\n    this.hasClass = this._hasClass.bind(this);\n    this.injectScript = this._injectScript.bind(this);\n    this.prependChild = this._prependChild.bind(this);\n    this.setAttributes = this._setAttributes.bind(this);\n    this.insertElement= this._insertElement.bind(this);\n    this.getClassname= this._getClassname.bind(this);\n    this.fullscreen= this._fullscreen.bind(this);\n    \n  }\n  _getClassname(selector) {\n    return selector.replace('.', '');\n  }\n  _insertElement(type, parent, attributes) {\n    // Create a new <element>\n    var element = document.createElement(type);\n\n    // Set all passed attributes\n    _setAttributes(element, attributes);\n\n    // Inject the new element\n    _prependChild(parent, element);\n  }\n  _setAttributes(element, attributes) {\n    for (var key in attributes) {\n      element.setAttribute(key, (_is.boolean(attributes[key]) && attributes[key]) ? '' : attributes[key]);\n    }\n  }\n  _prependChild(parent, element) {\n    parent.insertBefore(element, parent.firstChild);\n  }\n  _injectScript(source) {\n    if (document.querySelectorAll('script[src=\"' + source + '\"]').length) {\n        return;\n    }\n\n    var tag = document.createElement('script');\n    tag.src = source;\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n  _hasClass(element, className) {\n    if (element) {\n      if (element.classList) {\n          return element.classList.contains(className);\n      } else {\n          return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test(element.className);\n      }\n    }\n    return false;\n  }\n  _removeElement(element){\n    if (!element) {\n        return;\n    }\n    element.parentNode.removeChild(element);\n  }\n  // Toggle class on an element\n  _toggleClass(element, className, state){\n    if (element) {\n      if (element.classList) {\n        element.classList[state ? 'add' : 'remove'](className);\n      } else {\n        let name = (' ' + element.className + ' ').replace(/\\s+/g, ' ').replace(' ' + className + ' ', '');\n        element.className = name + (state ? ' ' + className : '');\n      }\n    }\n  }\n  _fullscreen() {\n    var fullscreen = {\n            supportsFullScreen: false,\n            isFullScreen: function() { return false; },\n            requestFullScreen: function() {},\n            cancelFullScreen: function() {},\n            fullScreenEventName: '',\n            element: null,\n            prefix: ''\n        },\n        browserPrefixes = 'webkit o moz ms khtml'.split(' ');\n\n    // Check for native support\n    if (!utils.is.undefined(document.cancelFullScreen)) {\n        fullscreen.supportsFullScreen = true;\n    } else {\n      // Check for fullscreen support by vendor prefix\n      for (var i = 0, il = browserPrefixes.length; i < il; i++ ) {\n        fullscreen.prefix = browserPrefixes[i];\n\n        if (!utils.is.undefined(document[fullscreen.prefix + 'CancelFullScreen'])) {\n          fullscreen.supportsFullScreen = true;\n          break;\n        } else if (!utils.is.undefined(document.msExitFullscreen) && document.msFullscreenEnabled) {\n          // Special case for MS (when isn't it?)\n          fullscreen.prefix = 'ms';\n          fullscreen.supportsFullScreen = true;\n          break;\n        }\n      }\n    }\n\n    // Update methods to do something useful\n    if (fullscreen.supportsFullScreen) {\n      // Yet again Microsoft awesomeness,\n      // Sometimes the prefix is 'ms', sometimes 'MS' to keep you on your toes\n      fullscreen.fullScreenEventName = (fullscreen.prefix === 'ms' ? 'MSFullscreenChange' : fullscreen.prefix + 'fullscreenchange');\n\n      fullscreen.isFullScreen = function(element) {\n        if (utils.is.undefined(element)) {\n            element = document.body;\n        }\n        switch (this.prefix) {\n          case '':\n            return document.fullscreenElement === element;\n          case 'moz':\n            return document.mozFullScreenElement === element;\n          default:\n            return document[this.prefix + 'FullscreenElement'] === element;\n        }\n      };\n      fullscreen.requestFullScreen = function(element) {\n        if (utils.is.undefined(element)) {\n          element = document.body;\n        }\n        return (this.prefix === '') ? element.requestFullScreen() : element[this.prefix + (this.prefix === 'ms' ? 'RequestFullscreen' : 'RequestFullScreen')]();\n      };\n      fullscreen.cancelFullScreen = function() {\n        return (this.prefix === '') ? document.cancelFullScreen() : document[this.prefix + (this.prefix === 'ms' ? 'ExitFullscreen' : 'CancelFullScreen')]();\n      };\n      fullscreen.element = function() {\n        return (this.prefix === '') ? document.fullscreenElement : document[this.prefix + 'FullscreenElement'];\n      };\n    }\n\n    return fullscreen;\n  }\n}\nexport default new Dom();\n","import utils from './util';\n\nclass Event{\n  constructor(){\n    this.onEvent = this._on.bind(this);\n    this.customEvent = this._event.bind(this);\n  }\n  _event(element, type, bubbles, properties) {\n    // Bail if no element\n    if (!element || !type) {\n        return;\n    }\n\n    // Default bubbles to false\n    if (!utils.is.boolean(bubbles)) {\n        bubbles = false;\n    }\n\n    // Create and dispatch the event\n    var event = new CustomEvent(type, {\n        bubbles:    bubbles,\n        detail:     properties\n    });\n\n    // Dispatch the event\n    element.dispatchEvent(event);\n  }\n  _on(element, events, callback, useCapture) {\n    if (element) {\n      this._toggleListener(element, events, callback, true, useCapture);\n    }\n  }\n\n  _toggleListener(element, events, callback, toggle, useCapture) {\n    var eventList = events.split(' ');\n    // Whether the listener is a capturing listener or not\n    // Default to false\n    if (!utils.is.boolean(useCapture)) {\n      useCapture = false;\n    }\n\n    // If a nodelist is passed, call itself on each node\n    if (element instanceof NodeList) {\n      for (var x = 0; x < element.length; x++) {\n        if (element[x] instanceof Node) {\n          this._toggleListener(element[x], arguments[1], arguments[2], arguments[3]);\n        }\n      }\n      return;\n    }\n\n    // If a single node is passed, bind the event listener\n    for (var i = 0; i < eventList.length; i++) {\n      element[toggle ? 'addEventListener' : 'removeEventListener'](eventList[i], callback, useCapture);\n    }\n  }\n}\nexport default new Event();","import vPlayer from './vplyr.js';\n\n;(function(root, factory) {\n    'use strict';\n    /*global define,module*/\n\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        // Node, CommonJS-like\n        module.exports = factory(root, document);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define([], function () { return factory(root, document); });\n    } else {\n        // Browser globals (root is window)\n        root.vplyr = factory(root, document);\n    }\n}(typeof window !== 'undefined' ? window : this, function(window, document) {\n  window.vPlayer = vPlayer;\n}))","'use strict';\n\nimport utils from './util';\nimport $ from './dom';\nimport Event from './event';\nlet _log , _warn,fullscreen;\nimport {defaultConfig as defaults} from './config';\n\nclass Player {\n  constructor(media, config){\n    return this._init(media, config);\n  }\n  _init(media, config){\n    const vk = this;\n    const timers = {};\n    let api = {};\n    vk.media = media;\n    let original = media.cloneNode(true);\n    fullscreen = $.fullscreen();\n    const _console = (type,args)=>{\n      if (config.debug && window.console) {\n        args = Array.prototype.slice.call(args);\n\n        if (utils.is.string(config.logPrefix) && config.logPrefix.length) {\n          args.unshift(config.logPrefix);\n        }\n\n        console[type].apply(console, args);\n      }\n    };\n    _log = function() { _console('log', arguments) };\n    _warn = function() { _console('warn', arguments) };\n    _log('Config', config);\n    vk.config = config;\n    vk.timers = timers;\n    api = {\n      isFullscreen:()=>{return this.isFullScreen || false},\n      getVolume:()=>{return this.media.volume},\n      isMuted:  () =>{ return this.media.muted; },\n      isReady:  () =>{ return $.hasClass(this.container, this.config.classes.ready); },\n      isLoading:()=> { return $.hasClass(this.container, this.config.classes.loading); },\n      isPaused: () =>{ return this.media.paused; },\n      stop:  ()=>{ this._pause(); this._seek(); },\n      getType: ()=>this.type,\n      getCurrentTime: ()=>this.media.currentTime,\n      getContainer:()=>this.container,\n      setVolume: this._setVolume,\n      togglePlay: this._togglePlay,\n      toggleMute: this._toggleMute,\n      toggleFullscreen: this._toggleFullscreen,\n      toggleControls: this._toggleControls,\n      play: this._play,\n      pause: this._pause,\n      getDuration:this._getDuration,\n      seek:this._seek,\n    }\n    vk.api = api;\n    \n    this._setup(vk,config);\n    _log('player', vk);\n    if (!vk.init) {\n      return null;\n    }\n    return api;\n  }\n\n  _setup(player,config){\n    if (player.init) {\n      return null;\n    }\n    player.browser = utils.browserSniff;\n    if (!utils.is.htmlElement(player.media)) {\n      return;\n    }\n    this._setupStorage();\n    const tagName = player.media.tagName.toLowerCase();\n    player.type         = tagName;\n    config.crossorigin  = (player.media.getAttribute('crossorigin') !== null);\n    config.autoplay     = (config.autoplay || (player.media.getAttribute('autoplay') !== null));\n    config.loop         = (config.loop || (player.media.getAttribute('loop') !== null));\n    player.supported = utils.supported(player.type);\n    if (!player.supported.basic) {\n      return;\n    }\n    player.container = this._wrap(player.media, document.createElement('div'));\n    player.container.setAttribute('tabindex', 0);\n    this._toggleStyleHook(player,config);\n    _log('' + player.browser.name + ' ' + player.browser.version);\n    this._setupMedia(player,config);\n    if(utils.inArray(config.types.html5,player.type)){\n      // Setup UI\n      this._setupInterface(player,config);\n\n      this._ready();\n    }\n    this.init = true;\n  }\n  _ready() {\n    // Ready event at end of execution stack\n    window.setTimeout(()=> {\n      this._triggerEvent(this.media, 'ready');\n    }, 0);\n\n    // Set class hook on media element\n    $.toggleClass(this.media, defaults.classes.setup, true);\n\n    // Set container class for ready\n    $.toggleClass(this.container, this.config.classes.ready, true);\n\n    // Store a refernce to instance\n    this.media.vplyr = this.api;\n\n    // Autoplay\n    if (this.config.autoplay) {\n      this._play();\n    }\n  }\n  _setupInterface(player,config){\n    const _getElements = (selector)=> {\n      return player.container.querySelectorAll(selector);\n    }\n    const _getElement=(selector)=> {\n      return _getElements(selector)[0];\n    }\n    if (!player.supported.full) {\n      _warn('Basic support only', player.type);\n      \n      // Remove controls\n      $.removeElement(_getElement(config.selectors.controls.wrapper));\n      // reset native controls\n      this._toggleNativeControls(true,player,config);\n      // Bail\n      return;\n    }\n    const controlsMissing = !_getElements(config.selectors.controls.wrapper).length;\n    if (controlsMissing) {\n      // Inject custom controls\n      this._injectControls(player,config);\n    }\n    // Find the elements\n    if (!this._findElements(player,config)) {\n      return;\n    }\n    if (controlsMissing) {\n      this._controlListeners(player,config);\n    }\n    this._mediaListeners();\n    this._toggleNativeControls(true,this,this.config);\n    this._timeUpdate();\n    // Set volume\n    this._setVolume();\n\n    this._updateVolume();\n\n    this._checkPlaying();\n  }\n  _setupStorage() {\n    var value = null;\n    this.storage = {};\n\n    // Bail if we don't have localStorage support or it's disabled\n    if (!utils.storageSupport || !this.config.storage.enabled) {\n      return;\n    }\n    \n    window.localStorage.removeItem('vplyr-volume');\n\n    // load value from the current key\n    value = window.localStorage.getItem(this.config.storage.key);\n\n    if (!value) {\n        // Key wasn't set (or had been cleared), move along\n        return;\n    } else if (/^\\d+(\\.\\d+)?$/.test(value)) {\n      // If value is a number, it's probably volume from an older\n      // version of plyr. See: https://github.com/Selz/plyr/pull/313\n      // Update the key to be JSON\n      this._updateStorage({volume: parseFloat(value)});\n    } else {\n        // Assume it's JSON from this or a later version of plyr\n      this.storage = JSON.parse(value);\n    }\n  }\n  _triggerEvent(element, type, bubbles, properties) {\n    Event.customEvent(element, type, bubbles, utils.extend({}, properties, {\n      vplyr: this\n    }));\n  }\n  _getDuration() {\n    // It should be a number, but parse it just incase\n    var duration = parseInt(this.config.duration),\n\n    // True duration\n    mediaDuration = 0;\n\n    // Only if duration available\n    if (this.media.duration !== null && !isNaN(this.media.duration)) {\n      mediaDuration = this.media.duration;\n    }\n\n    // If custom duration is funky, use regular duration\n    return (isNaN(duration) ? mediaDuration : duration);\n  }\n  _seek(input){\n    _log(this);\n    let targetTime  = 0,\n        paused      = this.media.paused,\n        duration    = this._getDuration();\n\n    if (utils.is.number(input)) {\n      targetTime = input;\n    } else if (utils.is.object(input) && utils.inArray(['input', 'change'], input.type)) {\n      // It's the seek slider\n      // Seek to the selected time\n      targetTime = ((input.target.value / input.target.max) * duration);\n    }\n    if (targetTime < 0) {\n      targetTime = 0;\n    } else if (targetTime > duration) {\n      targetTime = duration;\n    }\n    this._updateSeekDisplay(targetTime);\n    try {\n      this.media.currentTime = targetTime.toFixed(4);\n    }\n    catch(e) {}\n    // Logging\n    _log('Seeking to ' + this.media.currentTime + ' seconds');\n  }\n  _play() {\n    if ('play' in this.media) {\n      this.media.play();\n    }\n  }\n  _pause() {\n    if ('pause' in this.media) {\n      this.media.pause();\n    }\n  }\n  _togglePlay(toggle) {\n    // True toggle\n    if (!utils.is.boolean(toggle)) {\n      toggle = this.media.paused;\n    }\n\n    if (toggle) {\n      this._play();\n    } else {\n      this._pause();\n    }\n    return toggle;\n  }\n  _getPercentage(current, max) {\n    if (current === 0 || max === 0 || isNaN(current) || isNaN(max)) {\n        return 0;\n    }\n    return ((current / max) * 100).toFixed(2);\n  }\n  _updateSeekDisplay(time) {\n    // Default to 0\n    if (!utils.is.number(time)) {\n        time = 0;\n    }\n\n    var duration    = this._getDuration(),\n        value       = this._getPercentage(time, duration);\n\n    // Update progress\n    if (this.progress && this.progress.played) {\n      this.progress.played.value = value;\n    }\n\n    // Update seek range input\n    if (this.buttons && this.buttons.seek) {\n      this.buttons.seek.value = value;\n    }\n  }\n  _mediaListeners(){\n    // Time change on media\n    Event.onEvent(this.media, 'timeupdate seeking', this._timeUpdate.bind(this));\n\n    Event.onEvent(this.media, 'durationchange loadedmetadata', this._displayDuration.bind(this));\n    \n    Event.onEvent(this.media, 'play pause ended', this._checkPlaying.bind(this));\n\n    Event.onEvent(this.media, 'progress playing', this._updateProgress.bind(this));\n\n    Event.onEvent(this.media, 'waiting canplay seeked', this._checkLoading.bind(this));\n\n    Event.onEvent(this.media, 'volumechange', this._updateVolume.bind(this));\n    \n  }\n  _proxyListener(element, eventName, userListener, defaultListener, useCapture) {\n    Event.onEvent(element, eventName, function(event) {\n      if (userListener) {\n        userListener.apply(element, [event]);\n      }\n      defaultListener.apply(element, [event]);\n    }, useCapture);\n  }\n  _controlListeners(){\n    const inputEvent = (this.browser.isIE ? 'change' : 'input');\n    const togglePlay = ()=>{\n      const play = this._togglePlay();\n      let trigger = this.buttons[play ? 'play' : 'pause'],\n          target = this.buttons[play ? 'pause' : 'play'];\n\n      // Get the last play button to account for the large play button\n      if (target && target.length > 1) {\n        target = target[target.length - 1];\n      } else {\n        target = target[0];\n      }\n      if (target) {\n        const hadTabFocus = $.hasClass(trigger, this.config.classes.tabFocus);\n\n        setTimeout(function() {\n          target.focus();\n          if (hadTabFocus) {\n            $.toggleClass(trigger, this.config.classes.tabFocus, false);\n            $.toggleClass(target, this.config.classes.tabFocus, true);\n          }\n        }, 100);\n      }\n    }\n    this._proxyListener(this.buttons.play, 'click', this.config.listeners.play, togglePlay);\n    // Pause\n    this._proxyListener(this.buttons.pause, 'click', this.config.listeners.pause, togglePlay);\n    // Seek\n    this._proxyListener(this.buttons.seek, inputEvent, this.config.listeners.seek, this._seek.bind(this));\n\n    this._proxyListener(this.volume.input, inputEvent, this.config.listeners.volume, ()=>{\n      this._setVolume(this.volume.input.value);\n    });\n    this._proxyListener(this.buttons.mute, 'click', this.config.listeners.mute, this._toggleMute.bind(this));\n\n    this._proxyListener(this.buttons.fullscreen, 'click', this.config.listeners.fullscreen, this._toggleFullscreen.bind(this));\n\n    // Handle user exiting fullscreen by escaping etc\n    if (fullscreen.supportsFullScreen) {\n      Event.onEvent(document, fullscreen.fullScreenEventName, this._toggleFullscreen.bind(this));\n    }\n    if (this.config.hideControls) {\n      // Toggle controls on mouse events and entering fullscreen\n      Event.onEvent(this.container, 'mouseenter mouseleave mousemove touchstart touchend touchcancel touchmove enterfullscreen', this._toggleControls.bind(this));\n\n      // Watch for cursor over controls so they don't hide when trying to interact\n      Event.onEvent(this.controls, 'mouseenter mouseleave', (event)=>{\n          this.controls.hover = event.type === 'mouseenter';\n      });\n\n        // Watch for cursor over controls so they don't hide when trying to interact\n      Event.onEvent(this.controls, 'mousedown mouseup touchstart touchend touchcancel', (event)=> {\n        this.controls.pressed = utils.inArray(['mousedown', 'touchstart'], event.type);\n      });\n      // Focus in/out on controls\n      Event.onEvent(this.controls, 'focus blur', this._toggleControls.bind(this), true);\n    }\n  }\n  _toggleFullscreen(event) {\n    // Check for native support\n    var nativeSupport = fullscreen.supportsFullScreen;\n\n    if (nativeSupport) {\n      // If it's a fullscreen change event, update the UI\n      if (event && event.type === fullscreen.fullScreenEventName) {\n          this.isFullscreen = fullscreen.isFullScreen(this.container);\n      } else {\n        // Else it's a user request to enter or exit\n        if (!fullscreen.isFullScreen(this.container)) {\n          // Save scroll position\n          this._saveScrollPosition();\n\n          // Request full screen\n          fullscreen.requestFullScreen(this.container);\n        } else {\n            // Bail from fullscreen\n          fullscreen.cancelFullScreen();\n        }\n\n        // Check if we're actually full screen (it could fail)\n        this.isFullscreen = fullscreen.isFullScreen(this.container);\n\n        return;\n      }\n    } else {\n        // Otherwise, it's a simple toggle\n        this.isFullscreen = !this.isFullscreen;\n\n        // Bind/unbind escape key\n        document.body.style.overflow = this.isFullscreen ? 'hidden' : '';\n    }\n\n    // Set class hook\n    $.toggleClass(this.container, this.config.classes.fullscreen.active, this.isFullscreen);\n\n    // Trap focus\n    this._focusTrap(this.isFullscreen);\n\n    // Set button state\n    if (this.buttons && this.buttons.fullscreen) {\n      this._toggleState(this.buttons.fullscreen, this.isFullscreen);\n    }\n\n    // Trigger an event\n    this._triggerEvent(this.container, this.isFullscreen ? 'enterfullscreen' : 'exitfullscreen', true);\n\n    // Restore scroll position\n    if (!this.isFullscreen && nativeSupport) {\n        this._restoreScrollPosition();\n    }\n  }\n  _focusTrap() {\n    const _getElements = (selector)=> {\n      return this.container.querySelectorAll(selector);\n    }\n    const _getElement=(selector)=> {\n      return _getElements(selector)[0];\n    }\n    var tabbables   = _getElements('input:not([disabled]), button:not([disabled])'),\n        first       = tabbables[0],\n        last        = tabbables[tabbables.length - 1];\n\n    function _checkFocus(event) {\n      // If it is TAB\n      if (event.which === 9 && this.isFullscreen) {\n        if (event.target === last && !event.shiftKey) {\n          // Move focus to first element that can be tabbed if Shift isn't used\n          event.preventDefault();\n          first.focus();\n        } else if (event.target === first && event.shiftKey) {\n          // Move focus to last element that can be tabbed if Shift is used\n          event.preventDefault();\n          last.focus();\n        }\n      }\n    }\n\n    // Bind the handler\n    Event.onEvent(this.container, 'keydown', _checkFocus);\n  }\n  _saveScrollPosition() {\n    scroll = {\n        x: window.pageXOffset || 0,\n        y: window.pageYOffset || 0\n    };\n  }\n  _restoreScrollPosition() {\n    window.scrollTo(scroll.x, scroll.y);\n  }\n  _checkLoading(event) {\n    const loading = (event.type === 'waiting');\n\n    // Clear timer\n    clearTimeout(this.timers.loading);\n\n    // Timer to prevent flicker when seeking\n    this.timers.loading = setTimeout(()=>{\n      // Toggle container class hook\n      $.toggleClass(this.container, this.config.classes.loading, loading);\n\n      // Show controls if loading, hide if done\n      this._toggleControls(loading);\n    }, (loading ? 250 : 0));\n  }\n  _checkPlaying() {\n    $.toggleClass(this.container, this.config.classes.playing, !this.media.paused);\n\n    $.toggleClass(this.container, this.config.classes.stopped, this.media.paused);\n\n    this._toggleControls(this.media.paused);\n  }\n  _timeUpdate(event) {\n    // Duration\n    this._updateTimeDisplay(this.media.currentTime, this.currentTime);\n\n    // Ignore updates while seeking\n    if (event && event.type === 'timeupdate' && this.media.seeking) {\n      return;\n    }\n    // Playing progress\n    this._updateProgress(event);\n  }\n  _updateProgress(event){\n    if (!this.supported.full) {\n      return;\n    }\n\n    var progress    = this.progress.played,\n        value       = 0,\n        duration    = this._getDuration();\n    if(event){\n      switch(event.type){\n        case 'timeupdate':\n        case 'seeking':\n          if (this.controls.pressed) {\n            return;\n          }\n\n          value = this._getPercentage(this.media.currentTime, duration);\n\n          // Set seek range value only if it's a 'natural' time event\n          if (event.type === 'timeupdate' && this.buttons.seek) {\n            this.buttons.seek.value = value;\n          }\n\n          break;  \n          // Check buffer status\n        case 'playing':\n        case 'progress':\n          progress    = this.progress.buffer;\n          value = (()=> {\n            var buffered = this.media.buffered;\n\n            if (buffered && buffered.length) {\n              // HTML5\n              return this._getPercentage(buffered.end(0), duration);\n            } \n            return 0;\n          })();\n          _log('event.type',event.type,value)\n          break;\n      }\n    }\n    this._setProgress(progress, value);\n  }\n  _setProgress(progress, value) {\n    if (!this.supported.full) {\n      return;\n    }\n\n    // Default to 0\n    if (utils.is.undefined(value)) {\n      value = 0;\n    }\n    // Default to buffer or bail\n    if (utils.is.undefined(progress)) {\n      if (this.progress && this.progress.buffer) {\n        progress = this.progress.buffer;\n      } else {\n        return;\n      }\n    }\n\n    // One progress element passed\n    if (utils.is.htmlElement(progress)) {\n        progress.value = value;\n    } else if (progress) {\n      // Object of progress + text element\n      if (progress.bar) {\n        progress.bar.value = value;\n      }\n      if (progress.text) {\n        progress.text.innerHTML = value;\n      }\n    }\n  }\n  _setVolume(volume){\n    const max = this.config.volumeMax,\n        min = this.config.volumeMin;\n\n    // Load volume from storage if no value specified\n    if (utils.is.undefined(volume)) {\n      volume = this.storage.volume;\n    }\n\n    // Use config if all else fails\n    if (volume === null || isNaN(volume)) {\n      volume = this.config.volume;\n    }\n    if (utils.is.undefined(volume)) {\n      volume = this.storage.volume;\n    }\n    // Maximum is volumeMax\n    if (volume > max) {\n      volume = max;\n    }\n    // Minimum is volumeMin\n    if (volume < min) {\n      volume = min;\n    }\n    // Set the player volume\n    this.media.volume = parseFloat(volume / max);\n\n    // Set the display\n    if (this.volume.display) {\n      this.volume.display.value = volume;\n    }\n    // Toggle muted state\n    if (volume === 0) {\n      this.media.muted = true;\n    } else if (this.media.muted && volume > 0) {\n      this._toggleMute();\n    }\n  }\n  _updateVolume() {\n    // Get the current volume\n    var volume = this.media.muted ? 0 : (this.media.volume * this.config.volumeMax);\n\n    // Update the <input type=\"range\"> if present\n    if (this.supported.full) {\n      if (this.volume.input) {\n        this.volume.input.value = volume;\n      }\n      if (this.volume.display) {\n        this.volume.display.value = volume;\n      }\n    }\n\n    // Update the volume in storage\n    this._updateStorage({volume: volume});\n\n    // Toggle class if muted\n    $.toggleClass(this.container, this.config.classes.muted, (volume === 0));\n\n    // Update checkbox for mute state\n    if (this.supported.full && this.buttons.mute) {\n      this._toggleState(this.buttons.mute, (volume === 0));\n    }\n  }\n  _updateStorage(value) {\n    // Bail if we don't have localStorage support or it's disabled\n    if (!utils.storageSupport || !this.config.storage.enabled) {\n        return;\n    }\n\n    // Update the working copy of the values\n    utils.extend(this.storage, value);\n\n    // Update storage\n    window.localStorage.setItem(this.config.storage.key, JSON.stringify(this.storage));\n  }\n  _toggleState(target, state) {\n    // Bail if no target\n    if (!target) {\n        return;\n    }\n    // Get state\n    state = (utils.is.boolean(state) ? state : !target.getAttribute('aria-pressed'));\n\n    // Set the attribute on target\n    target.setAttribute('aria-pressed', state);\n    return state;\n  }\n  _toggleMute(muted){\n    if (!utils.is.boolean(muted)) {\n      muted = !this.media.muted;\n    }\n\n    // Set button state\n    this._toggleState(this.buttons.mute, muted);\n\n    // Set mute on the player\n    this.media.muted = muted;\n\n    // If volume is 0 after unmuting, set to default\n    if (this.media.volume === 0) {\n      this._setVolume(this.config.volume);\n    }\n\n  }\n  _displayDuration() {\n    if (!this.supported.full) {\n      return;\n    }\n\n    // Determine duration\n    var duration = this._getDuration() || 0;\n\n    // If there's only one time display, display duration there\n    if (!this.duration && this.config.displayDuration && this.media.paused) {\n      this._updateTimeDisplay(duration, this.currentTime);\n    }\n\n    // If there's a duration element, update content\n    if (this.duration) {\n      this._updateTimeDisplay(duration, this.duration);\n    }\n\n  }\n  _updateTimeDisplay(time, element) {\n    // Bail if there's no duration display\n    if (!element) {\n        return;\n    }\n\n    // Fallback to 0\n    if (isNaN(time)) {\n        time = 0;\n    }\n\n    this.secs = parseInt(time % 60);\n    this.mins = parseInt((time / 60) % 60);\n    this.hours = parseInt(((time / 60) / 60) % 60);\n\n    // Do we need to display hours?\n    var displayHours = (parseInt(((this._getDuration() / 60) / 60) % 60) > 0);\n\n    // Ensure it's two digits. For example, 03 rather than 3.\n    this.secs = ('0' + this.secs).slice(-2);\n    this.mins = ('0' + this.mins).slice(-2);\n\n    // Render\n    element.innerHTML = (displayHours ? this.hours + ':' : '') + this.mins + ':' + this.secs;\n  }\n  _injectControls(player,config){\n    let html = config.html;\n\n    // Insert custom video controls\n    _log('Injecting custom controls');\n    // If no controls are specified, create default\n    if (!html) {\n      html = this._buildControls(config);\n    }\n    const random =Math.floor(Math.random() * (1000000));\n    player.container.setAttribute('id', `vplyr${random}`);\n    html = utils.replaceAll(html, '{id}', random);\n    let target;\n    if (utils.is.string(config.selectors.controls.container)) {\n      target = document.querySelector(config.selectors.controls.container);\n    }\n    // Inject into the container by default\n    if (!utils.is.htmlElement(target)) {\n      target = player.container\n    }\n    target.insertAdjacentHTML('beforeend', html);\n  }\n  _findElements(player,config){\n    const _getElements = (selector)=> {\n      return player.container.querySelectorAll(selector);\n    }\n    const _getElement=(selector)=> {\n      return _getElements(selector)[0];\n    }\n    try {\n      player.controls                 = _getElement(config.selectors.controls.wrapper);\n\n      // Buttons\n      player.buttons = {};\n      player.buttons.seek             = _getElement(config.selectors.buttons.seek);\n      player.buttons.play             = _getElements(config.selectors.buttons.play);\n      player.buttons.pause            = _getElement(config.selectors.buttons.pause);\n      player.buttons.fullscreen       = _getElement(config.selectors.buttons.fullscreen);\n\n      // Inputs\n      player.buttons.mute             = _getElement(config.selectors.buttons.mute);\n\n      // Progress\n      player.progress = {};\n      player.progress.container       = _getElement(config.selectors.progress.container);\n\n      // Progress - Buffering\n      player.progress.buffer          = {};\n      player.progress.buffer.bar      = _getElement(config.selectors.progress.buffer);\n      player.progress.buffer.text     = player.progress.buffer.bar && player.progress.buffer.bar.getElementsByTagName('span')[0];\n\n      // Progress - Played\n      player.progress.played          = _getElement(config.selectors.progress.played);\n\n      // Volume\n      player.volume                   = {};\n      player.volume.input             = _getElement(config.selectors.volume.input);\n      player.volume.display           = _getElement(config.selectors.volume.display);\n\n      // Timing\n      player.duration                 = _getElement(config.selectors.duration);\n      player.currentTime              = _getElement(config.selectors.currentTime);\n      player.seekTime                 = _getElements(config.selectors.seekTime);\n\n      return true;\n    }\n    catch(e) {\n      _warn('It looks like there is a problem with your controls HTML');\n      // Restore native video controls\n      this._toggleNativeControls(true);\n\n      return false;\n    }\n  }\n  _buildControls(config){\n    const html = ['<div class=\"vplyr-video-loader-container\">',\n          '<div class=\"vplyr-video-loader\">',\n          '<div class=\"loader-inner one\"></div>',\n          '<div class=\"loader-inner two\"></div>',\n          '<div class=\"loader-inner three\"></div>',\n          '</div>',\n          '</div><div class=\"vplyr-gradient-bottom\"></div>'];\n    html.push('<div class=\"vplyr-bottom-container\">')\n    if (utils.inArray(config.controls, 'progress')) {\n      html.push(\n          '<div class=\"vplyr-progress-bar-container\">',\n          '<input id=\"seek{id}\" type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"0.1\" class=\"vplyr-progress-bar\" data-video=\"seek\"/>',\n          '<progress class=\"vplyr-progress-played\" max=\"100\" role=\"presentation\"></progress>',\n          '<progress class=\"vplyr-progress-buffer\" max=\"100\" value=\"100\">',\n          '<span>100.00</span>% buffered',\n          '</progress>',\n          '</div>'\n      );\n    }\n    html.push('<div class=\"vplyr-controls\">')\n    html.push('<div class=\"left-controls\">')\n    if (utils.inArray(config.controls, 'play')) {\n      html.push(\n        '<div class=\"btn-controls\">',\n          '<div class=\"btn-wrap\">',\n          '<div class=\"play\" data-video=\"play\"></div>',\n          '<div class=\"pause\" data-video=\"pause\"></div>',\n          '</div>',\n          '</div>'\n      );\n    }\n    if (utils.inArray(config.controls, 'time')) {\n      html.push(\n        '<div class=\"time-mod-controls\">',\n          '<div class=\"control-currenttime\">00:00</div>',\n          '<div class=\"control-separator\">/</div>',\n          '<div class=\"control-duration\">00:00</div>',\n          '</div>'\n      );\n    }\n    html.push('</div>')//close vplyr left controls\n    html.push('<div class=\"right-controls\">')\n    if (utils.inArray(config.controls, 'fullscreen')) {\n      html.push(\n        '<div class=\"fullscreen-controls\" data-video=\"fullscreen\">',\n          '<svg class=\"icon-exit-fullscreen\">',\n          '<use xlink:href=\"#vplyr-exit-fullscreen\"></use>',\n          '</svg>',\n          '<svg class=\"icon-enter-fullscreen\">',\n          ' <use xlink:href=\"#vplyr-enter-fullscreen\"></use>',\n          '</svg>',\n          '</div>'\n      );\n    }\n    html.push('<div class=\"volume-controls\">')\n    if (utils.inArray(config.controls, 'mute')) {\n      html.push(\n        '<div class=\"vplyr-volume\" data-video=\"mute\">',\n          '<svg class=\"icon-muted\">',\n          '<use xlink:href=\"#vplyr-muted\"></use>',\n          '</svg>',\n          '<svg class=\"icon-volume\">',\n          '<use xlink:href=\"#vplyr-volume\"></use>',\n          '</svg>',\n          '</div>'\n      );\n    }\n    if (utils.inArray(config.controls, 'volume')) {\n      html.push(\n        '<div class=\"vplyr-volume-progress\">',\n          '<input type=\"range\" id=\"volume{id}\"  class=\"vplyr-volume-input\"  min=\"0\"  max=\"10\" data-video=\"volume\" value=\"8\">',\n          '<progress class=\"vplyr-volume-display\" max=\"10\" role=\"presentation\"></progress>',\n          '</div>'\n      );\n    }\n    html.push('</div>')//close vplyr volume controls\n    \n    html.push('</div>')//close vplyr right controls\n    \n    html.push('</div>')//close vplyr controls\n    html.push('</div>')//close\n    return html.join('');\n  }\n  _toggleControls(toggle) {\n    // Don't hide if config says not to, it's audio, or not ready or loading\n    if (!this.config.hideControls || this.type === 'audio') {\n      return;\n    }\n\n    var delay = 0,\n        isEnterFullscreen = false,\n        show = toggle,\n        loading = $.hasClass(this.container, this.config.classes.loading);\n\n    // Default to false if no boolean\n    if (!utils.is.boolean(toggle)) {\n      if (toggle && toggle.type) {\n        // Is the enter fullscreen event\n        isEnterFullscreen = (toggle.type === 'enterfullscreen');\n\n        // Whether to show controls\n        show = utils.inArray(['mousemove', 'touchstart', 'mouseenter', 'focus'], toggle.type);\n\n        // Delay hiding on move events\n        if (utils.inArray(['mousemove', 'touchmove'], toggle.type)) {\n          delay = 2000;\n        }\n\n        // Delay a little more for keyboard users\n        if (toggle.type === 'focus') {\n            delay = 3000;\n        }\n      } else {\n        show = $.hasClass(this.container, this.config.classes.hideControls);\n      }\n    }\n\n    // Clear timer every movement\n    window.clearTimeout(this.timers.hover);\n\n    // If the mouse is not over the controls, set a timeout to hide them\n    if (show || this.media.paused || loading) {\n      $.toggleClass(this.container, this.config.classes.hideControls, false);\n\n      // Always show controls when paused or if touch\n      if (this.media.paused || loading) {\n        return;\n      }\n\n      // Delay for hiding on touch\n      if (this.browser.isTouch) {\n        delay = 3000;\n      }\n    }\n\n    // If toggle is false or if we're playing (regardless of toggle),\n    // then set the timer to hide the controls\n    if (!show || !this.media.paused) {\n      this.timers.hover = window.setTimeout(() =>{\n        // If the mouse is over the controls (and not entering fullscreen), bail\n        if ((this.controls.pressed || this.controls.hover) && !isEnterFullscreen) {\n            return;\n        }\n\n        $.toggleClass(this.container, this.config.classes.hideControls, true);\n      }, delay);\n    }\n  }\n  _setupMedia(player,config){\n    if (!player.media) {\n      _warn('No media element found!');\n      return;\n    }\n    if(player.supported.full){\n      $.toggleClass(player.container, config.classes.type.replace('{0}', player.type), true);\n      $.toggleClass(player.container, config.classes.stopped, config.autoplay);\n      // Add iOS class\n      $.toggleClass(player.container, config.classes.isIos, player.browser.isIos);\n      // Add chrome class\n      $.toggleClass(player.container, config.classes.isChrome, player.browser.isChrome);\n\n      // Add touch class\n      $.toggleClass(player.container, config.classes.isTouch, player.browser.isTouch);\n\n      // Add wechat class\n      $.toggleClass(player.container, config.classes.isWechat, player.browser.isWechat);\n      if(player.type === 'video'){\n        const wrapper = document.createElement('div');\n        wrapper.setAttribute('class', config.classes.videoWrapper);\n        this._wrap(player.media, wrapper);\n        // Cache the container\n        player.videoContainer = wrapper;\n      }\n    }\n  }\n  _toggleNativeControls(toggle) {\n    if (toggle && utils.inArray(this.config.types.html5, this.type)) {\n      this.media.setAttribute('controls', '');\n    } else {\n      this.media.removeAttribute('controls');\n    }\n  }\n  _wrap(elements, wrapper) {\n    // Convert `elements` to an array, if necessary.\n    if (!elements.length) {\n        elements = [elements];\n    }\n\n    // Loops backwards to prevent having to clone the wrapper on the\n    // first element (see `child` below).\n    for (var i = elements.length - 1; i >= 0; i--) {\n      var child   = (i > 0) ? wrapper.cloneNode(true) : wrapper;\n      var element = elements[i];\n\n      // Cache the current parent and sibling.\n      var parent  = element.parentNode;\n      var sibling = element.nextSibling;\n\n      // Wrap the element (is automatically removed from its current\n      // parent).\n      child.appendChild(element);\n\n      // If the element had a sibling, insert the wrapper before\n      // the sibling to maintain the HTML structure; otherwise, just\n      // append it to the parent.\n      if (sibling) {\n          parent.insertBefore(child, sibling);\n      } else {\n          parent.appendChild(child);\n      }\n      return child;\n    }\n  }\n  _cancelRequests() {\n    if (!utils.inArray(this.config.types.html5, this.type)) {\n      return;\n    }\n\n    // Remove child sources\n    var sources = this.media.querySelectorAll('source');\n    for (var i = 0; i < sources.length; i++) {\n      $.removeElement(sources[i]);\n    }\n\n    // Set blank video src attribute\n    // This is to prevent a MEDIA_ERR_SRC_NOT_SUPPORTED error\n    // Info: http://stackoverflow.com/questions/32231579/how-to-properly-dispose-of-an-html5-video-and-close-socket-or-connection\n    this.media.setAttribute('src', this.config.blankUrl);\n\n    // Load the new empty source\n    // This will cancel existing requests\n    // See https://github.com/Selz/plyr/issues/174\n    this.media.load();\n\n    // Debugging\n    _log('Cancelled network requests');\n  }\n  _toggleStyleHook(player,config) {\n    $.toggleClass(player.container, config.selectors.container.replace('.', ''), player.supported.full);\n  }\n}\nexport default Player;","class Utils {\n  constructor(){\n    this.browserSniff=this._browserSniff.bind(this)();\n    this.is = this._is.bind(this)();\n    this.storageSupport = this._storageSupport.bind(this)();\n    this.extend  = this._extend.bind(this);\n    this.matches  = this._matches.bind(this);\n    this.inArray = this._inArray.bind(this);\n    this.supported = this._support.bind(this);\n    this.replaceAll = this._replaceAll.bind(this);\n    \n  }\n  _replaceAll(string, find, replace) {\n    return string.replace(new RegExp(find.replace(/([.*+?\\^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'), 'g'), replace);\n  }\n  _support(type){\n    const browser     = this._browserSniff(),\n        isOldIE     = (browser.isIE && browser.version <= 9),\n        isIos       = browser.isIos,\n        isIphone    = browser.isIphone,\n        audioSupport = !!document.createElement('audio').canPlayType,\n        videoSupport = !!document.createElement('video').canPlayType;\n    let basic       = false,\n        full        = false;\n\n    switch (type) {\n        case 'video':\n            basic = videoSupport;\n            full  = (basic && (!isOldIE && !isIphone));\n            break;\n\n        case 'audio':\n            basic = audioSupport;\n            full  = (basic && !isOldIE);\n            break;\n\n        default:\n            basic = (audioSupport && videoSupport);\n            full  = (basic && !isOldIE);\n    }\n\n    return {\n        basic:  basic,\n        full:   full\n    };\n  }\n  _inArray(haystack, needle) {\n    return Array.prototype.indexOf && (haystack.indexOf(needle) !== -1);\n  }\n\n  _matches(element, selector) {\n    var p = Element.prototype;\n\n    var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\n        return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n    };\n\n    return f.call(element, selector);\n  }\n  _extend() {\n    // Get arguments\n    let objects = arguments;\n\n    // Bail if nothing to merge\n    if (!objects.length) {\n        return;\n    }\n\n    // Return first if specified but nothing to merge\n    if (objects.length === 1) {\n        return objects[0];\n    }\n\n    // First object is the destination\n    let destination = Array.prototype.shift.call(objects),\n        length      = objects.length;\n\n    // Loop through all objects to merge\n    for (let i = 0; i < length; i++) {\n        let source = objects[i];\n\n      for (let property in source) {\n        if (source[property] && \n          source[property].constructor &&\n          source[property].constructor === Object\n        ) {\n          destination[property] = destination[property] || {};\n          this._extend(destination[property], source[property]);\n        } else {\n          destination[property] = source[property];\n        }\n      }\n    }\n\n    return destination;\n  }\n  //remove an element\n  \n  _storageSupport(){\n    if (!('localStorage' in window)) {\n      return false;\n    }\n\n    // Try to use it (it might be disabled, e.g. user is in private/porn mode)\n    // see: https://github.com/Selz/plyr/issues/131\n    try {\n      // Add test item\n      window.localStorage.setItem('___test', 'OK');\n\n      // Get the test item\n      let result = window.localStorage.getItem('___test');\n\n      // Clean up\n      window.localStorage.removeItem('___test');\n\n      // Check if value matches\n      return (result === 'OK');\n    }\n    catch (e) {\n      return false;\n    }\n\n    return false;\n  }\n  \n  _browserSniff(){\n    let ua = navigator.userAgent,\n      name = navigator.appName,\n      fullVersion = '' + parseFloat(navigator.appVersion),\n      majorVersion = parseInt(navigator.appVersion, 10),\n      nameOffset,\n      verOffset,\n      ix,\n      isIE = false,\n      isFirefox = false,\n      isChrome = false,\n      isWechat = false,\n      isSafari = false;\n\n    if ((navigator.appVersion.indexOf('Windows NT') !== -1) && (navigator.appVersion.indexOf('rv:11') !== -1)) {\n      // MSIE 11\n      isIE = true;\n      name = 'IE';\n      fullVersion = '11';\n    } else if ((verOffset = ua.indexOf('MSIE')) !== -1) {\n      // MSIE\n      isIE = true;\n      name = 'IE';\n      fullVersion = ua.substring(verOffset + 5);\n    }else if ((verOffset = ua.indexOf('micromessenger')) !== -1) {\n      // WeChat\n      isWechat = true;\n      name = 'WeChat';\n      fullVersion = ua.substring(verOffset + 15);\n    }else if ((verOffset = ua.indexOf('Chrome')) !== -1) {\n      // Chrome\n      isChrome = true;\n      name = 'Chrome';\n      fullVersion = ua.substring(verOffset + 7);\n    } else if ((verOffset = ua.indexOf('Safari')) !== -1) {\n      // Safari\n      isSafari = true;\n      name = 'Safari';\n      fullVersion = ua.substring(verOffset + 7);\n      if ((verOffset = ua.indexOf('Version')) !== -1) {\n          fullVersion = ua.substring(verOffset + 8);\n      }\n    } else if ((verOffset = ua.indexOf('Firefox')) !== -1) {\n      // Firefox\n      isFirefox = true;\n      name = 'Firefox';\n      fullVersion = ua.substring(verOffset + 8);\n    } else if ((nameOffset = ua.lastIndexOf(' ') + 1) < (verOffset = ua.lastIndexOf('/'))) {\n      // In most other browsers, 'name/version' is at the end of userAgent\n      name = ua.substring(nameOffset,verOffset);\n      fullVersion = ua.substring(verOffset + 1);\n\n      if (name.toLowerCase() === name.toUpperCase()) {\n          name = navigator.appName;\n      }\n    }\n\n    // Trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n\n    // Get major version\n    majorVersion = parseInt('' + fullVersion, 10);\n    if (isNaN(majorVersion)) {\n      fullVersion = '' + parseFloat(navigator.appVersion);\n      majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    // Return data\n    return {\n      name:       name,\n      version:    majorVersion,\n      isIE:       isIE,\n      isFirefox:  isFirefox,\n      isChrome:   isChrome,\n      isSafari:   isSafari,\n      isWechat:   isWechat,\n      isIos:      /(iPad|iPhone|iPod)/g.test(navigator.platform),\n      isIphone:   /(iPhone|iPod)/g.test(navigator.userAgent),\n      isTouch:    'ontouchstart' in document.documentElement\n    };\n  }\n  _is(){\n    return {\n      object: function(input) {\n        return input !== null && typeof(input) === 'object';\n      },\n      array: function(input) {\n        return input !== null && (typeof(input) === 'object' && input.constructor === Array);\n      },\n      number: function(input) {\n        return input !== null && (typeof(input) === 'number' && !isNaN(input - 0) || (typeof input === 'object' && input.constructor === Number));\n      },\n      string: function(input) {\n        return input !== null && (typeof input === 'string' || (typeof input === 'object' && input.constructor === String));\n      },\n      boolean: function(input) {\n        return input !== null && typeof input === 'boolean';\n      },\n      nodeList: function(input) {\n        return input !== null && input instanceof NodeList;\n      },\n      htmlElement: function(input) {\n        return input !== null && input instanceof HTMLElement;\n      },\n      function: function(input) {\n        return input !== null && typeof input === 'function';\n      },\n      undefined: function(input) {\n        return input !== null && typeof input === 'undefined';\n      }\n    }\n  }\n}\nexport default new Utils();","'use strict';\n\nimport utils from './util';\nimport $ from './dom';\nimport {defaultConfig as defaults} from './config';\nimport Event from './event';\nimport Player from './player';\nclass vPlayer {\n  constructor(targets, options){\n    this.TAG = 'VideoPlayer';\n    this._init(targets,options);\n  }\n  _init(targets, options){\n    const _targets = this.__getTargets(targets, options);\n    \n    if (!utils.supported().basic || !_targets.length) {\n      return false;\n    }\n    const players = [],instance = [];\n    const selector = [defaults.selectors.html5].join(',');\n    const _add = (target, media)=>{\n      if (!$.hasClass(media,defaults.classes.hook)){\n        players.push({\n          target:     target,\n          media:      media\n        });\n      }\n    };//end add\n    for (var i = 0; i < _targets.length; i++) {\n      var target = _targets[i];\n\n      // Get children\n      var children = target.querySelectorAll(selector);\n\n      // If there's more than one media element child, wrap them\n      if (children.length) {\n        for (var x = 0; x < children.length; x++) {\n          _add(target, children[x]);\n        }\n      } else if (this.__matches(target, selector)) {\n        // Target is media element\n        _add(target, target);\n      }\n    }// end for\n    console.log('players--->',players);\n    players.forEach((player)=>{\n      const element = player.target;\n      const media = player.media;\n      let match = false;\n      if (media === element) {\n        match = true;\n      }\n      let data = {};\n      try { data = JSON.parse(element.getAttribute('data-vplyr')); }\n      catch(e) { }\n      const config = utils.extend({}, defaults, options, data);\n      if (!config.enabled) {\n        return null;\n      }\n      const instance = new Player(media, config);\n      console.log('instance',instance);\n    })\n  }\n  __matches(element, selector) {\n    var p = Element.prototype;\n\n    var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\n        return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n    };\n\n    return f.call(element, selector);\n  }\n  __getTargets(targets,options){\n    const selector = [defaults.selectors.html5].join(',');\n    if (utils.is.string(targets)) {\n      // String selector passed\n      targets = document.querySelectorAll(targets);\n    } else if(utils.is.htmlElement(targets)){\n      targets = [targets];\n    }else if (!utils.is.nodeList(targets) && !utils.is.array(targets) && !utils.is.string(targets))  {\n      // No selector passed, possibly options as first argument\n      // If options are the first argument\n      if (utils.is.undefined(options) && utils.is.object(targets)) {\n          options = targets;\n      }\n      targets = document.querySelectorAll(selector);\n    }\n    if (utils.is.nodeList(targets)) {\n      targets = Array.prototype.slice.call(targets);\n    }\n    return targets;\n  }\n  \n}\nexport default vPlayer;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RvbS5qcyIsInNyYy9qcy9ldmVudC5qcyIsInNyYy9qcy9pbmRleC5qcyIsInNyYy9qcy9wbGF5ZXIuanMiLCJzcmMvanMvdXRpbC5qcyIsInNyYy9qcy92cGx5ci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O1FDNkZnQixtQixHQUFBLG1COzs7O0FBN0ZULElBQU0sd0NBQWdCO0FBQzNCLGFBQXlCLElBREU7QUFFM0IsV0FBd0IsSUFGRztBQUczQixjQUF3QixLQUhHO0FBSTNCLFVBQXdCLEtBSkc7QUFLM0IsY0FBd0IsRUFMRztBQU0zQixZQUF3QixFQU5HO0FBTzNCLGVBQXdCLENBUEc7QUFRM0IsZUFBd0IsRUFSRztBQVMzQixnQkFBd0IsQ0FURztBQVUzQixjQUF3QixJQVZHO0FBVzNCLHFCQUF3QixJQVhHO0FBWTNCLGdCQUF3QixJQVpHO0FBYTNCLGtCQUF3QixJQWJHO0FBYzNCLGNBQVMscUNBZGtCO0FBZTNCLGNBQXdCLENBQUMsWUFBRCxFQUFlLE1BQWYsRUFBdUIsVUFBdkIsRUFBbUMsTUFBbkMsRUFBMkMsTUFBM0MsRUFBbUQsUUFBbkQsRUFBNkQsVUFBN0QsRUFBeUUsWUFBekUsQ0FmRztBQWdCM0I7QUFDRSxlQUFzQixjQUR4QjtBQUVFLGtCQUFzQiw0Q0FGeEI7QUFHRSxtQkFBc0IsUUFIeEI7QUFJRSxrQkFBVTtBQUNOLHVCQUFrQixJQURaO0FBRU4scUJBQWtCO0FBRlosU0FKWjtBQVFFLGlCQUFTO0FBQ0wsa0JBQWtCLHFCQURiO0FBRUwsa0JBQWtCLHFCQUZiO0FBR0wsbUJBQWtCLHNCQUhiO0FBSUwsa0JBQWtCLHFCQUpiO0FBS0wsd0JBQWtCO0FBTGIsU0FSWDtBQWVFLGdCQUFRO0FBQ0osbUJBQWtCLHVCQURkO0FBRUoscUJBQWtCO0FBRmQsU0FmVjtBQW1CRSxrQkFBVTtBQUNO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QUFULENBQTBCLE9BQTFCLENBQVY7QUFDRCxPQUhELE1BR08sSUFBRyxlQUFNLEVBQU4sQ0FBUyxXQUFULENBQXFCLE9BQXJCLENBQUgsRUFBaUM7QUFDdEMsa0JBQVUsQ0FBQyxPQUFELENBQVY7QUFDRCxPQUZNLE1BRUQsSUFBSSxDQUFDLGVBQU0sRUFBTixDQUFTLFFBQVQsQ0FBa0IsT0FBbEIsQ0FBRCxJQUErQixDQUFDLGVBQU0sRUFBTixDQUFTLEtBQVQsQ0FBZSxPQUFmLENBQWhDLElBQTJELENBQUMsZUFBTSxFQUFOLENBQVMsTUFBVCxDQUFnQixPQUFoQixDQUFoRSxFQUEyRjtBQUMvRjtBQUNBO0FBQ0EsWUFBSSxlQUFNLEVBQU4sQ0FBUyxTQUFULENBQW1CLE9BQW5CLEtBQStCLGVBQU0sRUFBTixDQUFTLE1BQVQsQ0FBZ0IsT0FBaEIsQ0FBbkMsRUFBNkQ7QUFDekQsb0JBQVUsT0FBVjtBQUNIO0FBQ0Qsa0JBQVUsU0FBUyxnQkFBVCxDQUEwQixRQUExQixDQUFWO0FBQ0Q7QUFDRCxVQUFJLGVBQU0sRUFBTixDQUFTLFFBQVQsQ0FBa0IsT0FBbEIsQ0FBSixFQUFnQztBQUM5QixrQkFBVSxNQUFNLFNBQU4sQ0FBZ0IsS0FBaEIsQ0FBc0IsSUFBdEIsQ0FBMkIsT0FBM0IsQ0FBVjtBQUNEO0FBQ0QsYUFBTyxPQUFQO0FBQ0Q7Ozs7OztrQkFHWSxPIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xuICBlbmFibGVkOiAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgZGVidWc6ICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgYXV0b3BsYXk6ICAgICAgICAgICAgICAgZmFsc2UsXG4gIGxvb3A6ICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICBzZWVrVGltZTogICAgICAgICAgICAgICAxMCxcbiAgdm9sdW1lOiAgICAgICAgICAgICAgICAgMTAsXG4gIHZvbHVtZU1pbjogICAgICAgICAgICAgIDAsXG4gIHZvbHVtZU1heDogICAgICAgICAgICAgIDEwLFxuICB2b2x1bWVTdGVwOiAgICAgICAgICAgICAxLFxuICBkdXJhdGlvbjogICAgICAgICAgICAgICBudWxsLFxuICBkaXNwbGF5RHVyYXRpb246ICAgICAgICB0cnVlLFxuICBsb2FkU3ByaXRlOiAgICAgICAgICAgICB0cnVlLFxuICBoaWRlQ29udHJvbHM6ICAgICAgICAgICB0cnVlLFxuICBibGFua1VybDonaHR0cHM6Ly9jZG4uc2Vsei5jb20vcGx5ci9ibGFuay5tcDQnLFxuICBjb250cm9sczogICAgICAgICAgICAgICBbJ3BsYXktbGFyZ2UnLCAncGxheScsICdwcm9ncmVzcycsICd0aW1lJywgJ211dGUnLCAndm9sdW1lJywgJ2NhcHRpb25zJywgJ2Z1bGxzY3JlZW4nXSxcbiAgc2VsZWN0b3JzOiB7XG4gICAgaHRtbDU6ICAgICAgICAgICAgICAgICd2aWRlbywgYXVkaW8nLFxuICAgIGVkaXRhYmxlOiAgICAgICAgICAgICAnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIFtjb250ZW50ZWRpdGFibGVdJyxcbiAgICBjb250YWluZXI6ICAgICAgICAgICAgJy52cGx5cicsXG4gICAgY29udHJvbHM6IHtcbiAgICAgICAgY29udGFpbmVyOiAgICAgICAgbnVsbCxcbiAgICAgICAgd3JhcHBlcjogICAgICAgICAgJy52cGx5ci1jb250cm9scydcbiAgICB9LFxuICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgc2VlazogICAgICAgICAgICAgJ1tkYXRhLXZpZGVvPVwic2Vla1wiXScsXG4gICAgICAgIHBsYXk6ICAgICAgICAgICAgICdbZGF0YS12aWRlbz1cInBsYXlcIl0nLFxuICAgICAgICBwYXVzZTogICAgICAgICAgICAnW2RhdGEtdmlkZW89XCJwYXVzZVwiXScsXG4gICAgICAgIG11dGU6ICAgICAgICAgICAgICdbZGF0YS12aWRlbz1cIm11dGVcIl0nLFxuICAgICAgICBmdWxsc2NyZWVuOiAgICAgICAnW2RhdGEtdmlkZW89XCJmdWxsc2NyZWVuXCJdJ1xuICAgIH0sXG4gICAgdm9sdW1lOiB7XG4gICAgICAgIGlucHV0OiAgICAgICAgICAgICdbZGF0YS12aWRlbz1cInZvbHVtZVwiXScsXG4gICAgICAgIGRpc3BsYXk6ICAgICAgICAgICcudnBseXItdm9sdW1lLWRpc3BsYXknXG4gICAgfSxcbiAgICBwcm9ncmVzczoge1xuICAgICAgICBjb250YWluZXI6ICAgICAgICAnLnZwbHlyLXByb2dyZXNzLWJhci1jb250YWluZXInLFxuICAgICAgICBidWZmZXI6ICAgICAgICAgICAnLnZwbHlyLXByb2dyZXNzLWJ1ZmZlcicsXG4gICAgICAgIHBsYXllZDogICAgICAgICAgICcudnBseXItcHJvZ3Jlc3MtcGxheWVkJ1xuICAgIH0sXG4gICAgdm9sdW1lOiB7XG4gICAgICAgIGlucHV0OiAgICAgICAgICAnW2RhdGEtdmlkZW89XCJ2b2x1bWVcIl0nLFxuICAgICAgICBkaXNwbGF5OiAgICAgICAgJy52cGx5ci12b2x1bWUtZGlzcGxheSdcbiAgICB9LFxuICAgIGN1cnJlbnRUaW1lOiAgICAgICAgICAnLmNvbnRyb2wtY3VycmVudHRpbWUnLFxuICAgIGR1cmF0aW9uOiAgICAgICAgICAgICAnLmNvbnRyb2wtZHVyYXRpb24nXG4gICAgfSxcblxuICAvLyBDdXN0b20gY29udHJvbCBsaXN0ZW5lcnNcbiAgbGlzdGVuZXJzOiB7XG4gICAgICBzZWVrOiAgICAgICAgICAgICAgIG51bGwsXG4gICAgICBwbGF5OiAgICAgICAgICAgICAgIG51bGwsXG4gICAgICBwYXVzZTogICAgICAgICAgICAgIG51bGwsXG4gICAgICByZXN0YXJ0OiAgICAgICAgICAgIG51bGwsXG4gICAgICByZXdpbmQ6ICAgICAgICAgICAgIG51bGwsXG4gICAgICBmb3J3YXJkOiAgICAgICAgICAgIG51bGwsXG4gICAgICBtdXRlOiAgICAgICAgICAgICAgIG51bGwsXG4gICAgICB2b2x1bWU6ICAgICAgICAgICAgIG51bGwsXG4gICAgICBjYXB0aW9uczogICAgICAgICAgIG51bGwsXG4gICAgICBmdWxsc2NyZWVuOiAgICAgICAgIG51bGxcbiAgfSxcbiAgc3RvcmFnZToge1xuICAgIGVuYWJsZWQ6ICAgICAgICAgICAgdHJ1ZSxcbiAgICBrZXk6ICAgICAgICAgICAgICAgICd2cGx5cidcbiAgfSxcbiAgdHlwZXM6IHtcbiAgICBodG1sNTogICAgICAgICAgICAgIFsndmlkZW8nXVxuICB9LFxuICBjbGFzc2VzOntcbiAgICBzZXR1cDogICAgICAgICAgICAgICd2cGx5ci1zZXR1cCcsXG4gICAgcmVhZHk6ICAgICAgICAgICAgICAndnBseXItcmVhZHknLFxuICAgIG11dGVkOiAgICAgICAgICAgICAgJ3ZwbHlyLW11dGVkJyxcbiAgICB0eXBlOiAgICAgICAgICAgICAgICd2cGx5ci17MH0nLFxuICAgIHZpZGVvV3JhcHBlcjondnBseXItdmlkZW8tY29udGFpbmVyJyxcbiAgICBwbGF5aW5nOid2cGx5ci1wbHlpbmcnLFxuICAgIGxvYWRpbmc6ICAgICAgICAgICAgJ3ZwbHlyLWxvYWRpbmcnLFxuICAgIGhvdmVyOiAgICAgICAgICAgICAgJ3ZwbHlyLWhvdmVyJyxcbiAgICBzdG9wcGVkOid2cGx5ci1zdG9wcGVkJyxcbiAgICBpc0lvczogICAgICAgICAgICAgICd2cGx5ci0taXMtaW9zJyxcbiAgICBpc1RvdWNoOiAgICAgICAgICAgICd2cGx5ci0taXMtdG91Y2gnLFxuICAgIGlzV2VjaGF0OiAgICAgICAgICAgJ3ZwbHlyLS1pcy13ZWNoYXQnLFxuICAgIGlzQ2hyb21lOiAgICAgICAgICAgJ3ZwbHlyLS1pcy1jaHJvbWUnLFxuICAgIHRhYkZvY3VzOiAgICAgICAgICAgJ3RhYi1mb2N1cycsXG4gICAgaGlkZUNvbnRyb2xzOiAgICAgICAndnBseXItaGlkZS1jb250cm9scycsXG4gICAgZnVsbHNjcmVlbjoge1xuICAgICAgICBlbmFibGVkOiAgICAgICAgJ3ZwbHlyLWZ1bGxzY3JlZW4tZW5hYmxlZCcsXG4gICAgICAgIGFjdGl2ZTogICAgICAgICAndnBseXItZnVsbHNjcmVlbi1hY3RpdmUnXG4gICAgfSxcbiAgfSxcbiAgZXZlbnRzOiAgICAgICAgICAgICAgICAgWydyZWFkeScsICdlbmRlZCcsICdwcm9ncmVzcycsICdzdGFsbGVkJywgJ3BsYXlpbmcnLCAnd2FpdGluZycsICdjYW5wbGF5JywgJ2NhbnBsYXl0aHJvdWdoJywgJ2xvYWRzdGFydCcsICdsb2FkZWRkYXRhJywgJ2xvYWRlZG1ldGFkYXRhJywgJ3RpbWV1cGRhdGUnLCAndm9sdW1lY2hhbmdlJywgJ3BsYXknLCAncGF1c2UnLCAnZXJyb3InLCAnc2Vla2luZycsICdzZWVrZWQnLCAnZW1wdGllZCddLFxuICAvLyBMb2dnaW5nXG4gIGxvZ1ByZWZpeDogICAgICAgICAgICAgICdbVlBseXJdJ1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRDb25maWcoKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q29uZmlnKTtcbn0iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlsJztcblxuY2xhc3MgRG9tIHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLnRvZ2dsZUNsYXNzICA9IHRoaXMuX3RvZ2dsZUNsYXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW1vdmVFbGVtZW50ICA9IHRoaXMuX3JlbW92ZUVsZW1lbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhc0NsYXNzID0gdGhpcy5faGFzQ2xhc3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluamVjdFNjcmlwdCA9IHRoaXMuX2luamVjdFNjcmlwdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJlcGVuZENoaWxkID0gdGhpcy5fcHJlcGVuZENoaWxkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVzID0gdGhpcy5fc2V0QXR0cmlidXRlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW5zZXJ0RWxlbWVudD0gdGhpcy5faW5zZXJ0RWxlbWVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0Q2xhc3NuYW1lPSB0aGlzLl9nZXRDbGFzc25hbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZ1bGxzY3JlZW49IHRoaXMuX2Z1bGxzY3JlZW4uYmluZCh0aGlzKTtcbiAgICBcbiAgfVxuICBfZ2V0Q2xhc3NuYW1lKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoJy4nLCAnJyk7XG4gIH1cbiAgX2luc2VydEVsZW1lbnQodHlwZSwgcGFyZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IDxlbGVtZW50PlxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgIC8vIFNldCBhbGwgcGFzc2VkIGF0dHJpYnV0ZXNcbiAgICBfc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgIC8vIEluamVjdCB0aGUgbmV3IGVsZW1lbnRcbiAgICBfcHJlcGVuZENoaWxkKHBhcmVudCwgZWxlbWVudCk7XG4gIH1cbiAgX3NldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIChfaXMuYm9vbGVhbihhdHRyaWJ1dGVzW2tleV0pICYmIGF0dHJpYnV0ZXNba2V5XSkgPyAnJyA6IGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfVxuICB9XG4gIF9wcmVwZW5kQ2hpbGQocGFyZW50LCBlbGVtZW50KSB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH1cbiAgX2luamVjdFNjcmlwdChzb3VyY2UpIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3NyYz1cIicgKyBzb3VyY2UgKyAnXCJdJykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgdGFnLnNyYyA9IHNvdXJjZTtcbiAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gIH1cbiAgX2hhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhcXFxcc3xeKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzfCQpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBfcmVtb3ZlRWxlbWVudChlbGVtZW50KXtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbiAgLy8gVG9nZ2xlIGNsYXNzIG9uIGFuIGVsZW1lbnRcbiAgX3RvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSwgc3RhdGUpe1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3Rbc3RhdGUgPyAnYWRkJyA6ICdyZW1vdmUnXShjbGFzc05hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5hbWUgPSAoJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKCcgJyArIGNsYXNzTmFtZSArICcgJywgJycpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5hbWUgKyAoc3RhdGUgPyAnICcgKyBjbGFzc05hbWUgOiAnJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9mdWxsc2NyZWVuKCkge1xuICAgIHZhciBmdWxsc2NyZWVuID0ge1xuICAgICAgICAgICAgc3VwcG9ydHNGdWxsU2NyZWVuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbjogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgIHJlcXVlc3RGdWxsU2NyZWVuOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgY2FuY2VsRnVsbFNjcmVlbjogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgIGZ1bGxTY3JlZW5FdmVudE5hbWU6ICcnLFxuICAgICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIHByZWZpeDogJydcbiAgICAgICAgfSxcbiAgICAgICAgYnJvd3NlclByZWZpeGVzID0gJ3dlYmtpdCBvIG1veiBtcyBraHRtbCcuc3BsaXQoJyAnKTtcblxuICAgIC8vIENoZWNrIGZvciBuYXRpdmUgc3VwcG9ydFxuICAgIGlmICghdXRpbHMuaXMudW5kZWZpbmVkKGRvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW4pKSB7XG4gICAgICAgIGZ1bGxzY3JlZW4uc3VwcG9ydHNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2hlY2sgZm9yIGZ1bGxzY3JlZW4gc3VwcG9ydCBieSB2ZW5kb3IgcHJlZml4XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBicm93c2VyUHJlZml4ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKyApIHtcbiAgICAgICAgZnVsbHNjcmVlbi5wcmVmaXggPSBicm93c2VyUHJlZml4ZXNbaV07XG5cbiAgICAgICAgaWYgKCF1dGlscy5pcy51bmRlZmluZWQoZG9jdW1lbnRbZnVsbHNjcmVlbi5wcmVmaXggKyAnQ2FuY2VsRnVsbFNjcmVlbiddKSkge1xuICAgICAgICAgIGZ1bGxzY3JlZW4uc3VwcG9ydHNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmICghdXRpbHMuaXMudW5kZWZpbmVkKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pICYmIGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVuYWJsZWQpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIE1TICh3aGVuIGlzbid0IGl0PylcbiAgICAgICAgICBmdWxsc2NyZWVuLnByZWZpeCA9ICdtcyc7XG4gICAgICAgICAgZnVsbHNjcmVlbi5zdXBwb3J0c0Z1bGxTY3JlZW4gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIG1ldGhvZHMgdG8gZG8gc29tZXRoaW5nIHVzZWZ1bFxuICAgIGlmIChmdWxsc2NyZWVuLnN1cHBvcnRzRnVsbFNjcmVlbikge1xuICAgICAgLy8gWWV0IGFnYWluIE1pY3Jvc29mdCBhd2Vzb21lbmVzcyxcbiAgICAgIC8vIFNvbWV0aW1lcyB0aGUgcHJlZml4IGlzICdtcycsIHNvbWV0aW1lcyAnTVMnIHRvIGtlZXAgeW91IG9uIHlvdXIgdG9lc1xuICAgICAgZnVsbHNjcmVlbi5mdWxsU2NyZWVuRXZlbnROYW1lID0gKGZ1bGxzY3JlZW4ucHJlZml4ID09PSAnbXMnID8gJ01TRnVsbHNjcmVlbkNoYW5nZScgOiBmdWxsc2NyZWVuLnByZWZpeCArICdmdWxsc2NyZWVuY2hhbmdlJyk7XG5cbiAgICAgIGZ1bGxzY3JlZW4uaXNGdWxsU2NyZWVuID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBpZiAodXRpbHMuaXMudW5kZWZpbmVkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJlZml4KSB7XG4gICAgICAgICAgY2FzZSAnJzpcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudDtcbiAgICAgICAgICBjYXNlICdtb3onOlxuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50ID09PSBlbGVtZW50O1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnRbdGhpcy5wcmVmaXggKyAnRnVsbHNjcmVlbkVsZW1lbnQnXSA9PT0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZ1bGxzY3JlZW4ucmVxdWVzdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGlmICh1dGlscy5pcy51bmRlZmluZWQoZWxlbWVudCkpIHtcbiAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMucHJlZml4ID09PSAnJykgPyBlbGVtZW50LnJlcXVlc3RGdWxsU2NyZWVuKCkgOiBlbGVtZW50W3RoaXMucHJlZml4ICsgKHRoaXMucHJlZml4ID09PSAnbXMnID8gJ1JlcXVlc3RGdWxsc2NyZWVuJyA6ICdSZXF1ZXN0RnVsbFNjcmVlbicpXSgpO1xuICAgICAgfTtcbiAgICAgIGZ1bGxzY3JlZW4uY2FuY2VsRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMucHJlZml4ID09PSAnJykgPyBkb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuKCkgOiBkb2N1bWVudFt0aGlzLnByZWZpeCArICh0aGlzLnByZWZpeCA9PT0gJ21zJyA/ICdFeGl0RnVsbHNjcmVlbicgOiAnQ2FuY2VsRnVsbFNjcmVlbicpXSgpO1xuICAgICAgfTtcbiAgICAgIGZ1bGxzY3JlZW4uZWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMucHJlZml4ID09PSAnJykgPyBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA6IGRvY3VtZW50W3RoaXMucHJlZml4ICsgJ0Z1bGxzY3JlZW5FbGVtZW50J107XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdWxsc2NyZWVuO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgRG9tKCk7XG4iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlsJztcblxuY2xhc3MgRXZlbnR7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5vbkV2ZW50ID0gdGhpcy5fb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmN1c3RvbUV2ZW50ID0gdGhpcy5fZXZlbnQuYmluZCh0aGlzKTtcbiAgfVxuICBfZXZlbnQoZWxlbWVudCwgdHlwZSwgYnViYmxlcywgcHJvcGVydGllcykge1xuICAgIC8vIEJhaWwgaWYgbm8gZWxlbWVudFxuICAgIGlmICghZWxlbWVudCB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBidWJibGVzIHRvIGZhbHNlXG4gICAgaWYgKCF1dGlscy5pcy5ib29sZWFuKGJ1YmJsZXMpKSB7XG4gICAgICAgIGJ1YmJsZXMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYW5kIGRpc3BhdGNoIHRoZSBldmVudFxuICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7XG4gICAgICAgIGJ1YmJsZXM6ICAgIGJ1YmJsZXMsXG4gICAgICAgIGRldGFpbDogICAgIHByb3BlcnRpZXNcbiAgICB9KTtcblxuICAgIC8vIERpc3BhdGNoIHRoZSBldmVudFxuICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cbiAgX29uKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdGhpcy5fdG9nZ2xlTGlzdGVuZXIoZWxlbWVudCwgZXZlbnRzLCBjYWxsYmFjaywgdHJ1ZSwgdXNlQ2FwdHVyZSk7XG4gICAgfVxuICB9XG5cbiAgX3RvZ2dsZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHRvZ2dsZSwgdXNlQ2FwdHVyZSkge1xuICAgIHZhciBldmVudExpc3QgPSBldmVudHMuc3BsaXQoJyAnKTtcbiAgICAvLyBXaGV0aGVyIHRoZSBsaXN0ZW5lciBpcyBhIGNhcHR1cmluZyBsaXN0ZW5lciBvciBub3RcbiAgICAvLyBEZWZhdWx0IHRvIGZhbHNlXG4gICAgaWYgKCF1dGlscy5pcy5ib29sZWFuKHVzZUNhcHR1cmUpKSB7XG4gICAgICB1c2VDYXB0dXJlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBub2RlbGlzdCBpcyBwYXNzZWQsIGNhbGwgaXRzZWxmIG9uIGVhY2ggbm9kZVxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcbiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZWxlbWVudC5sZW5ndGg7IHgrKykge1xuICAgICAgICBpZiAoZWxlbWVudFt4XSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICB0aGlzLl90b2dnbGVMaXN0ZW5lcihlbGVtZW50W3hdLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIGEgc2luZ2xlIG5vZGUgaXMgcGFzc2VkLCBiaW5kIHRoZSBldmVudCBsaXN0ZW5lclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBlbGVtZW50W3RvZ2dsZSA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJ10oZXZlbnRMaXN0W2ldLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSk7XG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgRXZlbnQoKTsiLCJpbXBvcnQgdlBsYXllciBmcm9tICcuL3ZwbHlyLmpzJztcblxuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIC8qZ2xvYmFsIGRlZmluZSxtb2R1bGUqL1xuXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZSwgQ29tbW9uSlMtbGlrZVxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnkocm9vdCwgZG9jdW1lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRFxuICAgICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhY3Rvcnkocm9vdCwgZG9jdW1lbnQpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgICByb290LnZwbHlyID0gZmFjdG9yeShyb290LCBkb2N1bWVudCk7XG4gICAgfVxufSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgd2luZG93LnZQbGF5ZXIgPSB2UGxheWVyO1xufSkpIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlsJztcbmltcG9ydCAkIGZyb20gJy4vZG9tJztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50JztcbmxldCBfbG9nICwgX3dhcm4sZnVsbHNjcmVlbjtcbmltcG9ydCB7ZGVmYXVsdENvbmZpZyBhcyBkZWZhdWx0c30gZnJvbSAnLi9jb25maWcnO1xuXG5jbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihtZWRpYSwgY29uZmlnKXtcbiAgICByZXR1cm4gdGhpcy5faW5pdChtZWRpYSwgY29uZmlnKTtcbiAgfVxuICBfaW5pdChtZWRpYSwgY29uZmlnKXtcbiAgICBjb25zdCB2ayA9IHRoaXM7XG4gICAgY29uc3QgdGltZXJzID0ge307XG4gICAgbGV0IGFwaSA9IHt9O1xuICAgIHZrLm1lZGlhID0gbWVkaWE7XG4gICAgbGV0IG9yaWdpbmFsID0gbWVkaWEuY2xvbmVOb2RlKHRydWUpO1xuICAgIGZ1bGxzY3JlZW4gPSAkLmZ1bGxzY3JlZW4oKTtcbiAgICBjb25zdCBfY29uc29sZSA9ICh0eXBlLGFyZ3MpPT57XG4gICAgICBpZiAoY29uZmlnLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKTtcblxuICAgICAgICBpZiAodXRpbHMuaXMuc3RyaW5nKGNvbmZpZy5sb2dQcmVmaXgpICYmIGNvbmZpZy5sb2dQcmVmaXgubGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy51bnNoaWZ0KGNvbmZpZy5sb2dQcmVmaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZVt0eXBlXS5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF9sb2cgPSBmdW5jdGlvbigpIHsgX2NvbnNvbGUoJ2xvZycsIGFyZ3VtZW50cykgfTtcbiAgICBfd2FybiA9IGZ1bmN0aW9uKCkgeyBfY29uc29sZSgnd2FybicsIGFyZ3VtZW50cykgfTtcbiAgICBfbG9nKCdDb25maWcnLCBjb25maWcpO1xuICAgIHZrLmNvbmZpZyA9IGNvbmZpZztcbiAgICB2ay50aW1lcnMgPSB0aW1lcnM7XG4gICAgYXBpID0ge1xuICAgICAgaXNGdWxsc2NyZWVuOigpPT57cmV0dXJuIHRoaXMuaXNGdWxsU2NyZWVuIHx8IGZhbHNlfSxcbiAgICAgIGdldFZvbHVtZTooKT0+e3JldHVybiB0aGlzLm1lZGlhLnZvbHVtZX0sXG4gICAgICBpc011dGVkOiAgKCkgPT57IHJldHVybiB0aGlzLm1lZGlhLm11dGVkOyB9LFxuICAgICAgaXNSZWFkeTogICgpID0+eyByZXR1cm4gJC5oYXNDbGFzcyh0aGlzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3Nlcy5yZWFkeSk7IH0sXG4gICAgICBpc0xvYWRpbmc6KCk9PiB7IHJldHVybiAkLmhhc0NsYXNzKHRoaXMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc2VzLmxvYWRpbmcpOyB9LFxuICAgICAgaXNQYXVzZWQ6ICgpID0+eyByZXR1cm4gdGhpcy5tZWRpYS5wYXVzZWQ7IH0sXG4gICAgICBzdG9wOiAgKCk9PnsgdGhpcy5fcGF1c2UoKTsgdGhpcy5fc2VlaygpOyB9LFxuICAgICAgZ2V0VHlwZTogKCk9PnRoaXMudHlwZSxcbiAgICAgIGdldEN1cnJlbnRUaW1lOiAoKT0+dGhpcy5tZWRpYS5jdXJyZW50VGltZSxcbiAgICAgIGdldENvbnRhaW5lcjooKT0+dGhpcy5jb250YWluZXIsXG4gICAgICBzZXRWb2x1bWU6IHRoaXMuX3NldFZvbHVtZSxcbiAgICAgIHRvZ2dsZVBsYXk6IHRoaXMuX3RvZ2dsZVBsYXksXG4gICAgICB0b2dnbGVNdXRlOiB0aGlzLl90b2dnbGVNdXRlLFxuICAgICAgdG9nZ2xlRnVsbHNjcmVlbjogdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbixcbiAgICAgIHRvZ2dsZUNvbnRyb2xzOiB0aGlzLl90b2dnbGVDb250cm9scyxcbiAgICAgIHBsYXk6IHRoaXMuX3BsYXksXG4gICAgICBwYXVzZTogdGhpcy5fcGF1c2UsXG4gICAgICBnZXREdXJhdGlvbjp0aGlzLl9nZXREdXJhdGlvbixcbiAgICAgIHNlZWs6dGhpcy5fc2VlayxcbiAgICB9XG4gICAgdmsuYXBpID0gYXBpO1xuICAgIFxuICAgIHRoaXMuX3NldHVwKHZrLGNvbmZpZyk7XG4gICAgX2xvZygncGxheWVyJywgdmspO1xuICAgIGlmICghdmsuaW5pdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBhcGk7XG4gIH1cblxuICBfc2V0dXAocGxheWVyLGNvbmZpZyl7XG4gICAgaWYgKHBsYXllci5pbml0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcGxheWVyLmJyb3dzZXIgPSB1dGlscy5icm93c2VyU25pZmY7XG4gICAgaWYgKCF1dGlscy5pcy5odG1sRWxlbWVudChwbGF5ZXIubWVkaWEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3NldHVwU3RvcmFnZSgpO1xuICAgIGNvbnN0IHRhZ05hbWUgPSBwbGF5ZXIubWVkaWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHBsYXllci50eXBlICAgICAgICAgPSB0YWdOYW1lO1xuICAgIGNvbmZpZy5jcm9zc29yaWdpbiAgPSAocGxheWVyLm1lZGlhLmdldEF0dHJpYnV0ZSgnY3Jvc3NvcmlnaW4nKSAhPT0gbnVsbCk7XG4gICAgY29uZmlnLmF1dG9wbGF5ICAgICA9IChjb25maWcuYXV0b3BsYXkgfHwgKHBsYXllci5tZWRpYS5nZXRBdHRyaWJ1dGUoJ2F1dG9wbGF5JykgIT09IG51bGwpKTtcbiAgICBjb25maWcubG9vcCAgICAgICAgID0gKGNvbmZpZy5sb29wIHx8IChwbGF5ZXIubWVkaWEuZ2V0QXR0cmlidXRlKCdsb29wJykgIT09IG51bGwpKTtcbiAgICBwbGF5ZXIuc3VwcG9ydGVkID0gdXRpbHMuc3VwcG9ydGVkKHBsYXllci50eXBlKTtcbiAgICBpZiAoIXBsYXllci5zdXBwb3J0ZWQuYmFzaWMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGxheWVyLmNvbnRhaW5lciA9IHRoaXMuX3dyYXAocGxheWVyLm1lZGlhLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgcGxheWVyLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgdGhpcy5fdG9nZ2xlU3R5bGVIb29rKHBsYXllcixjb25maWcpO1xuICAgIF9sb2coJycgKyBwbGF5ZXIuYnJvd3Nlci5uYW1lICsgJyAnICsgcGxheWVyLmJyb3dzZXIudmVyc2lvbik7XG4gICAgdGhpcy5fc2V0dXBNZWRpYShwbGF5ZXIsY29uZmlnKTtcbiAgICBpZih1dGlscy5pbkFycmF5KGNvbmZpZy50eXBlcy5odG1sNSxwbGF5ZXIudHlwZSkpe1xuICAgICAgLy8gU2V0dXAgVUlcbiAgICAgIHRoaXMuX3NldHVwSW50ZXJmYWNlKHBsYXllcixjb25maWcpO1xuXG4gICAgICB0aGlzLl9yZWFkeSgpO1xuICAgIH1cbiAgICB0aGlzLmluaXQgPSB0cnVlO1xuICB9XG4gIF9yZWFkeSgpIHtcbiAgICAvLyBSZWFkeSBldmVudCBhdCBlbmQgb2YgZXhlY3V0aW9uIHN0YWNrXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCk9PiB7XG4gICAgICB0aGlzLl90cmlnZ2VyRXZlbnQodGhpcy5tZWRpYSwgJ3JlYWR5Jyk7XG4gICAgfSwgMCk7XG5cbiAgICAvLyBTZXQgY2xhc3MgaG9vayBvbiBtZWRpYSBlbGVtZW50XG4gICAgJC50b2dnbGVDbGFzcyh0aGlzLm1lZGlhLCBkZWZhdWx0cy5jbGFzc2VzLnNldHVwLCB0cnVlKTtcblxuICAgIC8vIFNldCBjb250YWluZXIgY2xhc3MgZm9yIHJlYWR5XG4gICAgJC50b2dnbGVDbGFzcyh0aGlzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3Nlcy5yZWFkeSwgdHJ1ZSk7XG5cbiAgICAvLyBTdG9yZSBhIHJlZmVybmNlIHRvIGluc3RhbmNlXG4gICAgdGhpcy5tZWRpYS52cGx5ciA9IHRoaXMuYXBpO1xuXG4gICAgLy8gQXV0b3BsYXlcbiAgICBpZiAodGhpcy5jb25maWcuYXV0b3BsYXkpIHtcbiAgICAgIHRoaXMuX3BsYXkoKTtcbiAgICB9XG4gIH1cbiAgX3NldHVwSW50ZXJmYWNlKHBsYXllcixjb25maWcpe1xuICAgIGNvbnN0IF9nZXRFbGVtZW50cyA9IChzZWxlY3Rvcik9PiB7XG4gICAgICByZXR1cm4gcGxheWVyLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgY29uc3QgX2dldEVsZW1lbnQ9KHNlbGVjdG9yKT0+IHtcbiAgICAgIHJldHVybiBfZ2V0RWxlbWVudHMoc2VsZWN0b3IpWzBdO1xuICAgIH1cbiAgICBpZiAoIXBsYXllci5zdXBwb3J0ZWQuZnVsbCkge1xuICAgICAgX3dhcm4oJ0Jhc2ljIHN1cHBvcnQgb25seScsIHBsYXllci50eXBlKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGNvbnRyb2xzXG4gICAgICAkLnJlbW92ZUVsZW1lbnQoX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy53cmFwcGVyKSk7XG4gICAgICAvLyByZXNldCBuYXRpdmUgY29udHJvbHNcbiAgICAgIHRoaXMuX3RvZ2dsZU5hdGl2ZUNvbnRyb2xzKHRydWUscGxheWVyLGNvbmZpZyk7XG4gICAgICAvLyBCYWlsXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xzTWlzc2luZyA9ICFfZ2V0RWxlbWVudHMoY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy53cmFwcGVyKS5sZW5ndGg7XG4gICAgaWYgKGNvbnRyb2xzTWlzc2luZykge1xuICAgICAgLy8gSW5qZWN0IGN1c3RvbSBjb250cm9sc1xuICAgICAgdGhpcy5faW5qZWN0Q29udHJvbHMocGxheWVyLGNvbmZpZyk7XG4gICAgfVxuICAgIC8vIEZpbmQgdGhlIGVsZW1lbnRzXG4gICAgaWYgKCF0aGlzLl9maW5kRWxlbWVudHMocGxheWVyLGNvbmZpZykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNvbnRyb2xzTWlzc2luZykge1xuICAgICAgdGhpcy5fY29udHJvbExpc3RlbmVycyhwbGF5ZXIsY29uZmlnKTtcbiAgICB9XG4gICAgdGhpcy5fbWVkaWFMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl90b2dnbGVOYXRpdmVDb250cm9scyh0cnVlLHRoaXMsdGhpcy5jb25maWcpO1xuICAgIHRoaXMuX3RpbWVVcGRhdGUoKTtcbiAgICAvLyBTZXQgdm9sdW1lXG4gICAgdGhpcy5fc2V0Vm9sdW1lKCk7XG5cbiAgICB0aGlzLl91cGRhdGVWb2x1bWUoKTtcblxuICAgIHRoaXMuX2NoZWNrUGxheWluZygpO1xuICB9XG4gIF9zZXR1cFN0b3JhZ2UoKSB7XG4gICAgdmFyIHZhbHVlID0gbnVsbDtcbiAgICB0aGlzLnN0b3JhZ2UgPSB7fTtcblxuICAgIC8vIEJhaWwgaWYgd2UgZG9uJ3QgaGF2ZSBsb2NhbFN0b3JhZ2Ugc3VwcG9ydCBvciBpdCdzIGRpc2FibGVkXG4gICAgaWYgKCF1dGlscy5zdG9yYWdlU3VwcG9ydCB8fCAhdGhpcy5jb25maWcuc3RvcmFnZS5lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndnBseXItdm9sdW1lJyk7XG5cbiAgICAvLyBsb2FkIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQga2V5XG4gICAgdmFsdWUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5jb25maWcuc3RvcmFnZS5rZXkpO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAvLyBLZXkgd2Fzbid0IHNldCAob3IgaGFkIGJlZW4gY2xlYXJlZCksIG1vdmUgYWxvbmdcbiAgICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoL15cXGQrKFxcLlxcZCspPyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAvLyBJZiB2YWx1ZSBpcyBhIG51bWJlciwgaXQncyBwcm9iYWJseSB2b2x1bWUgZnJvbSBhbiBvbGRlclxuICAgICAgLy8gdmVyc2lvbiBvZiBwbHlyLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9TZWx6L3BseXIvcHVsbC8zMTNcbiAgICAgIC8vIFVwZGF0ZSB0aGUga2V5IHRvIGJlIEpTT05cbiAgICAgIHRoaXMuX3VwZGF0ZVN0b3JhZ2Uoe3ZvbHVtZTogcGFyc2VGbG9hdCh2YWx1ZSl9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBc3N1bWUgaXQncyBKU09OIGZyb20gdGhpcyBvciBhIGxhdGVyIHZlcnNpb24gb2YgcGx5clxuICAgICAgdGhpcy5zdG9yYWdlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIF90cmlnZ2VyRXZlbnQoZWxlbWVudCwgdHlwZSwgYnViYmxlcywgcHJvcGVydGllcykge1xuICAgIEV2ZW50LmN1c3RvbUV2ZW50KGVsZW1lbnQsIHR5cGUsIGJ1YmJsZXMsIHV0aWxzLmV4dGVuZCh7fSwgcHJvcGVydGllcywge1xuICAgICAgdnBseXI6IHRoaXNcbiAgICB9KSk7XG4gIH1cbiAgX2dldER1cmF0aW9uKCkge1xuICAgIC8vIEl0IHNob3VsZCBiZSBhIG51bWJlciwgYnV0IHBhcnNlIGl0IGp1c3QgaW5jYXNlXG4gICAgdmFyIGR1cmF0aW9uID0gcGFyc2VJbnQodGhpcy5jb25maWcuZHVyYXRpb24pLFxuXG4gICAgLy8gVHJ1ZSBkdXJhdGlvblxuICAgIG1lZGlhRHVyYXRpb24gPSAwO1xuXG4gICAgLy8gT25seSBpZiBkdXJhdGlvbiBhdmFpbGFibGVcbiAgICBpZiAodGhpcy5tZWRpYS5kdXJhdGlvbiAhPT0gbnVsbCAmJiAhaXNOYU4odGhpcy5tZWRpYS5kdXJhdGlvbikpIHtcbiAgICAgIG1lZGlhRHVyYXRpb24gPSB0aGlzLm1lZGlhLmR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIElmIGN1c3RvbSBkdXJhdGlvbiBpcyBmdW5reSwgdXNlIHJlZ3VsYXIgZHVyYXRpb25cbiAgICByZXR1cm4gKGlzTmFOKGR1cmF0aW9uKSA/IG1lZGlhRHVyYXRpb24gOiBkdXJhdGlvbik7XG4gIH1cbiAgX3NlZWsoaW5wdXQpe1xuICAgIF9sb2codGhpcyk7XG4gICAgbGV0IHRhcmdldFRpbWUgID0gMCxcbiAgICAgICAgcGF1c2VkICAgICAgPSB0aGlzLm1lZGlhLnBhdXNlZCxcbiAgICAgICAgZHVyYXRpb24gICAgPSB0aGlzLl9nZXREdXJhdGlvbigpO1xuXG4gICAgaWYgKHV0aWxzLmlzLm51bWJlcihpbnB1dCkpIHtcbiAgICAgIHRhcmdldFRpbWUgPSBpbnB1dDtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzLm9iamVjdChpbnB1dCkgJiYgdXRpbHMuaW5BcnJheShbJ2lucHV0JywgJ2NoYW5nZSddLCBpbnB1dC50eXBlKSkge1xuICAgICAgLy8gSXQncyB0aGUgc2VlayBzbGlkZXJcbiAgICAgIC8vIFNlZWsgdG8gdGhlIHNlbGVjdGVkIHRpbWVcbiAgICAgIHRhcmdldFRpbWUgPSAoKGlucHV0LnRhcmdldC52YWx1ZSAvIGlucHV0LnRhcmdldC5tYXgpICogZHVyYXRpb24pO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0VGltZSA8IDApIHtcbiAgICAgIHRhcmdldFRpbWUgPSAwO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0VGltZSA+IGR1cmF0aW9uKSB7XG4gICAgICB0YXJnZXRUaW1lID0gZHVyYXRpb247XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVNlZWtEaXNwbGF5KHRhcmdldFRpbWUpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lID0gdGFyZ2V0VGltZS50b0ZpeGVkKDQpO1xuICAgIH1cbiAgICBjYXRjaChlKSB7fVxuICAgIC8vIExvZ2dpbmdcbiAgICBfbG9nKCdTZWVraW5nIHRvICcgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lICsgJyBzZWNvbmRzJyk7XG4gIH1cbiAgX3BsYXkoKSB7XG4gICAgaWYgKCdwbGF5JyBpbiB0aGlzLm1lZGlhKSB7XG4gICAgICB0aGlzLm1lZGlhLnBsYXkoKTtcbiAgICB9XG4gIH1cbiAgX3BhdXNlKCkge1xuICAgIGlmICgncGF1c2UnIGluIHRoaXMubWVkaWEpIHtcbiAgICAgIHRoaXMubWVkaWEucGF1c2UoKTtcbiAgICB9XG4gIH1cbiAgX3RvZ2dsZVBsYXkodG9nZ2xlKSB7XG4gICAgLy8gVHJ1ZSB0b2dnbGVcbiAgICBpZiAoIXV0aWxzLmlzLmJvb2xlYW4odG9nZ2xlKSkge1xuICAgICAgdG9nZ2xlID0gdGhpcy5tZWRpYS5wYXVzZWQ7XG4gICAgfVxuXG4gICAgaWYgKHRvZ2dsZSkge1xuICAgICAgdGhpcy5fcGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wYXVzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdG9nZ2xlO1xuICB9XG4gIF9nZXRQZXJjZW50YWdlKGN1cnJlbnQsIG1heCkge1xuICAgIGlmIChjdXJyZW50ID09PSAwIHx8IG1heCA9PT0gMCB8fCBpc05hTihjdXJyZW50KSB8fCBpc05hTihtYXgpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gKChjdXJyZW50IC8gbWF4KSAqIDEwMCkudG9GaXhlZCgyKTtcbiAgfVxuICBfdXBkYXRlU2Vla0Rpc3BsYXkodGltZSkge1xuICAgIC8vIERlZmF1bHQgdG8gMFxuICAgIGlmICghdXRpbHMuaXMubnVtYmVyKHRpbWUpKSB7XG4gICAgICAgIHRpbWUgPSAwO1xuICAgIH1cblxuICAgIHZhciBkdXJhdGlvbiAgICA9IHRoaXMuX2dldER1cmF0aW9uKCksXG4gICAgICAgIHZhbHVlICAgICAgID0gdGhpcy5fZ2V0UGVyY2VudGFnZSh0aW1lLCBkdXJhdGlvbik7XG5cbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgICBpZiAodGhpcy5wcm9ncmVzcyAmJiB0aGlzLnByb2dyZXNzLnBsYXllZCkge1xuICAgICAgdGhpcy5wcm9ncmVzcy5wbGF5ZWQudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgc2VlayByYW5nZSBpbnB1dFxuICAgIGlmICh0aGlzLmJ1dHRvbnMgJiYgdGhpcy5idXR0b25zLnNlZWspIHtcbiAgICAgIHRoaXMuYnV0dG9ucy5zZWVrLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIF9tZWRpYUxpc3RlbmVycygpe1xuICAgIC8vIFRpbWUgY2hhbmdlIG9uIG1lZGlhXG4gICAgRXZlbnQub25FdmVudCh0aGlzLm1lZGlhLCAndGltZXVwZGF0ZSBzZWVraW5nJywgdGhpcy5fdGltZVVwZGF0ZS5iaW5kKHRoaXMpKTtcblxuICAgIEV2ZW50Lm9uRXZlbnQodGhpcy5tZWRpYSwgJ2R1cmF0aW9uY2hhbmdlIGxvYWRlZG1ldGFkYXRhJywgdGhpcy5fZGlzcGxheUR1cmF0aW9uLmJpbmQodGhpcykpO1xuICAgIFxuICAgIEV2ZW50Lm9uRXZlbnQodGhpcy5tZWRpYSwgJ3BsYXkgcGF1c2UgZW5kZWQnLCB0aGlzLl9jaGVja1BsYXlpbmcuYmluZCh0aGlzKSk7XG5cbiAgICBFdmVudC5vbkV2ZW50KHRoaXMubWVkaWEsICdwcm9ncmVzcyBwbGF5aW5nJywgdGhpcy5fdXBkYXRlUHJvZ3Jlc3MuYmluZCh0aGlzKSk7XG5cbiAgICBFdmVudC5vbkV2ZW50KHRoaXMubWVkaWEsICd3YWl0aW5nIGNhbnBsYXkgc2Vla2VkJywgdGhpcy5fY2hlY2tMb2FkaW5nLmJpbmQodGhpcykpO1xuXG4gICAgRXZlbnQub25FdmVudCh0aGlzLm1lZGlhLCAndm9sdW1lY2hhbmdlJywgdGhpcy5fdXBkYXRlVm9sdW1lLmJpbmQodGhpcykpO1xuICAgIFxuICB9XG4gIF9wcm94eUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgdXNlckxpc3RlbmVyLCBkZWZhdWx0TGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgICBFdmVudC5vbkV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmICh1c2VyTGlzdGVuZXIpIHtcbiAgICAgICAgdXNlckxpc3RlbmVyLmFwcGx5KGVsZW1lbnQsIFtldmVudF0pO1xuICAgICAgfVxuICAgICAgZGVmYXVsdExpc3RlbmVyLmFwcGx5KGVsZW1lbnQsIFtldmVudF0pO1xuICAgIH0sIHVzZUNhcHR1cmUpO1xuICB9XG4gIF9jb250cm9sTGlzdGVuZXJzKCl7XG4gICAgY29uc3QgaW5wdXRFdmVudCA9ICh0aGlzLmJyb3dzZXIuaXNJRSA/ICdjaGFuZ2UnIDogJ2lucHV0Jyk7XG4gICAgY29uc3QgdG9nZ2xlUGxheSA9ICgpPT57XG4gICAgICBjb25zdCBwbGF5ID0gdGhpcy5fdG9nZ2xlUGxheSgpO1xuICAgICAgbGV0IHRyaWdnZXIgPSB0aGlzLmJ1dHRvbnNbcGxheSA/ICdwbGF5JyA6ICdwYXVzZSddLFxuICAgICAgICAgIHRhcmdldCA9IHRoaXMuYnV0dG9uc1twbGF5ID8gJ3BhdXNlJyA6ICdwbGF5J107XG5cbiAgICAgIC8vIEdldCB0aGUgbGFzdCBwbGF5IGJ1dHRvbiB0byBhY2NvdW50IGZvciB0aGUgbGFyZ2UgcGxheSBidXR0b25cbiAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W3RhcmdldC5sZW5ndGggLSAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldFswXTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgaGFkVGFiRm9jdXMgPSAkLmhhc0NsYXNzKHRyaWdnZXIsIHRoaXMuY29uZmlnLmNsYXNzZXMudGFiRm9jdXMpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgaWYgKGhhZFRhYkZvY3VzKSB7XG4gICAgICAgICAgICAkLnRvZ2dsZUNsYXNzKHRyaWdnZXIsIHRoaXMuY29uZmlnLmNsYXNzZXMudGFiRm9jdXMsIGZhbHNlKTtcbiAgICAgICAgICAgICQudG9nZ2xlQ2xhc3ModGFyZ2V0LCB0aGlzLmNvbmZpZy5jbGFzc2VzLnRhYkZvY3VzLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3Byb3h5TGlzdGVuZXIodGhpcy5idXR0b25zLnBsYXksICdjbGljaycsIHRoaXMuY29uZmlnLmxpc3RlbmVycy5wbGF5LCB0b2dnbGVQbGF5KTtcbiAgICAvLyBQYXVzZVxuICAgIHRoaXMuX3Byb3h5TGlzdGVuZXIodGhpcy5idXR0b25zLnBhdXNlLCAnY2xpY2snLCB0aGlzLmNvbmZpZy5saXN0ZW5lcnMucGF1c2UsIHRvZ2dsZVBsYXkpO1xuICAgIC8vIFNlZWtcbiAgICB0aGlzLl9wcm94eUxpc3RlbmVyKHRoaXMuYnV0dG9ucy5zZWVrLCBpbnB1dEV2ZW50LCB0aGlzLmNvbmZpZy5saXN0ZW5lcnMuc2VlaywgdGhpcy5fc2Vlay5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuX3Byb3h5TGlzdGVuZXIodGhpcy52b2x1bWUuaW5wdXQsIGlucHV0RXZlbnQsIHRoaXMuY29uZmlnLmxpc3RlbmVycy52b2x1bWUsICgpPT57XG4gICAgICB0aGlzLl9zZXRWb2x1bWUodGhpcy52b2x1bWUuaW5wdXQudmFsdWUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Byb3h5TGlzdGVuZXIodGhpcy5idXR0b25zLm11dGUsICdjbGljaycsIHRoaXMuY29uZmlnLmxpc3RlbmVycy5tdXRlLCB0aGlzLl90b2dnbGVNdXRlLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5fcHJveHlMaXN0ZW5lcih0aGlzLmJ1dHRvbnMuZnVsbHNjcmVlbiwgJ2NsaWNrJywgdGhpcy5jb25maWcubGlzdGVuZXJzLmZ1bGxzY3JlZW4sIHRoaXMuX3RvZ2dsZUZ1bGxzY3JlZW4uYmluZCh0aGlzKSk7XG5cbiAgICAvLyBIYW5kbGUgdXNlciBleGl0aW5nIGZ1bGxzY3JlZW4gYnkgZXNjYXBpbmcgZXRjXG4gICAgaWYgKGZ1bGxzY3JlZW4uc3VwcG9ydHNGdWxsU2NyZWVuKSB7XG4gICAgICBFdmVudC5vbkV2ZW50KGRvY3VtZW50LCBmdWxsc2NyZWVuLmZ1bGxTY3JlZW5FdmVudE5hbWUsIHRoaXMuX3RvZ2dsZUZ1bGxzY3JlZW4uYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbmZpZy5oaWRlQ29udHJvbHMpIHtcbiAgICAgIC8vIFRvZ2dsZSBjb250cm9scyBvbiBtb3VzZSBldmVudHMgYW5kIGVudGVyaW5nIGZ1bGxzY3JlZW5cbiAgICAgIEV2ZW50Lm9uRXZlbnQodGhpcy5jb250YWluZXIsICdtb3VzZWVudGVyIG1vdXNlbGVhdmUgbW91c2Vtb3ZlIHRvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2hjYW5jZWwgdG91Y2htb3ZlIGVudGVyZnVsbHNjcmVlbicsIHRoaXMuX3RvZ2dsZUNvbnRyb2xzLmJpbmQodGhpcykpO1xuXG4gICAgICAvLyBXYXRjaCBmb3IgY3Vyc29yIG92ZXIgY29udHJvbHMgc28gdGhleSBkb24ndCBoaWRlIHdoZW4gdHJ5aW5nIHRvIGludGVyYWN0XG4gICAgICBFdmVudC5vbkV2ZW50KHRoaXMuY29udHJvbHMsICdtb3VzZWVudGVyIG1vdXNlbGVhdmUnLCAoZXZlbnQpPT57XG4gICAgICAgICAgdGhpcy5jb250cm9scy5ob3ZlciA9IGV2ZW50LnR5cGUgPT09ICdtb3VzZWVudGVyJztcbiAgICAgIH0pO1xuXG4gICAgICAgIC8vIFdhdGNoIGZvciBjdXJzb3Igb3ZlciBjb250cm9scyBzbyB0aGV5IGRvbid0IGhpZGUgd2hlbiB0cnlpbmcgdG8gaW50ZXJhY3RcbiAgICAgIEV2ZW50Lm9uRXZlbnQodGhpcy5jb250cm9scywgJ21vdXNlZG93biBtb3VzZXVwIHRvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLCAoZXZlbnQpPT4ge1xuICAgICAgICB0aGlzLmNvbnRyb2xzLnByZXNzZWQgPSB1dGlscy5pbkFycmF5KFsnbW91c2Vkb3duJywgJ3RvdWNoc3RhcnQnXSwgZXZlbnQudHlwZSk7XG4gICAgICB9KTtcbiAgICAgIC8vIEZvY3VzIGluL291dCBvbiBjb250cm9sc1xuICAgICAgRXZlbnQub25FdmVudCh0aGlzLmNvbnRyb2xzLCAnZm9jdXMgYmx1cicsIHRoaXMuX3RvZ2dsZUNvbnRyb2xzLmJpbmQodGhpcyksIHRydWUpO1xuICAgIH1cbiAgfVxuICBfdG9nZ2xlRnVsbHNjcmVlbihldmVudCkge1xuICAgIC8vIENoZWNrIGZvciBuYXRpdmUgc3VwcG9ydFxuICAgIHZhciBuYXRpdmVTdXBwb3J0ID0gZnVsbHNjcmVlbi5zdXBwb3J0c0Z1bGxTY3JlZW47XG5cbiAgICBpZiAobmF0aXZlU3VwcG9ydCkge1xuICAgICAgLy8gSWYgaXQncyBhIGZ1bGxzY3JlZW4gY2hhbmdlIGV2ZW50LCB1cGRhdGUgdGhlIFVJXG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gZnVsbHNjcmVlbi5mdWxsU2NyZWVuRXZlbnROYW1lKSB7XG4gICAgICAgICAgdGhpcy5pc0Z1bGxzY3JlZW4gPSBmdWxsc2NyZWVuLmlzRnVsbFNjcmVlbih0aGlzLmNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbHNlIGl0J3MgYSB1c2VyIHJlcXVlc3QgdG8gZW50ZXIgb3IgZXhpdFxuICAgICAgICBpZiAoIWZ1bGxzY3JlZW4uaXNGdWxsU2NyZWVuKHRoaXMuY29udGFpbmVyKSkge1xuICAgICAgICAgIC8vIFNhdmUgc2Nyb2xsIHBvc2l0aW9uXG4gICAgICAgICAgdGhpcy5fc2F2ZVNjcm9sbFBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAvLyBSZXF1ZXN0IGZ1bGwgc2NyZWVuXG4gICAgICAgICAgZnVsbHNjcmVlbi5yZXF1ZXN0RnVsbFNjcmVlbih0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBCYWlsIGZyb20gZnVsbHNjcmVlblxuICAgICAgICAgIGZ1bGxzY3JlZW4uY2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgYWN0dWFsbHkgZnVsbCBzY3JlZW4gKGl0IGNvdWxkIGZhaWwpXG4gICAgICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gZnVsbHNjcmVlbi5pc0Z1bGxTY3JlZW4odGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIGl0J3MgYSBzaW1wbGUgdG9nZ2xlXG4gICAgICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gIXRoaXMuaXNGdWxsc2NyZWVuO1xuXG4gICAgICAgIC8vIEJpbmQvdW5iaW5kIGVzY2FwZSBrZXlcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IHRoaXMuaXNGdWxsc2NyZWVuID8gJ2hpZGRlbicgOiAnJztcbiAgICB9XG5cbiAgICAvLyBTZXQgY2xhc3MgaG9va1xuICAgICQudG9nZ2xlQ2xhc3ModGhpcy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzZXMuZnVsbHNjcmVlbi5hY3RpdmUsIHRoaXMuaXNGdWxsc2NyZWVuKTtcblxuICAgIC8vIFRyYXAgZm9jdXNcbiAgICB0aGlzLl9mb2N1c1RyYXAodGhpcy5pc0Z1bGxzY3JlZW4pO1xuXG4gICAgLy8gU2V0IGJ1dHRvbiBzdGF0ZVxuICAgIGlmICh0aGlzLmJ1dHRvbnMgJiYgdGhpcy5idXR0b25zLmZ1bGxzY3JlZW4pIHtcbiAgICAgIHRoaXMuX3RvZ2dsZVN0YXRlKHRoaXMuYnV0dG9ucy5mdWxsc2NyZWVuLCB0aGlzLmlzRnVsbHNjcmVlbik7XG4gICAgfVxuXG4gICAgLy8gVHJpZ2dlciBhbiBldmVudFxuICAgIHRoaXMuX3RyaWdnZXJFdmVudCh0aGlzLmNvbnRhaW5lciwgdGhpcy5pc0Z1bGxzY3JlZW4gPyAnZW50ZXJmdWxsc2NyZWVuJyA6ICdleGl0ZnVsbHNjcmVlbicsIHRydWUpO1xuXG4gICAgLy8gUmVzdG9yZSBzY3JvbGwgcG9zaXRpb25cbiAgICBpZiAoIXRoaXMuaXNGdWxsc2NyZWVuICYmIG5hdGl2ZVN1cHBvcnQpIHtcbiAgICAgICAgdGhpcy5fcmVzdG9yZVNjcm9sbFBvc2l0aW9uKCk7XG4gICAgfVxuICB9XG4gIF9mb2N1c1RyYXAoKSB7XG4gICAgY29uc3QgX2dldEVsZW1lbnRzID0gKHNlbGVjdG9yKT0+IHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgY29uc3QgX2dldEVsZW1lbnQ9KHNlbGVjdG9yKT0+IHtcbiAgICAgIHJldHVybiBfZ2V0RWxlbWVudHMoc2VsZWN0b3IpWzBdO1xuICAgIH1cbiAgICB2YXIgdGFiYmFibGVzICAgPSBfZ2V0RWxlbWVudHMoJ2lucHV0Om5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKScpLFxuICAgICAgICBmaXJzdCAgICAgICA9IHRhYmJhYmxlc1swXSxcbiAgICAgICAgbGFzdCAgICAgICAgPSB0YWJiYWJsZXNbdGFiYmFibGVzLmxlbmd0aCAtIDFdO1xuXG4gICAgZnVuY3Rpb24gX2NoZWNrRm9jdXMoZXZlbnQpIHtcbiAgICAgIC8vIElmIGl0IGlzIFRBQlxuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSA5ICYmIHRoaXMuaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGxhc3QgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgLy8gTW92ZSBmb2N1cyB0byBmaXJzdCBlbGVtZW50IHRoYXQgY2FuIGJlIHRhYmJlZCBpZiBTaGlmdCBpc24ndCB1c2VkXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBmaXJzdC5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldCA9PT0gZmlyc3QgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAvLyBNb3ZlIGZvY3VzIHRvIGxhc3QgZWxlbWVudCB0aGF0IGNhbiBiZSB0YWJiZWQgaWYgU2hpZnQgaXMgdXNlZFxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgbGFzdC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQmluZCB0aGUgaGFuZGxlclxuICAgIEV2ZW50Lm9uRXZlbnQodGhpcy5jb250YWluZXIsICdrZXlkb3duJywgX2NoZWNrRm9jdXMpO1xuICB9XG4gIF9zYXZlU2Nyb2xsUG9zaXRpb24oKSB7XG4gICAgc2Nyb2xsID0ge1xuICAgICAgICB4OiB3aW5kb3cucGFnZVhPZmZzZXQgfHwgMCxcbiAgICAgICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0IHx8IDBcbiAgICB9O1xuICB9XG4gIF9yZXN0b3JlU2Nyb2xsUG9zaXRpb24oKSB7XG4gICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbC54LCBzY3JvbGwueSk7XG4gIH1cbiAgX2NoZWNrTG9hZGluZyhldmVudCkge1xuICAgIGNvbnN0IGxvYWRpbmcgPSAoZXZlbnQudHlwZSA9PT0gJ3dhaXRpbmcnKTtcblxuICAgIC8vIENsZWFyIHRpbWVyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLmxvYWRpbmcpO1xuXG4gICAgLy8gVGltZXIgdG8gcHJldmVudCBmbGlja2VyIHdoZW4gc2Vla2luZ1xuICAgIHRoaXMudGltZXJzLmxvYWRpbmcgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAvLyBUb2dnbGUgY29udGFpbmVyIGNsYXNzIGhvb2tcbiAgICAgICQudG9nZ2xlQ2xhc3ModGhpcy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzZXMubG9hZGluZywgbG9hZGluZyk7XG5cbiAgICAgIC8vIFNob3cgY29udHJvbHMgaWYgbG9hZGluZywgaGlkZSBpZiBkb25lXG4gICAgICB0aGlzLl90b2dnbGVDb250cm9scyhsb2FkaW5nKTtcbiAgICB9LCAobG9hZGluZyA/IDI1MCA6IDApKTtcbiAgfVxuICBfY2hlY2tQbGF5aW5nKCkge1xuICAgICQudG9nZ2xlQ2xhc3ModGhpcy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzZXMucGxheWluZywgIXRoaXMubWVkaWEucGF1c2VkKTtcblxuICAgICQudG9nZ2xlQ2xhc3ModGhpcy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzZXMuc3RvcHBlZCwgdGhpcy5tZWRpYS5wYXVzZWQpO1xuXG4gICAgdGhpcy5fdG9nZ2xlQ29udHJvbHModGhpcy5tZWRpYS5wYXVzZWQpO1xuICB9XG4gIF90aW1lVXBkYXRlKGV2ZW50KSB7XG4gICAgLy8gRHVyYXRpb25cbiAgICB0aGlzLl91cGRhdGVUaW1lRGlzcGxheSh0aGlzLm1lZGlhLmN1cnJlbnRUaW1lLCB0aGlzLmN1cnJlbnRUaW1lKTtcblxuICAgIC8vIElnbm9yZSB1cGRhdGVzIHdoaWxlIHNlZWtpbmdcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ3RpbWV1cGRhdGUnICYmIHRoaXMubWVkaWEuc2Vla2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBQbGF5aW5nIHByb2dyZXNzXG4gICAgdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoZXZlbnQpO1xuICB9XG4gIF91cGRhdGVQcm9ncmVzcyhldmVudCl7XG4gICAgaWYgKCF0aGlzLnN1cHBvcnRlZC5mdWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb2dyZXNzICAgID0gdGhpcy5wcm9ncmVzcy5wbGF5ZWQsXG4gICAgICAgIHZhbHVlICAgICAgID0gMCxcbiAgICAgICAgZHVyYXRpb24gICAgPSB0aGlzLl9nZXREdXJhdGlvbigpO1xuICAgIGlmKGV2ZW50KXtcbiAgICAgIHN3aXRjaChldmVudC50eXBlKXtcbiAgICAgICAgY2FzZSAndGltZXVwZGF0ZSc6XG4gICAgICAgIGNhc2UgJ3NlZWtpbmcnOlxuICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2dldFBlcmNlbnRhZ2UodGhpcy5tZWRpYS5jdXJyZW50VGltZSwgZHVyYXRpb24pO1xuXG4gICAgICAgICAgLy8gU2V0IHNlZWsgcmFuZ2UgdmFsdWUgb25seSBpZiBpdCdzIGEgJ25hdHVyYWwnIHRpbWUgZXZlbnRcbiAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RpbWV1cGRhdGUnICYmIHRoaXMuYnV0dG9ucy5zZWVrKSB7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnMuc2Vlay52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrOyAgXG4gICAgICAgICAgLy8gQ2hlY2sgYnVmZmVyIHN0YXR1c1xuICAgICAgICBjYXNlICdwbGF5aW5nJzpcbiAgICAgICAgY2FzZSAncHJvZ3Jlc3MnOlxuICAgICAgICAgIHByb2dyZXNzICAgID0gdGhpcy5wcm9ncmVzcy5idWZmZXI7XG4gICAgICAgICAgdmFsdWUgPSAoKCk9PiB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyZWQgPSB0aGlzLm1lZGlhLmJ1ZmZlcmVkO1xuXG4gICAgICAgICAgICBpZiAoYnVmZmVyZWQgJiYgYnVmZmVyZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIEhUTUw1XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQZXJjZW50YWdlKGJ1ZmZlcmVkLmVuZCgwKSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgX2xvZygnZXZlbnQudHlwZScsZXZlbnQudHlwZSx2YWx1ZSlcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MsIHZhbHVlKTtcbiAgfVxuICBfc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLnN1cHBvcnRlZC5mdWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byAwXG4gICAgaWYgKHV0aWxzLmlzLnVuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gMDtcbiAgICB9XG4gICAgLy8gRGVmYXVsdCB0byBidWZmZXIgb3IgYmFpbFxuICAgIGlmICh1dGlscy5pcy51bmRlZmluZWQocHJvZ3Jlc3MpKSB7XG4gICAgICBpZiAodGhpcy5wcm9ncmVzcyAmJiB0aGlzLnByb2dyZXNzLmJ1ZmZlcikge1xuICAgICAgICBwcm9ncmVzcyA9IHRoaXMucHJvZ3Jlc3MuYnVmZmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uZSBwcm9ncmVzcyBlbGVtZW50IHBhc3NlZFxuICAgIGlmICh1dGlscy5pcy5odG1sRWxlbWVudChwcm9ncmVzcykpIHtcbiAgICAgICAgcHJvZ3Jlc3MudmFsdWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHByb2dyZXNzKSB7XG4gICAgICAvLyBPYmplY3Qgb2YgcHJvZ3Jlc3MgKyB0ZXh0IGVsZW1lbnRcbiAgICAgIGlmIChwcm9ncmVzcy5iYXIpIHtcbiAgICAgICAgcHJvZ3Jlc3MuYmFyLnZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAocHJvZ3Jlc3MudGV4dCkge1xuICAgICAgICBwcm9ncmVzcy50ZXh0LmlubmVySFRNTCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfc2V0Vm9sdW1lKHZvbHVtZSl7XG4gICAgY29uc3QgbWF4ID0gdGhpcy5jb25maWcudm9sdW1lTWF4LFxuICAgICAgICBtaW4gPSB0aGlzLmNvbmZpZy52b2x1bWVNaW47XG5cbiAgICAvLyBMb2FkIHZvbHVtZSBmcm9tIHN0b3JhZ2UgaWYgbm8gdmFsdWUgc3BlY2lmaWVkXG4gICAgaWYgKHV0aWxzLmlzLnVuZGVmaW5lZCh2b2x1bWUpKSB7XG4gICAgICB2b2x1bWUgPSB0aGlzLnN0b3JhZ2Uudm9sdW1lO1xuICAgIH1cblxuICAgIC8vIFVzZSBjb25maWcgaWYgYWxsIGVsc2UgZmFpbHNcbiAgICBpZiAodm9sdW1lID09PSBudWxsIHx8IGlzTmFOKHZvbHVtZSkpIHtcbiAgICAgIHZvbHVtZSA9IHRoaXMuY29uZmlnLnZvbHVtZTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzLnVuZGVmaW5lZCh2b2x1bWUpKSB7XG4gICAgICB2b2x1bWUgPSB0aGlzLnN0b3JhZ2Uudm9sdW1lO1xuICAgIH1cbiAgICAvLyBNYXhpbXVtIGlzIHZvbHVtZU1heFxuICAgIGlmICh2b2x1bWUgPiBtYXgpIHtcbiAgICAgIHZvbHVtZSA9IG1heDtcbiAgICB9XG4gICAgLy8gTWluaW11bSBpcyB2b2x1bWVNaW5cbiAgICBpZiAodm9sdW1lIDwgbWluKSB7XG4gICAgICB2b2x1bWUgPSBtaW47XG4gICAgfVxuICAgIC8vIFNldCB0aGUgcGxheWVyIHZvbHVtZVxuICAgIHRoaXMubWVkaWEudm9sdW1lID0gcGFyc2VGbG9hdCh2b2x1bWUgLyBtYXgpO1xuXG4gICAgLy8gU2V0IHRoZSBkaXNwbGF5XG4gICAgaWYgKHRoaXMudm9sdW1lLmRpc3BsYXkpIHtcbiAgICAgIHRoaXMudm9sdW1lLmRpc3BsYXkudmFsdWUgPSB2b2x1bWU7XG4gICAgfVxuICAgIC8vIFRvZ2dsZSBtdXRlZCBzdGF0ZVxuICAgIGlmICh2b2x1bWUgPT09IDApIHtcbiAgICAgIHRoaXMubWVkaWEubXV0ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5tZWRpYS5tdXRlZCAmJiB2b2x1bWUgPiAwKSB7XG4gICAgICB0aGlzLl90b2dnbGVNdXRlKCk7XG4gICAgfVxuICB9XG4gIF91cGRhdGVWb2x1bWUoKSB7XG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IHZvbHVtZVxuICAgIHZhciB2b2x1bWUgPSB0aGlzLm1lZGlhLm11dGVkID8gMCA6ICh0aGlzLm1lZGlhLnZvbHVtZSAqIHRoaXMuY29uZmlnLnZvbHVtZU1heCk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIDxpbnB1dCB0eXBlPVwicmFuZ2VcIj4gaWYgcHJlc2VudFxuICAgIGlmICh0aGlzLnN1cHBvcnRlZC5mdWxsKSB7XG4gICAgICBpZiAodGhpcy52b2x1bWUuaW5wdXQpIHtcbiAgICAgICAgdGhpcy52b2x1bWUuaW5wdXQudmFsdWUgPSB2b2x1bWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52b2x1bWUuZGlzcGxheSkge1xuICAgICAgICB0aGlzLnZvbHVtZS5kaXNwbGF5LnZhbHVlID0gdm9sdW1lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGluIHN0b3JhZ2VcbiAgICB0aGlzLl91cGRhdGVTdG9yYWdlKHt2b2x1bWU6IHZvbHVtZX0pO1xuXG4gICAgLy8gVG9nZ2xlIGNsYXNzIGlmIG11dGVkXG4gICAgJC50b2dnbGVDbGFzcyh0aGlzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3Nlcy5tdXRlZCwgKHZvbHVtZSA9PT0gMCkpO1xuXG4gICAgLy8gVXBkYXRlIGNoZWNrYm94IGZvciBtdXRlIHN0YXRlXG4gICAgaWYgKHRoaXMuc3VwcG9ydGVkLmZ1bGwgJiYgdGhpcy5idXR0b25zLm11dGUpIHtcbiAgICAgIHRoaXMuX3RvZ2dsZVN0YXRlKHRoaXMuYnV0dG9ucy5tdXRlLCAodm9sdW1lID09PSAwKSk7XG4gICAgfVxuICB9XG4gIF91cGRhdGVTdG9yYWdlKHZhbHVlKSB7XG4gICAgLy8gQmFpbCBpZiB3ZSBkb24ndCBoYXZlIGxvY2FsU3RvcmFnZSBzdXBwb3J0IG9yIGl0J3MgZGlzYWJsZWRcbiAgICBpZiAoIXV0aWxzLnN0b3JhZ2VTdXBwb3J0IHx8ICF0aGlzLmNvbmZpZy5zdG9yYWdlLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgd29ya2luZyBjb3B5IG9mIHRoZSB2YWx1ZXNcbiAgICB1dGlscy5leHRlbmQodGhpcy5zdG9yYWdlLCB2YWx1ZSk7XG5cbiAgICAvLyBVcGRhdGUgc3RvcmFnZVxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmNvbmZpZy5zdG9yYWdlLmtleSwgSlNPTi5zdHJpbmdpZnkodGhpcy5zdG9yYWdlKSk7XG4gIH1cbiAgX3RvZ2dsZVN0YXRlKHRhcmdldCwgc3RhdGUpIHtcbiAgICAvLyBCYWlsIGlmIG5vIHRhcmdldFxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gR2V0IHN0YXRlXG4gICAgc3RhdGUgPSAodXRpbHMuaXMuYm9vbGVhbihzdGF0ZSkgPyBzdGF0ZSA6ICF0YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnKSk7XG5cbiAgICAvLyBTZXQgdGhlIGF0dHJpYnV0ZSBvbiB0YXJnZXRcbiAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCBzdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG4gIF90b2dnbGVNdXRlKG11dGVkKXtcbiAgICBpZiAoIXV0aWxzLmlzLmJvb2xlYW4obXV0ZWQpKSB7XG4gICAgICBtdXRlZCA9ICF0aGlzLm1lZGlhLm11dGVkO1xuICAgIH1cblxuICAgIC8vIFNldCBidXR0b24gc3RhdGVcbiAgICB0aGlzLl90b2dnbGVTdGF0ZSh0aGlzLmJ1dHRvbnMubXV0ZSwgbXV0ZWQpO1xuXG4gICAgLy8gU2V0IG11dGUgb24gdGhlIHBsYXllclxuICAgIHRoaXMubWVkaWEubXV0ZWQgPSBtdXRlZDtcblxuICAgIC8vIElmIHZvbHVtZSBpcyAwIGFmdGVyIHVubXV0aW5nLCBzZXQgdG8gZGVmYXVsdFxuICAgIGlmICh0aGlzLm1lZGlhLnZvbHVtZSA9PT0gMCkge1xuICAgICAgdGhpcy5fc2V0Vm9sdW1lKHRoaXMuY29uZmlnLnZvbHVtZSk7XG4gICAgfVxuXG4gIH1cbiAgX2Rpc3BsYXlEdXJhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuc3VwcG9ydGVkLmZ1bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgZHVyYXRpb25cbiAgICB2YXIgZHVyYXRpb24gPSB0aGlzLl9nZXREdXJhdGlvbigpIHx8IDA7XG5cbiAgICAvLyBJZiB0aGVyZSdzIG9ubHkgb25lIHRpbWUgZGlzcGxheSwgZGlzcGxheSBkdXJhdGlvbiB0aGVyZVxuICAgIGlmICghdGhpcy5kdXJhdGlvbiAmJiB0aGlzLmNvbmZpZy5kaXNwbGF5RHVyYXRpb24gJiYgdGhpcy5tZWRpYS5wYXVzZWQpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRpbWVEaXNwbGF5KGR1cmF0aW9uLCB0aGlzLmN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgZHVyYXRpb24gZWxlbWVudCwgdXBkYXRlIGNvbnRlbnRcbiAgICBpZiAodGhpcy5kdXJhdGlvbikge1xuICAgICAgdGhpcy5fdXBkYXRlVGltZURpc3BsYXkoZHVyYXRpb24sIHRoaXMuZHVyYXRpb24pO1xuICAgIH1cblxuICB9XG4gIF91cGRhdGVUaW1lRGlzcGxheSh0aW1lLCBlbGVtZW50KSB7XG4gICAgLy8gQmFpbCBpZiB0aGVyZSdzIG5vIGR1cmF0aW9uIGRpc3BsYXlcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIDBcbiAgICBpZiAoaXNOYU4odGltZSkpIHtcbiAgICAgICAgdGltZSA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5zZWNzID0gcGFyc2VJbnQodGltZSAlIDYwKTtcbiAgICB0aGlzLm1pbnMgPSBwYXJzZUludCgodGltZSAvIDYwKSAlIDYwKTtcbiAgICB0aGlzLmhvdXJzID0gcGFyc2VJbnQoKCh0aW1lIC8gNjApIC8gNjApICUgNjApO1xuXG4gICAgLy8gRG8gd2UgbmVlZCB0byBkaXNwbGF5IGhvdXJzP1xuICAgIHZhciBkaXNwbGF5SG91cnMgPSAocGFyc2VJbnQoKCh0aGlzLl9nZXREdXJhdGlvbigpIC8gNjApIC8gNjApICUgNjApID4gMCk7XG5cbiAgICAvLyBFbnN1cmUgaXQncyB0d28gZGlnaXRzLiBGb3IgZXhhbXBsZSwgMDMgcmF0aGVyIHRoYW4gMy5cbiAgICB0aGlzLnNlY3MgPSAoJzAnICsgdGhpcy5zZWNzKS5zbGljZSgtMik7XG4gICAgdGhpcy5taW5zID0gKCcwJyArIHRoaXMubWlucykuc2xpY2UoLTIpO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSAoZGlzcGxheUhvdXJzID8gdGhpcy5ob3VycyArICc6JyA6ICcnKSArIHRoaXMubWlucyArICc6JyArIHRoaXMuc2VjcztcbiAgfVxuICBfaW5qZWN0Q29udHJvbHMocGxheWVyLGNvbmZpZyl7XG4gICAgbGV0IGh0bWwgPSBjb25maWcuaHRtbDtcblxuICAgIC8vIEluc2VydCBjdXN0b20gdmlkZW8gY29udHJvbHNcbiAgICBfbG9nKCdJbmplY3RpbmcgY3VzdG9tIGNvbnRyb2xzJyk7XG4gICAgLy8gSWYgbm8gY29udHJvbHMgYXJlIHNwZWNpZmllZCwgY3JlYXRlIGRlZmF1bHRcbiAgICBpZiAoIWh0bWwpIHtcbiAgICAgIGh0bWwgPSB0aGlzLl9idWlsZENvbnRyb2xzKGNvbmZpZyk7XG4gICAgfVxuICAgIGNvbnN0IHJhbmRvbSA9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwMDAwMDApKTtcbiAgICBwbGF5ZXIuY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCBgdnBseXIke3JhbmRvbX1gKTtcbiAgICBodG1sID0gdXRpbHMucmVwbGFjZUFsbChodG1sLCAne2lkfScsIHJhbmRvbSk7XG4gICAgbGV0IHRhcmdldDtcbiAgICBpZiAodXRpbHMuaXMuc3RyaW5nKGNvbmZpZy5zZWxlY3RvcnMuY29udHJvbHMuY29udGFpbmVyKSkge1xuICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc2VsZWN0b3JzLmNvbnRyb2xzLmNvbnRhaW5lcik7XG4gICAgfVxuICAgIC8vIEluamVjdCBpbnRvIHRoZSBjb250YWluZXIgYnkgZGVmYXVsdFxuICAgIGlmICghdXRpbHMuaXMuaHRtbEVsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgdGFyZ2V0ID0gcGxheWVyLmNvbnRhaW5lclxuICAgIH1cbiAgICB0YXJnZXQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBodG1sKTtcbiAgfVxuICBfZmluZEVsZW1lbnRzKHBsYXllcixjb25maWcpe1xuICAgIGNvbnN0IF9nZXRFbGVtZW50cyA9IChzZWxlY3Rvcik9PiB7XG4gICAgICByZXR1cm4gcGxheWVyLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgY29uc3QgX2dldEVsZW1lbnQ9KHNlbGVjdG9yKT0+IHtcbiAgICAgIHJldHVybiBfZ2V0RWxlbWVudHMoc2VsZWN0b3IpWzBdO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcGxheWVyLmNvbnRyb2xzICAgICAgICAgICAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMuY29udHJvbHMud3JhcHBlcik7XG5cbiAgICAgIC8vIEJ1dHRvbnNcbiAgICAgIHBsYXllci5idXR0b25zID0ge307XG4gICAgICBwbGF5ZXIuYnV0dG9ucy5zZWVrICAgICAgICAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnNlZWspO1xuICAgICAgcGxheWVyLmJ1dHRvbnMucGxheSAgICAgICAgICAgICA9IF9nZXRFbGVtZW50cyhjb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMucGxheSk7XG4gICAgICBwbGF5ZXIuYnV0dG9ucy5wYXVzZSAgICAgICAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnBhdXNlKTtcbiAgICAgIHBsYXllci5idXR0b25zLmZ1bGxzY3JlZW4gICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMuZnVsbHNjcmVlbik7XG5cbiAgICAgIC8vIElucHV0c1xuICAgICAgcGxheWVyLmJ1dHRvbnMubXV0ZSAgICAgICAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5tdXRlKTtcblxuICAgICAgLy8gUHJvZ3Jlc3NcbiAgICAgIHBsYXllci5wcm9ncmVzcyA9IHt9O1xuICAgICAgcGxheWVyLnByb2dyZXNzLmNvbnRhaW5lciAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMucHJvZ3Jlc3MuY29udGFpbmVyKTtcblxuICAgICAgLy8gUHJvZ3Jlc3MgLSBCdWZmZXJpbmdcbiAgICAgIHBsYXllci5wcm9ncmVzcy5idWZmZXIgICAgICAgICAgPSB7fTtcbiAgICAgIHBsYXllci5wcm9ncmVzcy5idWZmZXIuYmFyICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLnByb2dyZXNzLmJ1ZmZlcik7XG4gICAgICBwbGF5ZXIucHJvZ3Jlc3MuYnVmZmVyLnRleHQgICAgID0gcGxheWVyLnByb2dyZXNzLmJ1ZmZlci5iYXIgJiYgcGxheWVyLnByb2dyZXNzLmJ1ZmZlci5iYXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NwYW4nKVswXTtcblxuICAgICAgLy8gUHJvZ3Jlc3MgLSBQbGF5ZWRcbiAgICAgIHBsYXllci5wcm9ncmVzcy5wbGF5ZWQgICAgICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLnByb2dyZXNzLnBsYXllZCk7XG5cbiAgICAgIC8vIFZvbHVtZVxuICAgICAgcGxheWVyLnZvbHVtZSAgICAgICAgICAgICAgICAgICA9IHt9O1xuICAgICAgcGxheWVyLnZvbHVtZS5pbnB1dCAgICAgICAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMudm9sdW1lLmlucHV0KTtcbiAgICAgIHBsYXllci52b2x1bWUuZGlzcGxheSAgICAgICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLnZvbHVtZS5kaXNwbGF5KTtcblxuICAgICAgLy8gVGltaW5nXG4gICAgICBwbGF5ZXIuZHVyYXRpb24gICAgICAgICAgICAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5kdXJhdGlvbik7XG4gICAgICBwbGF5ZXIuY3VycmVudFRpbWUgICAgICAgICAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5jdXJyZW50VGltZSk7XG4gICAgICBwbGF5ZXIuc2Vla1RpbWUgICAgICAgICAgICAgICAgID0gX2dldEVsZW1lbnRzKGNvbmZpZy5zZWxlY3RvcnMuc2Vla1RpbWUpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgX3dhcm4oJ0l0IGxvb2tzIGxpa2UgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggeW91ciBjb250cm9scyBIVE1MJyk7XG4gICAgICAvLyBSZXN0b3JlIG5hdGl2ZSB2aWRlbyBjb250cm9sc1xuICAgICAgdGhpcy5fdG9nZ2xlTmF0aXZlQ29udHJvbHModHJ1ZSk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX2J1aWxkQ29udHJvbHMoY29uZmlnKXtcbiAgICBjb25zdCBodG1sID0gWyc8ZGl2IGNsYXNzPVwidnBseXItdmlkZW8tbG9hZGVyLWNvbnRhaW5lclwiPicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci12aWRlby1sb2FkZXJcIj4nLFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibG9hZGVyLWlubmVyIG9uZVwiPjwvZGl2PicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJsb2FkZXItaW5uZXIgdHdvXCI+PC9kaXY+JyxcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImxvYWRlci1pbm5lciB0aHJlZVwiPjwvZGl2PicsXG4gICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgJzwvZGl2PjxkaXYgY2xhc3M9XCJ2cGx5ci1ncmFkaWVudC1ib3R0b21cIj48L2Rpdj4nXTtcbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJ2cGx5ci1ib3R0b20tY29udGFpbmVyXCI+JylcbiAgICBpZiAodXRpbHMuaW5BcnJheShjb25maWcuY29udHJvbHMsICdwcm9ncmVzcycpKSB7XG4gICAgICBodG1sLnB1c2goXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci1wcm9ncmVzcy1iYXItY29udGFpbmVyXCI+JyxcbiAgICAgICAgICAnPGlucHV0IGlkPVwic2Vla3tpZH1cIiB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMTAwXCIgdmFsdWU9XCIwXCIgc3RlcD1cIjAuMVwiIGNsYXNzPVwidnBseXItcHJvZ3Jlc3MtYmFyXCIgZGF0YS12aWRlbz1cInNlZWtcIi8+JyxcbiAgICAgICAgICAnPHByb2dyZXNzIGNsYXNzPVwidnBseXItcHJvZ3Jlc3MtcGxheWVkXCIgbWF4PVwiMTAwXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPjwvcHJvZ3Jlc3M+JyxcbiAgICAgICAgICAnPHByb2dyZXNzIGNsYXNzPVwidnBseXItcHJvZ3Jlc3MtYnVmZmVyXCIgbWF4PVwiMTAwXCIgdmFsdWU9XCIxMDBcIj4nLFxuICAgICAgICAgICc8c3Bhbj4xMDAuMDA8L3NwYW4+JSBidWZmZXJlZCcsXG4gICAgICAgICAgJzwvcHJvZ3Jlc3M+JyxcbiAgICAgICAgICAnPC9kaXY+J1xuICAgICAgKTtcbiAgICB9XG4gICAgaHRtbC5wdXNoKCc8ZGl2IGNsYXNzPVwidnBseXItY29udHJvbHNcIj4nKVxuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cImxlZnQtY29udHJvbHNcIj4nKVxuICAgIGlmICh1dGlscy5pbkFycmF5KGNvbmZpZy5jb250cm9scywgJ3BsYXknKSkge1xuICAgICAgaHRtbC5wdXNoKFxuICAgICAgICAnPGRpdiBjbGFzcz1cImJ0bi1jb250cm9sc1wiPicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJidG4td3JhcFwiPicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJwbGF5XCIgZGF0YS12aWRlbz1cInBsYXlcIj48L2Rpdj4nLFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGF1c2VcIiBkYXRhLXZpZGVvPVwicGF1c2VcIj48L2Rpdj4nLFxuICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICc8L2Rpdj4nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaW5BcnJheShjb25maWcuY29udHJvbHMsICd0aW1lJykpIHtcbiAgICAgIGh0bWwucHVzaChcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aW1lLW1vZC1jb250cm9sc1wiPicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250cm9sLWN1cnJlbnR0aW1lXCI+MDA6MDA8L2Rpdj4nLFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udHJvbC1zZXBhcmF0b3JcIj4vPC9kaXY+JyxcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRyb2wtZHVyYXRpb25cIj4wMDowMDwvZGl2PicsXG4gICAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlIHZwbHlyIGxlZnQgY29udHJvbHNcbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJyaWdodC1jb250cm9sc1wiPicpXG4gICAgaWYgKHV0aWxzLmluQXJyYXkoY29uZmlnLmNvbnRyb2xzLCAnZnVsbHNjcmVlbicpKSB7XG4gICAgICBodG1sLnB1c2goXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZnVsbHNjcmVlbi1jb250cm9sc1wiIGRhdGEtdmlkZW89XCJmdWxsc2NyZWVuXCI+JyxcbiAgICAgICAgICAnPHN2ZyBjbGFzcz1cImljb24tZXhpdC1mdWxsc2NyZWVuXCI+JyxcbiAgICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLWV4aXQtZnVsbHNjcmVlblwiPjwvdXNlPicsXG4gICAgICAgICAgJzwvc3ZnPicsXG4gICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uLWVudGVyLWZ1bGxzY3JlZW5cIj4nLFxuICAgICAgICAgICcgPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLWVudGVyLWZ1bGxzY3JlZW5cIj48L3VzZT4nLFxuICAgICAgICAgICc8L3N2Zz4nLFxuICAgICAgICAgICc8L2Rpdj4nXG4gICAgICApO1xuICAgIH1cbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJ2b2x1bWUtY29udHJvbHNcIj4nKVxuICAgIGlmICh1dGlscy5pbkFycmF5KGNvbmZpZy5jb250cm9scywgJ211dGUnKSkge1xuICAgICAgaHRtbC5wdXNoKFxuICAgICAgICAnPGRpdiBjbGFzcz1cInZwbHlyLXZvbHVtZVwiIGRhdGEtdmlkZW89XCJtdXRlXCI+JyxcbiAgICAgICAgICAnPHN2ZyBjbGFzcz1cImljb24tbXV0ZWRcIj4nLFxuICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItbXV0ZWRcIj48L3VzZT4nLFxuICAgICAgICAgICc8L3N2Zz4nLFxuICAgICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvbi12b2x1bWVcIj4nLFxuICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItdm9sdW1lXCI+PC91c2U+JyxcbiAgICAgICAgICAnPC9zdmc+JyxcbiAgICAgICAgICAnPC9kaXY+J1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmluQXJyYXkoY29uZmlnLmNvbnRyb2xzLCAndm9sdW1lJykpIHtcbiAgICAgIGh0bWwucHVzaChcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci12b2x1bWUtcHJvZ3Jlc3NcIj4nLFxuICAgICAgICAgICc8aW5wdXQgdHlwZT1cInJhbmdlXCIgaWQ9XCJ2b2x1bWV7aWR9XCIgIGNsYXNzPVwidnBseXItdm9sdW1lLWlucHV0XCIgIG1pbj1cIjBcIiAgbWF4PVwiMTBcIiBkYXRhLXZpZGVvPVwidm9sdW1lXCIgdmFsdWU9XCI4XCI+JyxcbiAgICAgICAgICAnPHByb2dyZXNzIGNsYXNzPVwidnBseXItdm9sdW1lLWRpc3BsYXlcIiBtYXg9XCIxMFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3Byb2dyZXNzPicsXG4gICAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlIHZwbHlyIHZvbHVtZSBjb250cm9sc1xuICAgIFxuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlIHZwbHlyIHJpZ2h0IGNvbnRyb2xzXG4gICAgXG4gICAgaHRtbC5wdXNoKCc8L2Rpdj4nKS8vY2xvc2UgdnBseXIgY29udHJvbHNcbiAgICBodG1sLnB1c2goJzwvZGl2PicpLy9jbG9zZVxuICAgIHJldHVybiBodG1sLmpvaW4oJycpO1xuICB9XG4gIF90b2dnbGVDb250cm9scyh0b2dnbGUpIHtcbiAgICAvLyBEb24ndCBoaWRlIGlmIGNvbmZpZyBzYXlzIG5vdCB0bywgaXQncyBhdWRpbywgb3Igbm90IHJlYWR5IG9yIGxvYWRpbmdcbiAgICBpZiAoIXRoaXMuY29uZmlnLmhpZGVDb250cm9scyB8fCB0aGlzLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGVsYXkgPSAwLFxuICAgICAgICBpc0VudGVyRnVsbHNjcmVlbiA9IGZhbHNlLFxuICAgICAgICBzaG93ID0gdG9nZ2xlLFxuICAgICAgICBsb2FkaW5nID0gJC5oYXNDbGFzcyh0aGlzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3Nlcy5sb2FkaW5nKTtcblxuICAgIC8vIERlZmF1bHQgdG8gZmFsc2UgaWYgbm8gYm9vbGVhblxuICAgIGlmICghdXRpbHMuaXMuYm9vbGVhbih0b2dnbGUpKSB7XG4gICAgICBpZiAodG9nZ2xlICYmIHRvZ2dsZS50eXBlKSB7XG4gICAgICAgIC8vIElzIHRoZSBlbnRlciBmdWxsc2NyZWVuIGV2ZW50XG4gICAgICAgIGlzRW50ZXJGdWxsc2NyZWVuID0gKHRvZ2dsZS50eXBlID09PSAnZW50ZXJmdWxsc2NyZWVuJyk7XG5cbiAgICAgICAgLy8gV2hldGhlciB0byBzaG93IGNvbnRyb2xzXG4gICAgICAgIHNob3cgPSB1dGlscy5pbkFycmF5KFsnbW91c2Vtb3ZlJywgJ3RvdWNoc3RhcnQnLCAnbW91c2VlbnRlcicsICdmb2N1cyddLCB0b2dnbGUudHlwZSk7XG5cbiAgICAgICAgLy8gRGVsYXkgaGlkaW5nIG9uIG1vdmUgZXZlbnRzXG4gICAgICAgIGlmICh1dGlscy5pbkFycmF5KFsnbW91c2Vtb3ZlJywgJ3RvdWNobW92ZSddLCB0b2dnbGUudHlwZSkpIHtcbiAgICAgICAgICBkZWxheSA9IDIwMDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWxheSBhIGxpdHRsZSBtb3JlIGZvciBrZXlib2FyZCB1c2Vyc1xuICAgICAgICBpZiAodG9nZ2xlLnR5cGUgPT09ICdmb2N1cycpIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMzAwMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2hvdyA9ICQuaGFzQ2xhc3ModGhpcy5jb250YWluZXIsIHRoaXMuY29uZmlnLmNsYXNzZXMuaGlkZUNvbnRyb2xzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDbGVhciB0aW1lciBldmVyeSBtb3ZlbWVudFxuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuaG92ZXIpO1xuXG4gICAgLy8gSWYgdGhlIG1vdXNlIGlzIG5vdCBvdmVyIHRoZSBjb250cm9scywgc2V0IGEgdGltZW91dCB0byBoaWRlIHRoZW1cbiAgICBpZiAoc2hvdyB8fCB0aGlzLm1lZGlhLnBhdXNlZCB8fCBsb2FkaW5nKSB7XG4gICAgICAkLnRvZ2dsZUNsYXNzKHRoaXMuY29udGFpbmVyLCB0aGlzLmNvbmZpZy5jbGFzc2VzLmhpZGVDb250cm9scywgZmFsc2UpO1xuXG4gICAgICAvLyBBbHdheXMgc2hvdyBjb250cm9scyB3aGVuIHBhdXNlZCBvciBpZiB0b3VjaFxuICAgICAgaWYgKHRoaXMubWVkaWEucGF1c2VkIHx8IGxvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWxheSBmb3IgaGlkaW5nIG9uIHRvdWNoXG4gICAgICBpZiAodGhpcy5icm93c2VyLmlzVG91Y2gpIHtcbiAgICAgICAgZGVsYXkgPSAzMDAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRvZ2dsZSBpcyBmYWxzZSBvciBpZiB3ZSdyZSBwbGF5aW5nIChyZWdhcmRsZXNzIG9mIHRvZ2dsZSksXG4gICAgLy8gdGhlbiBzZXQgdGhlIHRpbWVyIHRvIGhpZGUgdGhlIGNvbnRyb2xzXG4gICAgaWYgKCFzaG93IHx8ICF0aGlzLm1lZGlhLnBhdXNlZCkge1xuICAgICAgdGhpcy50aW1lcnMuaG92ZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PntcbiAgICAgICAgLy8gSWYgdGhlIG1vdXNlIGlzIG92ZXIgdGhlIGNvbnRyb2xzIChhbmQgbm90IGVudGVyaW5nIGZ1bGxzY3JlZW4pLCBiYWlsXG4gICAgICAgIGlmICgodGhpcy5jb250cm9scy5wcmVzc2VkIHx8IHRoaXMuY29udHJvbHMuaG92ZXIpICYmICFpc0VudGVyRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJC50b2dnbGVDbGFzcyh0aGlzLmNvbnRhaW5lciwgdGhpcy5jb25maWcuY2xhc3Nlcy5oaWRlQ29udHJvbHMsIHRydWUpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH1cbiAgfVxuICBfc2V0dXBNZWRpYShwbGF5ZXIsY29uZmlnKXtcbiAgICBpZiAoIXBsYXllci5tZWRpYSkge1xuICAgICAgX3dhcm4oJ05vIG1lZGlhIGVsZW1lbnQgZm91bmQhJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmKHBsYXllci5zdXBwb3J0ZWQuZnVsbCl7XG4gICAgICAkLnRvZ2dsZUNsYXNzKHBsYXllci5jb250YWluZXIsIGNvbmZpZy5jbGFzc2VzLnR5cGUucmVwbGFjZSgnezB9JywgcGxheWVyLnR5cGUpLCB0cnVlKTtcbiAgICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLmNsYXNzZXMuc3RvcHBlZCwgY29uZmlnLmF1dG9wbGF5KTtcbiAgICAgIC8vIEFkZCBpT1MgY2xhc3NcbiAgICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLmNsYXNzZXMuaXNJb3MsIHBsYXllci5icm93c2VyLmlzSW9zKTtcbiAgICAgIC8vIEFkZCBjaHJvbWUgY2xhc3NcbiAgICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLmNsYXNzZXMuaXNDaHJvbWUsIHBsYXllci5icm93c2VyLmlzQ2hyb21lKTtcblxuICAgICAgLy8gQWRkIHRvdWNoIGNsYXNzXG4gICAgICAkLnRvZ2dsZUNsYXNzKHBsYXllci5jb250YWluZXIsIGNvbmZpZy5jbGFzc2VzLmlzVG91Y2gsIHBsYXllci5icm93c2VyLmlzVG91Y2gpO1xuXG4gICAgICAvLyBBZGQgd2VjaGF0IGNsYXNzXG4gICAgICAkLnRvZ2dsZUNsYXNzKHBsYXllci5jb250YWluZXIsIGNvbmZpZy5jbGFzc2VzLmlzV2VjaGF0LCBwbGF5ZXIuYnJvd3Nlci5pc1dlY2hhdCk7XG4gICAgICBpZihwbGF5ZXIudHlwZSA9PT0gJ3ZpZGVvJyl7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY29uZmlnLmNsYXNzZXMudmlkZW9XcmFwcGVyKTtcbiAgICAgICAgdGhpcy5fd3JhcChwbGF5ZXIubWVkaWEsIHdyYXBwZXIpO1xuICAgICAgICAvLyBDYWNoZSB0aGUgY29udGFpbmVyXG4gICAgICAgIHBsYXllci52aWRlb0NvbnRhaW5lciA9IHdyYXBwZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF90b2dnbGVOYXRpdmVDb250cm9scyh0b2dnbGUpIHtcbiAgICBpZiAodG9nZ2xlICYmIHV0aWxzLmluQXJyYXkodGhpcy5jb25maWcudHlwZXMuaHRtbDUsIHRoaXMudHlwZSkpIHtcbiAgICAgIHRoaXMubWVkaWEuc2V0QXR0cmlidXRlKCdjb250cm9scycsICcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZWRpYS5yZW1vdmVBdHRyaWJ1dGUoJ2NvbnRyb2xzJyk7XG4gICAgfVxuICB9XG4gIF93cmFwKGVsZW1lbnRzLCB3cmFwcGVyKSB7XG4gICAgLy8gQ29udmVydCBgZWxlbWVudHNgIHRvIGFuIGFycmF5LCBpZiBuZWNlc3NhcnkuXG4gICAgaWYgKCFlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuICAgIH1cblxuICAgIC8vIExvb3BzIGJhY2t3YXJkcyB0byBwcmV2ZW50IGhhdmluZyB0byBjbG9uZSB0aGUgd3JhcHBlciBvbiB0aGVcbiAgICAvLyBmaXJzdCBlbGVtZW50IChzZWUgYGNoaWxkYCBiZWxvdykuXG4gICAgZm9yICh2YXIgaSA9IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY2hpbGQgICA9IChpID4gMCkgPyB3cmFwcGVyLmNsb25lTm9kZSh0cnVlKSA6IHdyYXBwZXI7XG4gICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuXG4gICAgICAvLyBDYWNoZSB0aGUgY3VycmVudCBwYXJlbnQgYW5kIHNpYmxpbmcuXG4gICAgICB2YXIgcGFyZW50ICA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIHZhciBzaWJsaW5nID0gZWxlbWVudC5uZXh0U2libGluZztcblxuICAgICAgLy8gV3JhcCB0aGUgZWxlbWVudCAoaXMgYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20gaXRzIGN1cnJlbnRcbiAgICAgIC8vIHBhcmVudCkuXG4gICAgICBjaGlsZC5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFkIGEgc2libGluZywgaW5zZXJ0IHRoZSB3cmFwcGVyIGJlZm9yZVxuICAgICAgLy8gdGhlIHNpYmxpbmcgdG8gbWFpbnRhaW4gdGhlIEhUTUwgc3RydWN0dXJlOyBvdGhlcndpc2UsIGp1c3RcbiAgICAgIC8vIGFwcGVuZCBpdCB0byB0aGUgcGFyZW50LlxuICAgICAgaWYgKHNpYmxpbmcpIHtcbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBzaWJsaW5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gIH1cbiAgX2NhbmNlbFJlcXVlc3RzKCkge1xuICAgIGlmICghdXRpbHMuaW5BcnJheSh0aGlzLmNvbmZpZy50eXBlcy5odG1sNSwgdGhpcy50eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBjaGlsZCBzb3VyY2VzXG4gICAgdmFyIHNvdXJjZXMgPSB0aGlzLm1lZGlhLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NvdXJjZScpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgJC5yZW1vdmVFbGVtZW50KHNvdXJjZXNbaV0pO1xuICAgIH1cblxuICAgIC8vIFNldCBibGFuayB2aWRlbyBzcmMgYXR0cmlidXRlXG4gICAgLy8gVGhpcyBpcyB0byBwcmV2ZW50IGEgTUVESUFfRVJSX1NSQ19OT1RfU1VQUE9SVEVEIGVycm9yXG4gICAgLy8gSW5mbzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMjIzMTU3OS9ob3ctdG8tcHJvcGVybHktZGlzcG9zZS1vZi1hbi1odG1sNS12aWRlby1hbmQtY2xvc2Utc29ja2V0LW9yLWNvbm5lY3Rpb25cbiAgICB0aGlzLm1lZGlhLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5jb25maWcuYmxhbmtVcmwpO1xuXG4gICAgLy8gTG9hZCB0aGUgbmV3IGVtcHR5IHNvdXJjZVxuICAgIC8vIFRoaXMgd2lsbCBjYW5jZWwgZXhpc3RpbmcgcmVxdWVzdHNcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1NlbHovcGx5ci9pc3N1ZXMvMTc0XG4gICAgdGhpcy5tZWRpYS5sb2FkKCk7XG5cbiAgICAvLyBEZWJ1Z2dpbmdcbiAgICBfbG9nKCdDYW5jZWxsZWQgbmV0d29yayByZXF1ZXN0cycpO1xuICB9XG4gIF90b2dnbGVTdHlsZUhvb2socGxheWVyLGNvbmZpZykge1xuICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIucmVwbGFjZSgnLicsICcnKSwgcGxheWVyLnN1cHBvcnRlZC5mdWxsKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgUGxheWVyOyIsImNsYXNzIFV0aWxzIHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmJyb3dzZXJTbmlmZj10aGlzLl9icm93c2VyU25pZmYuYmluZCh0aGlzKSgpO1xuICAgIHRoaXMuaXMgPSB0aGlzLl9pcy5iaW5kKHRoaXMpKCk7XG4gICAgdGhpcy5zdG9yYWdlU3VwcG9ydCA9IHRoaXMuX3N0b3JhZ2VTdXBwb3J0LmJpbmQodGhpcykoKTtcbiAgICB0aGlzLmV4dGVuZCAgPSB0aGlzLl9leHRlbmQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hdGNoZXMgID0gdGhpcy5fbWF0Y2hlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW5BcnJheSA9IHRoaXMuX2luQXJyYXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN1cHBvcnRlZCA9IHRoaXMuX3N1cHBvcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlcGxhY2VBbGwgPSB0aGlzLl9yZXBsYWNlQWxsLmJpbmQodGhpcyk7XG4gICAgXG4gIH1cbiAgX3JlcGxhY2VBbGwoc3RyaW5nLCBmaW5kLCByZXBsYWNlKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKG5ldyBSZWdFeHAoZmluZC5yZXBsYWNlKC8oWy4qKz9cXF49IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpLCAnZycpLCByZXBsYWNlKTtcbiAgfVxuICBfc3VwcG9ydCh0eXBlKXtcbiAgICBjb25zdCBicm93c2VyICAgICA9IHRoaXMuX2Jyb3dzZXJTbmlmZigpLFxuICAgICAgICBpc09sZElFICAgICA9IChicm93c2VyLmlzSUUgJiYgYnJvd3Nlci52ZXJzaW9uIDw9IDkpLFxuICAgICAgICBpc0lvcyAgICAgICA9IGJyb3dzZXIuaXNJb3MsXG4gICAgICAgIGlzSXBob25lICAgID0gYnJvd3Nlci5pc0lwaG9uZSxcbiAgICAgICAgYXVkaW9TdXBwb3J0ID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpLmNhblBsYXlUeXBlLFxuICAgICAgICB2aWRlb1N1cHBvcnQgPSAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykuY2FuUGxheVR5cGU7XG4gICAgbGV0IGJhc2ljICAgICAgID0gZmFsc2UsXG4gICAgICAgIGZ1bGwgICAgICAgID0gZmFsc2U7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgICAgICAgYmFzaWMgPSB2aWRlb1N1cHBvcnQ7XG4gICAgICAgICAgICBmdWxsICA9IChiYXNpYyAmJiAoIWlzT2xkSUUgJiYgIWlzSXBob25lKSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdhdWRpbyc6XG4gICAgICAgICAgICBiYXNpYyA9IGF1ZGlvU3VwcG9ydDtcbiAgICAgICAgICAgIGZ1bGwgID0gKGJhc2ljICYmICFpc09sZElFKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBiYXNpYyA9IChhdWRpb1N1cHBvcnQgJiYgdmlkZW9TdXBwb3J0KTtcbiAgICAgICAgICAgIGZ1bGwgID0gKGJhc2ljICYmICFpc09sZElFKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNpYzogIGJhc2ljLFxuICAgICAgICBmdWxsOiAgIGZ1bGxcbiAgICB9O1xuICB9XG4gIF9pbkFycmF5KGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgJiYgKGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSAhPT0gLTEpO1xuICB9XG5cbiAgX21hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB2YXIgcCA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgdmFyIGYgPSBwLm1hdGNoZXMgfHwgcC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgcC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgcC5tc01hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiBbXS5pbmRleE9mLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzKSwgdGhpcykgIT09IC0xO1xuICAgIH07XG5cbiAgICByZXR1cm4gZi5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgfVxuICBfZXh0ZW5kKCkge1xuICAgIC8vIEdldCBhcmd1bWVudHNcbiAgICBsZXQgb2JqZWN0cyA9IGFyZ3VtZW50cztcblxuICAgIC8vIEJhaWwgaWYgbm90aGluZyB0byBtZXJnZVxuICAgIGlmICghb2JqZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBmaXJzdCBpZiBzcGVjaWZpZWQgYnV0IG5vdGhpbmcgdG8gbWVyZ2VcbiAgICBpZiAob2JqZWN0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdHNbMF07XG4gICAgfVxuXG4gICAgLy8gRmlyc3Qgb2JqZWN0IGlzIHRoZSBkZXN0aW5hdGlvblxuICAgIGxldCBkZXN0aW5hdGlvbiA9IEFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKG9iamVjdHMpLFxuICAgICAgICBsZW5ndGggICAgICA9IG9iamVjdHMubGVuZ3RoO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIHRvIG1lcmdlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgc291cmNlID0gb2JqZWN0c1tpXTtcblxuICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2VbcHJvcGVydHldICYmIFxuICAgICAgICAgIHNvdXJjZVtwcm9wZXJ0eV0uY29uc3RydWN0b3IgJiZcbiAgICAgICAgICBzb3VyY2VbcHJvcGVydHldLmNvbnN0cnVjdG9yID09PSBPYmplY3RcbiAgICAgICAgKSB7XG4gICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gZGVzdGluYXRpb25bcHJvcGVydHldIHx8IHt9O1xuICAgICAgICAgIHRoaXMuX2V4dGVuZChkZXN0aW5hdGlvbltwcm9wZXJ0eV0sIHNvdXJjZVtwcm9wZXJ0eV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cbiAgLy9yZW1vdmUgYW4gZWxlbWVudFxuICBcbiAgX3N0b3JhZ2VTdXBwb3J0KCl7XG4gICAgaWYgKCEoJ2xvY2FsU3RvcmFnZScgaW4gd2luZG93KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byB1c2UgaXQgKGl0IG1pZ2h0IGJlIGRpc2FibGVkLCBlLmcuIHVzZXIgaXMgaW4gcHJpdmF0ZS9wb3JuIG1vZGUpXG4gICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vU2Vsei9wbHlyL2lzc3Vlcy8xMzFcbiAgICB0cnkge1xuICAgICAgLy8gQWRkIHRlc3QgaXRlbVxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfX190ZXN0JywgJ09LJyk7XG5cbiAgICAgIC8vIEdldCB0aGUgdGVzdCBpdGVtXG4gICAgICBsZXQgcmVzdWx0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfX190ZXN0Jyk7XG5cbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ19fX3Rlc3QnKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdmFsdWUgbWF0Y2hlc1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT09ICdPSycpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgX2Jyb3dzZXJTbmlmZigpe1xuICAgIGxldCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBuYW1lID0gbmF2aWdhdG9yLmFwcE5hbWUsXG4gICAgICBmdWxsVmVyc2lvbiA9ICcnICsgcGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbiksXG4gICAgICBtYWpvclZlcnNpb24gPSBwYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgMTApLFxuICAgICAgbmFtZU9mZnNldCxcbiAgICAgIHZlck9mZnNldCxcbiAgICAgIGl4LFxuICAgICAgaXNJRSA9IGZhbHNlLFxuICAgICAgaXNGaXJlZm94ID0gZmFsc2UsXG4gICAgICBpc0Nocm9tZSA9IGZhbHNlLFxuICAgICAgaXNXZWNoYXQgPSBmYWxzZSxcbiAgICAgIGlzU2FmYXJpID0gZmFsc2U7XG5cbiAgICBpZiAoKG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoJ1dpbmRvd3MgTlQnKSAhPT0gLTEpICYmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCdydjoxMScpICE9PSAtMSkpIHtcbiAgICAgIC8vIE1TSUUgMTFcbiAgICAgIGlzSUUgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdJRSc7XG4gICAgICBmdWxsVmVyc2lvbiA9ICcxMSc7XG4gICAgfSBlbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignTVNJRScpKSAhPT0gLTEpIHtcbiAgICAgIC8vIE1TSUVcbiAgICAgIGlzSUUgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdJRSc7XG4gICAgICBmdWxsVmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA1KTtcbiAgICB9ZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ21pY3JvbWVzc2VuZ2VyJykpICE9PSAtMSkge1xuICAgICAgLy8gV2VDaGF0XG4gICAgICBpc1dlY2hhdCA9IHRydWU7XG4gICAgICBuYW1lID0gJ1dlQ2hhdCc7XG4gICAgICBmdWxsVmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyAxNSk7XG4gICAgfWVsc2UgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdDaHJvbWUnKSkgIT09IC0xKSB7XG4gICAgICAvLyBDaHJvbWVcbiAgICAgIGlzQ2hyb21lID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnQ2hyb21lJztcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDcpO1xuICAgIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ1NhZmFyaScpKSAhPT0gLTEpIHtcbiAgICAgIC8vIFNhZmFyaVxuICAgICAgaXNTYWZhcmkgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdTYWZhcmknO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgNyk7XG4gICAgICBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ1ZlcnNpb24nKSkgIT09IC0xKSB7XG4gICAgICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgOCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignRmlyZWZveCcpKSAhPT0gLTEpIHtcbiAgICAgIC8vIEZpcmVmb3hcbiAgICAgIGlzRmlyZWZveCA9IHRydWU7XG4gICAgICBuYW1lID0gJ0ZpcmVmb3gnO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgOCk7XG4gICAgfSBlbHNlIGlmICgobmFtZU9mZnNldCA9IHVhLmxhc3RJbmRleE9mKCcgJykgKyAxKSA8ICh2ZXJPZmZzZXQgPSB1YS5sYXN0SW5kZXhPZignLycpKSkge1xuICAgICAgLy8gSW4gbW9zdCBvdGhlciBicm93c2VycywgJ25hbWUvdmVyc2lvbicgaXMgYXQgdGhlIGVuZCBvZiB1c2VyQWdlbnRcbiAgICAgIG5hbWUgPSB1YS5zdWJzdHJpbmcobmFtZU9mZnNldCx2ZXJPZmZzZXQpO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgMSk7XG5cbiAgICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgICAgIG5hbWUgPSBuYXZpZ2F0b3IuYXBwTmFtZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUcmltIHRoZSBmdWxsVmVyc2lvbiBzdHJpbmcgYXQgc2VtaWNvbG9uL3NwYWNlIGlmIHByZXNlbnRcbiAgICBpZiAoKGl4ID0gZnVsbFZlcnNpb24uaW5kZXhPZignOycpKSAhPT0gLTEpIHtcbiAgICAgIGZ1bGxWZXJzaW9uID0gZnVsbFZlcnNpb24uc3Vic3RyaW5nKDAsIGl4KTtcbiAgICB9XG4gICAgaWYgKChpeCA9IGZ1bGxWZXJzaW9uLmluZGV4T2YoJyAnKSkgIT09IC0xKSB7XG4gICAgICBmdWxsVmVyc2lvbiA9IGZ1bGxWZXJzaW9uLnN1YnN0cmluZygwLCBpeCk7XG4gICAgfVxuXG4gICAgLy8gR2V0IG1ham9yIHZlcnNpb25cbiAgICBtYWpvclZlcnNpb24gPSBwYXJzZUludCgnJyArIGZ1bGxWZXJzaW9uLCAxMCk7XG4gICAgaWYgKGlzTmFOKG1ham9yVmVyc2lvbikpIHtcbiAgICAgIGZ1bGxWZXJzaW9uID0gJycgKyBwYXJzZUZsb2F0KG5hdmlnYXRvci5hcHBWZXJzaW9uKTtcbiAgICAgIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG5hdmlnYXRvci5hcHBWZXJzaW9uLCAxMCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGRhdGFcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogICAgICAgbmFtZSxcbiAgICAgIHZlcnNpb246ICAgIG1ham9yVmVyc2lvbixcbiAgICAgIGlzSUU6ICAgICAgIGlzSUUsXG4gICAgICBpc0ZpcmVmb3g6ICBpc0ZpcmVmb3gsXG4gICAgICBpc0Nocm9tZTogICBpc0Nocm9tZSxcbiAgICAgIGlzU2FmYXJpOiAgIGlzU2FmYXJpLFxuICAgICAgaXNXZWNoYXQ6ICAgaXNXZWNoYXQsXG4gICAgICBpc0lvczogICAgICAvKGlQYWR8aVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLFxuICAgICAgaXNJcGhvbmU6ICAgLyhpUGhvbmV8aVBvZCkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgICAgaXNUb3VjaDogICAgJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgfTtcbiAgfVxuICBfaXMoKXtcbiAgICByZXR1cm4ge1xuICAgICAgb2JqZWN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCc7XG4gICAgICB9LFxuICAgICAgYXJyYXk6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IEFycmF5KTtcbiAgICAgIH0sXG4gICAgICBudW1iZXI6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiAodHlwZW9mKGlucHV0KSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGlucHV0IC0gMCkgfHwgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IE51bWJlcikpO1xuICAgICAgfSxcbiAgICAgIHN0cmluZzogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8ICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LmNvbnN0cnVjdG9yID09PSBTdHJpbmcpKTtcbiAgICAgIH0sXG4gICAgICBib29sZWFuOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbic7XG4gICAgICB9LFxuICAgICAgbm9kZUxpc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCBpbnN0YW5jZW9mIE5vZGVMaXN0O1xuICAgICAgfSxcbiAgICAgIGh0bWxFbGVtZW50OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbjogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgIH0sXG4gICAgICB1bmRlZmluZWQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IFV0aWxzKCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlsJztcbmltcG9ydCAkIGZyb20gJy4vZG9tJztcbmltcG9ydCB7ZGVmYXVsdENvbmZpZyBhcyBkZWZhdWx0c30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnO1xuaW1wb3J0IFBsYXllciBmcm9tICcuL3BsYXllcic7XG5jbGFzcyB2UGxheWVyIHtcbiAgY29uc3RydWN0b3IodGFyZ2V0cywgb3B0aW9ucyl7XG4gICAgdGhpcy5UQUcgPSAnVmlkZW9QbGF5ZXInO1xuICAgIHRoaXMuX2luaXQodGFyZ2V0cyxvcHRpb25zKTtcbiAgfVxuICBfaW5pdCh0YXJnZXRzLCBvcHRpb25zKXtcbiAgICBjb25zdCBfdGFyZ2V0cyA9IHRoaXMuX19nZXRUYXJnZXRzKHRhcmdldHMsIG9wdGlvbnMpO1xuICAgIFxuICAgIGlmICghdXRpbHMuc3VwcG9ydGVkKCkuYmFzaWMgfHwgIV90YXJnZXRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwbGF5ZXJzID0gW10saW5zdGFuY2UgPSBbXTtcbiAgICBjb25zdCBzZWxlY3RvciA9IFtkZWZhdWx0cy5zZWxlY3RvcnMuaHRtbDVdLmpvaW4oJywnKTtcbiAgICBjb25zdCBfYWRkID0gKHRhcmdldCwgbWVkaWEpPT57XG4gICAgICBpZiAoISQuaGFzQ2xhc3MobWVkaWEsZGVmYXVsdHMuY2xhc3Nlcy5ob29rKSl7XG4gICAgICAgIHBsYXllcnMucHVzaCh7XG4gICAgICAgICAgdGFyZ2V0OiAgICAgdGFyZ2V0LFxuICAgICAgICAgIG1lZGlhOiAgICAgIG1lZGlhXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07Ly9lbmQgYWRkXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRhcmdldCA9IF90YXJnZXRzW2ldO1xuXG4gICAgICAvLyBHZXQgY2hpbGRyZW5cbiAgICAgIHZhciBjaGlsZHJlbiA9IHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblxuICAgICAgLy8gSWYgdGhlcmUncyBtb3JlIHRoYW4gb25lIG1lZGlhIGVsZW1lbnQgY2hpbGQsIHdyYXAgdGhlbVxuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNoaWxkcmVuLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgX2FkZCh0YXJnZXQsIGNoaWxkcmVuW3hdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9fbWF0Y2hlcyh0YXJnZXQsIHNlbGVjdG9yKSkge1xuICAgICAgICAvLyBUYXJnZXQgaXMgbWVkaWEgZWxlbWVudFxuICAgICAgICBfYWRkKHRhcmdldCwgdGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9Ly8gZW5kIGZvclxuICAgIGNvbnNvbGUubG9nKCdwbGF5ZXJzLS0tPicscGxheWVycyk7XG4gICAgcGxheWVycy5mb3JFYWNoKChwbGF5ZXIpPT57XG4gICAgICBjb25zdCBlbGVtZW50ID0gcGxheWVyLnRhcmdldDtcbiAgICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLm1lZGlhO1xuICAgICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgICBpZiAobWVkaWEgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgIHRyeSB7IGRhdGEgPSBKU09OLnBhcnNlKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZwbHlyJykpOyB9XG4gICAgICBjYXRjaChlKSB7IH1cbiAgICAgIGNvbnN0IGNvbmZpZyA9IHV0aWxzLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIGRhdGEpO1xuICAgICAgaWYgKCFjb25maWcuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFBsYXllcihtZWRpYSwgY29uZmlnKTtcbiAgICAgIGNvbnNvbGUubG9nKCdpbnN0YW5jZScsaW5zdGFuY2UpO1xuICAgIH0pXG4gIH1cbiAgX19tYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgdmFyIHAgPSBFbGVtZW50LnByb3RvdHlwZTtcblxuICAgIHZhciBmID0gcC5tYXRjaGVzIHx8IHAud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IHAubW96TWF0Y2hlc1NlbGVjdG9yIHx8IHAubXNNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gW10uaW5kZXhPZi5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocyksIHRoaXMpICE9PSAtMTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGYuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XG4gIH1cbiAgX19nZXRUYXJnZXRzKHRhcmdldHMsb3B0aW9ucyl7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBbZGVmYXVsdHMuc2VsZWN0b3JzLmh0bWw1XS5qb2luKCcsJyk7XG4gICAgaWYgKHV0aWxzLmlzLnN0cmluZyh0YXJnZXRzKSkge1xuICAgICAgLy8gU3RyaW5nIHNlbGVjdG9yIHBhc3NlZFxuICAgICAgdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0cyk7XG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzLmh0bWxFbGVtZW50KHRhcmdldHMpKXtcbiAgICAgIHRhcmdldHMgPSBbdGFyZ2V0c107XG4gICAgfWVsc2UgaWYgKCF1dGlscy5pcy5ub2RlTGlzdCh0YXJnZXRzKSAmJiAhdXRpbHMuaXMuYXJyYXkodGFyZ2V0cykgJiYgIXV0aWxzLmlzLnN0cmluZyh0YXJnZXRzKSkgIHtcbiAgICAgIC8vIE5vIHNlbGVjdG9yIHBhc3NlZCwgcG9zc2libHkgb3B0aW9ucyBhcyBmaXJzdCBhcmd1bWVudFxuICAgICAgLy8gSWYgb3B0aW9ucyBhcmUgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICBpZiAodXRpbHMuaXMudW5kZWZpbmVkKG9wdGlvbnMpICYmIHV0aWxzLmlzLm9iamVjdCh0YXJnZXRzKSkge1xuICAgICAgICAgIG9wdGlvbnMgPSB0YXJnZXRzO1xuICAgICAgfVxuICAgICAgdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXMubm9kZUxpc3QodGFyZ2V0cykpIHtcbiAgICAgIHRhcmdldHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0YXJnZXRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldHM7XG4gIH1cbiAgXG59XG5leHBvcnQgZGVmYXVsdCB2UGxheWVyOyJdfQ=="}