{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/config.js","src/js/dom.js","src/js/event.js","src/js/index.js","src/js/player.js","src/js/util.js","src/js/vplyr.js"],"names":[],"mappings":"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","file":"vplyr.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const defaultConfig = {\n  enabled:                 true,\n  debug:                  true,\n  autoplay:               false,\n  loop:                   false,\n  seekTime:               10,\n  volume:                 10,\n  volumeMin:              0,\n  volumeMax:              10,\n  volumeStep:             1,\n  duration:               null,\n  displayDuration:        true,\n  loadSprite:             true,\n  controls:               ['play-large', 'play', 'progress', 'time', 'mute', 'volume', 'captions', 'fullscreen'],\n  selectors: {\n    html5:                'video, audio',\n    editable:             'input, textarea, select, [contenteditable]',\n    container:            '.vplyr',\n    controls: {\n        container:        null,\n        wrapper:          '.vplyr-controls'\n    },\n    buttons: {\n        seek:             '[data-video=\"seek\"]',\n        play:             '[data-video=\"play\"]',\n        pause:            '[data-video=\"pause\"]',\n        mute:             '[data-video=\"mute\"]',\n        fullscreen:       '[data-video=\"fullscreen\"]'\n    },\n    volume: {\n        input:            '[data-video=\"volume\"]',\n        display:          '.vplyr-volume-display'\n    },\n    progress: {\n        container:        '.vplyr-progress-bar-container',\n        buffer:           '.vplyr-progress-buffer',\n        played:           '.vplyr-progress-played'\n    },\n    volume: {\n        input:          '[data-video=\"volume\"]',\n        display:        '.vplyr-volume-display'\n    },\n    currentTime:          '.control-currenttime',\n    duration:             '.control-duration'\n},\n  // Custom control listeners\n  listeners: {\n      seek:               null,\n      play:               null,\n      pause:              null,\n      restart:            null,\n      rewind:             null,\n      forward:            null,\n      mute:               null,\n      volume:             null,\n      captions:           null,\n      fullscreen:         null\n  },\n  types: {\n    html5:              ['video']\n  },\n  classes:{\n    type:               'vplyr-{0}',\n    videoWrapper:'vplyr-video-container',\n    playing:'vplyr-plying',\n    loading:            'vplyr-loading',\n    hover:              'vplyr-hover',\n    stopped:'vplyr-stopped',\n    isIos:              'vplyr--is-ios',\n    isTouch:            'vplyr--is-touch',\n    isWechat:           'vplyr--is-wechat',\n  },\n  events:                 ['ready', 'ended', 'progress', 'stalled', 'playing', 'waiting', 'canplay', 'canplaythrough', 'loadstart', 'loadeddata', 'loadedmetadata', 'timeupdate', 'volumechange', 'play', 'pause', 'error', 'seeking', 'seeked', 'emptied'],\n  // Logging\n  logPrefix:              '[VPlyr]'\n}\nexport function createDefaultConfig() {\n  return Object.assign({}, defaultConfig);\n}","class Dom {\n  constructor(){\n    this.toggleClass  = this._toggleClass.bind(this);\n    this.removeElement  = this._removeElement.bind(this);\n    this.hasClass = this._hasClass.bind(this);\n    this.injectScript = this._injectScript.bind(this);\n    this.prependChild = this._prependChild.bind(this);\n    this.setAttributes = this._setAttributes.bind(this);\n    this.insertElement= this._insertElement.bind(this);\n    this.getClassname= this._getClassname.bind(this);\n  }\n  _getClassname(selector) {\n    return selector.replace('.', '');\n  }\n  _insertElement(type, parent, attributes) {\n    // Create a new <element>\n    var element = document.createElement(type);\n\n    // Set all passed attributes\n    _setAttributes(element, attributes);\n\n    // Inject the new element\n    _prependChild(parent, element);\n  }\n  _setAttributes(element, attributes) {\n    for (var key in attributes) {\n      element.setAttribute(key, (_is.boolean(attributes[key]) && attributes[key]) ? '' : attributes[key]);\n    }\n  }\n  _prependChild(parent, element) {\n    parent.insertBefore(element, parent.firstChild);\n  }\n  _injectScript(source) {\n    if (document.querySelectorAll('script[src=\"' + source + '\"]').length) {\n        return;\n    }\n\n    var tag = document.createElement('script');\n    tag.src = source;\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n  _hasClass(element, className) {\n    if (element) {\n      if (element.classList) {\n          return element.classList.contains(className);\n      } else {\n          return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test(element.className);\n      }\n    }\n    return false;\n  }\n  _removeElement(element){\n    if (!element) {\n        return;\n    }\n    element.parentNode.removeChild(element);\n  }\n  // Toggle class on an element\n  _toggleClass(element, className, state){\n    if (element) {\n      if (element.classList) {\n        element.classList[state ? 'add' : 'remove'](className);\n      } else {\n        let name = (' ' + element.className + ' ').replace(/\\s+/g, ' ').replace(' ' + className + ' ', '');\n        element.className = name + (state ? ' ' + className : '');\n      }\n    }\n  }\n}\nexport default new Dom();\n","import utils from './util';\n\nclass Event{\n  constructor(){\n    this.onEvent = this._on.bind(this);\n    this.customEvent = this._event.bind(this);\n  }\n  _event(element, type, bubbles, properties) {\n    // Bail if no element\n    if (!element || !type) {\n        return;\n    }\n\n    // Default bubbles to false\n    if (!_is.boolean(bubbles)) {\n        bubbles = false;\n    }\n\n    // Create and dispatch the event\n    var event = new CustomEvent(type, {\n        bubbles:    bubbles,\n        detail:     properties\n    });\n\n    // Dispatch the event\n    element.dispatchEvent(event);\n  }\n  _on(element, events, callback, useCapture) {\n    if (element) {\n      this._toggleListener(element, events, callback, true, useCapture);\n    }\n  }\n\n  _toggleListener(element, events, callback, toggle, useCapture) {\n    var eventList = events.split(' ');\n    // Whether the listener is a capturing listener or not\n    // Default to false\n    if (!utils.is.boolean(useCapture)) {\n      useCapture = false;\n    }\n\n    // If a nodelist is passed, call itself on each node\n    if (element instanceof NodeList) {\n      for (var x = 0; x < element.length; x++) {\n        if (element[x] instanceof Node) {\n          this._toggleListener(element[x], arguments[1], arguments[2], arguments[3]);\n        }\n      }\n      return;\n    }\n\n    // If a single node is passed, bind the event listener\n    for (var i = 0; i < eventList.length; i++) {\n      element[toggle ? 'addEventListener' : 'removeEventListener'](eventList[i], callback, useCapture);\n    }\n  }\n}\nexport default new Event();","import vPlayer from './vplyr.js';\n\n;(function(root, factory) {\n    'use strict';\n    /*global define,module*/\n\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        // Node, CommonJS-like\n        module.exports = factory(root, document);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define([], function () { return factory(root, document); });\n    } else {\n        // Browser globals (root is window)\n        root.vplyr = factory(root, document);\n    }\n}(typeof window !== 'undefined' ? window : this, function(window, document) {\n  window.vPlayer = vPlayer;\n}))","'use strict';\n\nimport utils from './util';\nimport $ from './dom';\nimport Event from './event';\nlet _log , _warn;\n\nclass Player {\n  constructor(media, config){\n    this._init(media, config);\n  }\n  _init(media, config){\n    const vk = this;\n    const timers = {};\n    let api = {};\n    vk.media = media;\n    let original = media.cloneNode(true);\n    const _console = (type,args)=>{\n      if (config.debug && window.console) {\n        args = Array.prototype.slice.call(args);\n\n        if (utils.is.string(config.logPrefix) && config.logPrefix.length) {\n          args.unshift(config.logPrefix);\n        }\n\n        console[type].apply(console, args);\n      }\n    };\n    _log = function() { _console('log', arguments) };\n    _warn = function() { _console('warn', arguments) };\n    _log('Config', config);\n    this._setup(vk,config);\n    _log('player', vk);\n    if (!vk.init) {\n      return null;\n    }\n    return api;\n  }\n\n  _setup(player,config){\n    if (player.init) {\n      return null;\n    }\n    player.browser = utils.browserSniff;\n    if (!utils.is.htmlElement(player.media)) {\n      return;\n    }\n    const tagName = player.media.tagName.toLowerCase();\n    player.type         = tagName;\n    config.crossorigin  = (player.media.getAttribute('crossorigin') !== null);\n    config.autoplay     = (config.autoplay || (player.media.getAttribute('autoplay') !== null));\n    config.loop         = (config.loop || (player.media.getAttribute('loop') !== null));\n    player.supported = utils.supported(player.type);\n    if (!player.supported.basic) {\n      return;\n    }\n    player.container = this._wrap(player.media, document.createElement('div'));\n    player.container.setAttribute('tabindex', 0);\n    this._toggleStyleHook(player,config);\n    _log('' + player.browser.name + ' ' + player.browser.version);\n    this._setupMedia(player,config);\n    if(utils.inArray(config.types.html5,player.type)){\n      // Setup UI\n      this._setupInterface(player,config);\n    }\n  }\n  _setupInterface(player,config){\n    const _getElements = (selector)=> {\n      return player.container.querySelectorAll(selector);\n    }\n    const _getElement=(selector)=> {\n      return _getElements(selector)[0];\n    }\n    if (!player.supported.full) {\n      _warn('Basic support only', player.type);\n      \n      // Remove controls\n      $.removeElement(_getElement(config.selectors.controls.wrapper));\n      // reset native controls\n      this._toggleNativeControls(true,player,config);\n      // Bail\n      return;\n    }\n    const controlsMissing = !_getElements(config.selectors.controls.wrapper).length;\n    if (controlsMissing) {\n      // Inject custom controls\n      this._injectControls(player,config);\n    }\n    // Find the elements\n    if (!this._findElements()) {\n      return;\n    }\n    if (controlsMissing) {\n      this._controlListeners(player,config);\n    }\n  }\n  _controlListeners(player,config){\n    const inputEvent = (player.browser.isIE ? 'change' : 'input');\n  }\n  _injectControls(player,config){\n    let html = config.html;\n\n    // Insert custom video controls\n    _log('Injecting custom controls');\n    // If no controls are specified, create default\n    if (!html) {\n      html = this._buildControls(config);\n    }\n    html = utils.replaceAll(html, '{id}', Math.floor(Math.random() * (100000)));\n    let target;\n    if (utils.is.string(config.selectors.controls.container)) {\n      target = document.querySelector(config.selectors.controls.container);\n    }\n    // Inject into the container by default\n    if (!utils.is.htmlElement(target)) {\n      target = player.container\n    }\n    target.insertAdjacentHTML('beforeend', html);\n  }\n  _findElements(player,config){\n    const _getElements = (selector)=> {\n      return player.container.querySelectorAll(selector);\n    }\n    const _getElement=(selector)=> {\n      return _getElements(selector)[0];\n    }\n    try {\n      player.controls                 = _getElement(config.selectors.controls.wrapper);\n\n      // Buttons\n      player.buttons = {};\n      player.buttons.seek             = _getElement(config.selectors.buttons.seek);\n      player.buttons.play             = _getElements(config.selectors.buttons.play);\n      player.buttons.pause            = _getElement(config.selectors.buttons.pause);\n      player.buttons.fullscreen       = _getElement(config.selectors.buttons.fullscreen);\n\n      // Inputs\n      player.buttons.mute             = _getElement(config.selectors.buttons.mute);\n\n      // Progress\n      player.progress = {};\n      player.progress.container       = _getElement(config.selectors.progress.container);\n\n      // Progress - Buffering\n      player.progress.buffer          = {};\n      player.progress.buffer.bar      = _getElement(config.selectors.progress.buffer);\n      player.progress.buffer.text     = player.progress.buffer.bar && player.progress.buffer.bar.getElementsByTagName('span')[0];\n\n      // Progress - Played\n      player.progress.played          = _getElement(config.selectors.progress.played);\n\n      // Volume\n      player.volume                   = {};\n      player.volume.input             = _getElement(config.selectors.volume.input);\n      player.volume.display           = _getElement(config.selectors.volume.display);\n\n      // Timing\n      player.duration                 = _getElement(config.selectors.duration);\n      player.currentTime              = _getElement(config.selectors.currentTime);\n      player.seekTime                 = _getElements(config.selectors.seekTime);\n\n      return true;\n    }\n    catch(e) {\n      _warn('It looks like there is a problem with your controls HTML');\n      // Restore native video controls\n      this._toggleNativeControls(true);\n\n      return false;\n    }\n  }\n  _buildControls(config){\n    const html = ['<div class=\"vplyr-gradient-bottom\"></div>'];\n    html.push('<div class=\"vplyr-bottom-container\">')\n    if (utils.inArray(config.controls, 'progress')) {\n      html.push(\n          '<div class=\"vplyr-progress-bar-container\">',\n          '<input id=\"seek{id}\" type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"0.1\" class=\"vplyr-progress-bar\" data-video=\"seek\"/>',\n          '<progress class=\"vplyr-progress-played\" max=\"100\" role=\"presentation\"></progress>',\n          '<progress class=\"vplyr-progress-buffer\" max=\"100\" value=\"100\">',\n          '<span>100.00</span>',\n          '</progress>',\n          '</div>'\n      );\n    }\n    html.push('<div class=\"vplyr-controls\">')\n    html.push('<div class=\"left-controls\">')\n    if (utils.inArray(config.controls, 'play')) {\n      html.push(\n        '<div class=\"btn-controls\">',\n          '<div class=\"btn-wrap\">',\n          '<div class=\"play\" data-video=\"play\"></div>',\n          '<div class=\"pause\" data-video=\"pause\"></div>',\n          '</div>',\n          '</div>'\n      );\n    }\n    if (utils.inArray(config.controls, 'time')) {\n      html.push(\n        '<div class=\"time-mod-controls\">',\n          '<div class=\"control-currenttime\">01:29</div>',\n          '<div class=\"control-separator\">/</div>',\n          '<div class=\"control-duration\">1:30:52</div>',\n          '</div>'\n      );\n    }\n    html.push('</div>')//close vplyr left controls\n    html.push('<div class=\"right-controls\">')\n    if (utils.inArray(config.controls, 'fullscreen')) {\n      html.push(\n        '<div class=\"fullscreen-controls\">',\n          '<svg class=\"icon-exit-fullscreen\" data-video=\"fullscreen\">',\n          '<use xlink:href=\"#vplyr-exit-fullscreen\"></use>',\n          '</svg>',\n          '<svg class=\"icon-enter-fullscreen\">',\n          ' <use xlink:href=\"#vplyr-enter-fullscreen\"></use>',\n          '</svg>',\n          '</div>'\n      );\n    }\n    html.push('<div class=\"volume-controls\">')\n    if (utils.inArray(config.controls, 'mute')) {\n      html.push(\n        '<div class=\"vplyr-volume\" data-video=\"mute\">',\n          '<svg class=\"icon-muted\">',\n          '<use xlink:href=\"#vplyr-muted\"></use>',\n          '</svg>',\n          '<svg class=\"icon-volume\">',\n          '<use xlink:href=\"#vplyr-volume\"></use>',\n          '</svg>',\n          '</div>'\n      );\n    }\n    if (utils.inArray(config.controls, 'volume')) {\n      html.push(\n        '<div class=\"vplyr-volume-progress\">',\n          '<input type=\"range\" id=\"volume{id}\"  class=\"vplyr-volume-input\"  min=\"0\"  max=\"10\" data-video=\"volume\" value=\"8\">',\n          '<progress class=\"vplyr-volume-display\" max=\"10\" role=\"presentation\"></progress>',\n          '</div>'\n      );\n    }\n    html.push('</div>')//close vplyr volume controls\n    \n    html.push('</div>')//close vplyr right controls\n    \n    html.push('</div>')//close vplyr controls\n    html.push('</div>')//close\n    return html.join('');\n  }\n  _setupMedia(player,config){\n    if (!player.media) {\n      _warn('No media element found!');\n      return;\n    }\n    if(player.supported.full){\n      $.toggleClass(player.container, config.classes.type.replace('{0}', player.type), true);\n      $.toggleClass(player.container, config.classes.stopped, config.autoplay);\n      // Add iOS class\n      $.toggleClass(player.container, config.classes.isIos, player.browser.isIos);\n\n      // Add touch class\n      $.toggleClass(player.container, config.classes.isTouch, player.browser.isTouch);\n\n      // Add wechat class\n      $.toggleClass(player.container, config.classes.isTouch, player.browser.isWechat);\n      if(player.type === 'video'){\n        const wrapper = document.createElement('div');\n        wrapper.setAttribute('class', config.classes.videoWrapper);\n        this._wrap(player.media, wrapper);\n        // Cache the container\n        player.videoContainer = wrapper;\n      }\n    }\n  }\n  _toggleNativeControls(toggle,player,config) {\n    if (toggle && utils.inArray(config.types.html5, player.type)) {\n        player.media.setAttribute('controls', '');\n    } else {\n        player.media.removeAttribute('controls');\n    }\n  }\n  _wrap(elements, wrapper) {\n    // Convert `elements` to an array, if necessary.\n    if (!elements.length) {\n        elements = [elements];\n    }\n\n    // Loops backwards to prevent having to clone the wrapper on the\n    // first element (see `child` below).\n    for (var i = elements.length - 1; i >= 0; i--) {\n      var child   = (i > 0) ? wrapper.cloneNode(true) : wrapper;\n      var element = elements[i];\n\n      // Cache the current parent and sibling.\n      var parent  = element.parentNode;\n      var sibling = element.nextSibling;\n\n      // Wrap the element (is automatically removed from its current\n      // parent).\n      child.appendChild(element);\n\n      // If the element had a sibling, insert the wrapper before\n      // the sibling to maintain the HTML structure; otherwise, just\n      // append it to the parent.\n      if (sibling) {\n          parent.insertBefore(child, sibling);\n      } else {\n          parent.appendChild(child);\n      }\n      return child;\n    }\n  }\n  _toggleStyleHook(player,config) {\n    $.toggleClass(player.container, config.selectors.container.replace('.', ''), player.supported.full);\n  }\n}\nexport default Player;","class Utils {\n  constructor(){\n    this.browserSniff=this._browserSniff.bind(this)();\n    this.is = this._is.bind(this)();\n    this.storageSupport = this._storageSupport.bind(this)();\n    this.extend  = this._extend.bind(this);\n    this.matches  = this._matches.bind(this);\n    this.inArray = this._inArray.bind(this);\n    this.supported = this._support.bind(this);\n    this.replaceAll = this._replaceAll.bind(this);\n    \n  }\n  _replaceAll(string, find, replace) {\n    return string.replace(new RegExp(find.replace(/([.*+?\\^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'), 'g'), replace);\n  }\n  _support(type){\n    const browser     = this._browserSniff(),\n        isOldIE     = (browser.isIE && browser.version <= 9),\n        isIos       = browser.isIos,\n        isIphone    = browser.isIphone,\n        audioSupport = !!document.createElement('audio').canPlayType,\n        videoSupport = !!document.createElement('video').canPlayType;\n    let basic       = false,\n        full        = false;\n\n    switch (type) {\n        case 'video':\n            basic = videoSupport;\n            full  = (basic && (!isOldIE && !isIphone));\n            break;\n\n        case 'audio':\n            basic = audioSupport;\n            full  = (basic && !isOldIE);\n            break;\n\n        default:\n            basic = (audioSupport && videoSupport);\n            full  = (basic && !isOldIE);\n    }\n\n    return {\n        basic:  basic,\n        full:   full\n    };\n  }\n  _inArray(haystack, needle) {\n    return Array.prototype.indexOf && (haystack.indexOf(needle) !== -1);\n  }\n\n  _matches(element, selector) {\n    var p = Element.prototype;\n\n    var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\n        return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n    };\n\n    return f.call(element, selector);\n  }\n  _extend() {\n    // Get arguments\n    let objects = arguments;\n\n    // Bail if nothing to merge\n    if (!objects.length) {\n        return;\n    }\n\n    // Return first if specified but nothing to merge\n    if (objects.length === 1) {\n        return objects[0];\n    }\n\n    // First object is the destination\n    let destination = Array.prototype.shift.call(objects),\n        length      = objects.length;\n\n    // Loop through all objects to merge\n    for (let i = 0; i < length; i++) {\n        let source = objects[i];\n\n      for (let property in source) {\n        if (source[property] && \n          source[property].constructor &&\n          source[property].constructor === Object\n        ) {\n          destination[property] = destination[property] || {};\n          this._extend(destination[property], source[property]);\n        } else {\n          destination[property] = source[property];\n        }\n      }\n    }\n\n    return destination;\n  }\n  //remove an element\n  \n  _storageSupport(){\n    if (!('localStorage' in window)) {\n      return false;\n    }\n\n    // Try to use it (it might be disabled, e.g. user is in private/porn mode)\n    // see: https://github.com/Selz/plyr/issues/131\n    try {\n      // Add test item\n      window.localStorage.setItem('___test', 'OK');\n\n      // Get the test item\n      let result = window.localStorage.getItem('___test');\n\n      // Clean up\n      window.localStorage.removeItem('___test');\n\n      // Check if value matches\n      return (result === 'OK');\n    }\n    catch (e) {\n      return false;\n    }\n\n    return false;\n  }\n  \n  _browserSniff(){\n    let ua = navigator.userAgent,\n      name = navigator.appName,\n      fullVersion = '' + parseFloat(navigator.appVersion),\n      majorVersion = parseInt(navigator.appVersion, 10),\n      nameOffset,\n      verOffset,\n      ix,\n      isIE = false,\n      isFirefox = false,\n      isChrome = false,\n      isWechat = false,\n      isSafari = false;\n\n    if ((navigator.appVersion.indexOf('Windows NT') !== -1) && (navigator.appVersion.indexOf('rv:11') !== -1)) {\n      // MSIE 11\n      isIE = true;\n      name = 'IE';\n      fullVersion = '11';\n    } else if ((verOffset = ua.indexOf('MSIE')) !== -1) {\n      // MSIE\n      isIE = true;\n      name = 'IE';\n      fullVersion = ua.substring(verOffset + 5);\n    }else if ((verOffset = ua.indexOf('micromessenger')) !== -1) {\n      // WeChat\n      isWechat = true;\n      name = 'WeChat';\n      fullVersion = ua.substring(verOffset + 15);\n    }else if ((verOffset = ua.indexOf('Chrome')) !== -1) {\n      // Chrome\n      isChrome = true;\n      name = 'Chrome';\n      fullVersion = ua.substring(verOffset + 7);\n    } else if ((verOffset = ua.indexOf('Safari')) !== -1) {\n      // Safari\n      isSafari = true;\n      name = 'Safari';\n      fullVersion = ua.substring(verOffset + 7);\n      if ((verOffset = ua.indexOf('Version')) !== -1) {\n          fullVersion = ua.substring(verOffset + 8);\n      }\n    } else if ((verOffset = ua.indexOf('Firefox')) !== -1) {\n      // Firefox\n      isFirefox = true;\n      name = 'Firefox';\n      fullVersion = ua.substring(verOffset + 8);\n    } else if ((nameOffset = ua.lastIndexOf(' ') + 1) < (verOffset = ua.lastIndexOf('/'))) {\n      // In most other browsers, 'name/version' is at the end of userAgent\n      name = ua.substring(nameOffset,verOffset);\n      fullVersion = ua.substring(verOffset + 1);\n\n      if (name.toLowerCase() === name.toUpperCase()) {\n          name = navigator.appName;\n      }\n    }\n\n    // Trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n\n    // Get major version\n    majorVersion = parseInt('' + fullVersion, 10);\n    if (isNaN(majorVersion)) {\n      fullVersion = '' + parseFloat(navigator.appVersion);\n      majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    // Return data\n    return {\n      name:       name,\n      version:    majorVersion,\n      isIE:       isIE,\n      isFirefox:  isFirefox,\n      isChrome:   isChrome,\n      isSafari:   isSafari,\n      isWeChat:   isWechat,\n      isIos:      /(iPad|iPhone|iPod)/g.test(navigator.platform),\n      isIphone:   /(iPhone|iPod)/g.test(navigator.userAgent),\n      isTouch:    'ontouchstart' in document.documentElement\n    };\n  }\n  _is(){\n    return {\n      object: function(input) {\n        return input !== null && typeof(input) === 'object';\n      },\n      array: function(input) {\n        return input !== null && (typeof(input) === 'object' && input.constructor === Array);\n      },\n      number: function(input) {\n        return input !== null && (typeof(input) === 'number' && !isNaN(input - 0) || (typeof input === 'object' && input.constructor === Number));\n      },\n      string: function(input) {\n        return input !== null && (typeof input === 'string' || (typeof input === 'object' && input.constructor === String));\n      },\n      boolean: function(input) {\n        return input !== null && typeof input === 'boolean';\n      },\n      nodeList: function(input) {\n        return input !== null && input instanceof NodeList;\n      },\n      htmlElement: function(input) {\n        return input !== null && input instanceof HTMLElement;\n      },\n      function: function(input) {\n        return input !== null && typeof input === 'function';\n      },\n      undefined: function(input) {\n        return input !== null && typeof input === 'undefined';\n      }\n    }\n  }\n}\nexport default new Utils();","'use strict';\n\nimport utils from './util';\nimport $ from './dom';\nimport {defaultConfig as defaults} from './config';\nimport Event from './event';\nimport Player from './player';\nclass vPlayer {\n  constructor(targets, options){\n    this.TAG = 'VideoPlayer';\n    this._init(targets,options);\n  }\n  _init(targets, options){\n    const _targets = this.__getTargets(targets, options);\n    \n    if (!utils.supported().basic || !_targets.length) {\n      return false;\n    }\n    const players = [],instance = [];\n    const selector = [defaults.selectors.html5].join(',');\n    const _add = (target, media)=>{\n      if (!$.hasClass(media,defaults.classes.hook)){\n        players.push({\n          target:     target,\n          media:      media\n        });\n      }\n    };//end add\n    for (var i = 0; i < _targets.length; i++) {\n      var target = _targets[i];\n\n      // Get children\n      var children = target.querySelectorAll(selector);\n\n      // If there's more than one media element child, wrap them\n      if (children.length) {\n        for (var x = 0; x < children.length; x++) {\n          _add(target, children[x]);\n        }\n      } else if (this.__matches(target, selector)) {\n        // Target is media element\n        _add(target, target);\n      }\n    }// end for\n    console.log('players--->',players);\n    players.forEach((player)=>{\n      const element = player.target;\n      const media = player.media;\n      let match = false;\n      if (media === element) {\n        match = true;\n      }\n      let data = {};\n      try { data = JSON.parse(element.getAttribute('data-vplyr')); }\n      catch(e) { }\n      const config = utils.extend({}, defaults, options, data);\n      if (!config.enabled) {\n        return null;\n      }\n      const instance = new Player(media, config);\n      console.log('instance',instance);\n    })\n  }\n  __matches(element, selector) {\n    var p = Element.prototype;\n\n    var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\n        return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n    };\n\n    return f.call(element, selector);\n  }\n  __getTargets(targets,options){\n    const selector = [defaults.selectors.html5].join(',');\n    if (utils.is.string(targets)) {\n      // String selector passed\n      targets = document.querySelectorAll(targets);\n    } else if(utils.is.htmlElement(targets)){\n      targets = [targets];\n    }else if (!utils.is.nodeList(targets) && !utils.is.array(targets) && !utils.is.string(targets))  {\n      // No selector passed, possibly options as first argument\n      // If options are the first argument\n      if (utils.is.undefined(options) && utils.is.object(targets)) {\n          options = targets;\n      }\n      targets = document.querySelectorAll(selector);\n    }\n    if (utils.is.nodeList(targets)) {\n      targets = Array.prototype.slice.call(targets);\n    }\n    return targets;\n  }\n  \n}\nexport default vPlayer;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RvbS5qcyIsInNyYy9qcy9ldmVudC5qcyIsInNyYy9qcy9pbmRleC5qcyIsInNyYy9qcy9wbGF5ZXIuanMiLCJzcmMvanMvdXRpbC5qcyIsInNyYy9qcy92cGx5ci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O1FDNEVnQixtQixHQUFBLG1COzs7O0FBNUVULElBQU0sd0NBQWdCO0FBQzNCLGFBQXlCLElBREU7QUFFM0IsV0FBd0IsSUFGRztBQUczQixjQUF3QixLQUhHO0FBSTNCLFVBQXdCLEtBSkc7QUFLM0IsY0FBd0IsRUFMRztBQU0zQixZQUF3QixFQU5HO0FBTzNCLGVBQXdCLENBUEc7QUFRM0IsZUFBd0IsRUFSRztBQVMzQixnQkFBd0IsQ0FURztBQVUzQixjQUF3QixJQVZHO0FBVzNCLHFCQUF3QixJQVhHO0FBWTNCLGdCQUF3QixJQVpHO0FBYTNCLGNBQXdCLENBQUMsWUFBRCxFQUFlLE1BQWYsRUFBdUIsVUFBdkIsRUFBbUMsTUFBbkMsRUFBMkMsTUFBM0MsRUFBbUQsUUFBbkQsRUFBNkQsVUFBN0QsRUFBeUUsWUFBekUsQ0FiRztBQWMzQjtBQUNFLGVBQXNCLGNBRHhCO0FBRUUsa0JBQXNCLDRDQUZ4QjtBQUdFLG1CQUFzQixRQUh4QjtBQUlFLGtCQUFVO0FBQ04sdUJBQWtCLElBRFo7QUFFTixxQkFBa0I7QUFGWixTQUpaO0FBUUUsaUJBQVM7QUFDTCxrQkFBa0IscUJBRGI7QUFFTCxrQkFBa0IscUJBRmI7QUFHTCxtQkFBa0Isc0JBSGI7QUFJTCxrQkFBa0IscUJBSmI7QUFLTCx3QkFBa0I7QUFMYixTQVJYO0FBZUUsZ0JBQVE7QUFDSixtQkFBa0IsdUJBRGQ7QUFFSixxQkFBa0I7QUFGZCxTQWZWO0FBbUJFLGtCQUFVO0FBQ04sdUJBQWtCLCtCQURaO0FBRU4sb0JBQWtCLHdCQUZaO0FBR04s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RUFBMkIsSUFBM0IsQ0FBZ0MsR0FBaEMsQ0FBakI7QUFDQSxVQUFJLGVBQU0sRUFBTixDQUFTLE1BQVQsQ0FBZ0IsT0FBaEIsQ0FBSixFQUE4QjtBQUM1QjtBQUNBLGtCQUFVLFNBQVMsZ0JBQVQsQ0FBMEIsT0FBMUIsQ0FBVjtBQUNELE9BSEQsTUFHTyxJQUFHLGVBQU0sRUFBTixDQUFTLFdBQVQsQ0FBcUIsT0FBckIsQ0FBSCxFQUFpQztBQUN0QyxrQkFBVSxDQUFDLE9BQUQsQ0FBVjtBQUNELE9BRk0sTUFFRCxJQUFJLENBQUMsZUFBTSxFQUFOLENBQVMsUUFBVCxDQUFrQixPQUFsQixDQUFELElBQStCLENBQUMsZUFBTSxFQUFOLENBQVMsS0FBVCxDQUFlLE9BQWYsQ0FBaEMsSUFBMkQsQ0FBQyxlQUFNLEVBQU4sQ0FBUyxNQUFULENBQWdCLE9BQWhCLENBQWhFLEVBQTJGO0FBQy9GO0FBQ0E7QUFDQSxZQUFJLGVBQU0sRUFBTixDQUFTLFNBQVQsQ0FBbUIsT0FBbkIsS0FBK0IsZUFBTSxFQUFOLENBQVMsTUFBVCxDQUFnQixPQUFoQixDQUFuQyxFQUE2RDtBQUN6RCxvQkFBVSxPQUFWO0FBQ0g7QUFDRCxrQkFBVSxTQUFTLGdCQUFULENBQTBCLFFBQTFCLENBQVY7QUFDRDtBQUNELFVBQUksZUFBTSxFQUFOLENBQVMsUUFBVCxDQUFrQixPQUFsQixDQUFKLEVBQWdDO0FBQzlCLGtCQUFVLE1BQU0sU0FBTixDQUFnQixLQUFoQixDQUFzQixJQUF0QixDQUEyQixPQUEzQixDQUFWO0FBQ0Q7QUFDRCxhQUFPLE9BQVA7QUFDRDs7Ozs7O2tCQUdZLE8iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gIGVuYWJsZWQ6ICAgICAgICAgICAgICAgICB0cnVlLFxuICBkZWJ1ZzogICAgICAgICAgICAgICAgICB0cnVlLFxuICBhdXRvcGxheTogICAgICAgICAgICAgICBmYWxzZSxcbiAgbG9vcDogICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gIHNlZWtUaW1lOiAgICAgICAgICAgICAgIDEwLFxuICB2b2x1bWU6ICAgICAgICAgICAgICAgICAxMCxcbiAgdm9sdW1lTWluOiAgICAgICAgICAgICAgMCxcbiAgdm9sdW1lTWF4OiAgICAgICAgICAgICAgMTAsXG4gIHZvbHVtZVN0ZXA6ICAgICAgICAgICAgIDEsXG4gIGR1cmF0aW9uOiAgICAgICAgICAgICAgIG51bGwsXG4gIGRpc3BsYXlEdXJhdGlvbjogICAgICAgIHRydWUsXG4gIGxvYWRTcHJpdGU6ICAgICAgICAgICAgIHRydWUsXG4gIGNvbnRyb2xzOiAgICAgICAgICAgICAgIFsncGxheS1sYXJnZScsICdwbGF5JywgJ3Byb2dyZXNzJywgJ3RpbWUnLCAnbXV0ZScsICd2b2x1bWUnLCAnY2FwdGlvbnMnLCAnZnVsbHNjcmVlbiddLFxuICBzZWxlY3RvcnM6IHtcbiAgICBodG1sNTogICAgICAgICAgICAgICAgJ3ZpZGVvLCBhdWRpbycsXG4gICAgZWRpdGFibGU6ICAgICAgICAgICAgICdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgW2NvbnRlbnRlZGl0YWJsZV0nLFxuICAgIGNvbnRhaW5lcjogICAgICAgICAgICAnLnZwbHlyJyxcbiAgICBjb250cm9sczoge1xuICAgICAgICBjb250YWluZXI6ICAgICAgICBudWxsLFxuICAgICAgICB3cmFwcGVyOiAgICAgICAgICAnLnZwbHlyLWNvbnRyb2xzJ1xuICAgIH0sXG4gICAgYnV0dG9uczoge1xuICAgICAgICBzZWVrOiAgICAgICAgICAgICAnW2RhdGEtdmlkZW89XCJzZWVrXCJdJyxcbiAgICAgICAgcGxheTogICAgICAgICAgICAgJ1tkYXRhLXZpZGVvPVwicGxheVwiXScsXG4gICAgICAgIHBhdXNlOiAgICAgICAgICAgICdbZGF0YS12aWRlbz1cInBhdXNlXCJdJyxcbiAgICAgICAgbXV0ZTogICAgICAgICAgICAgJ1tkYXRhLXZpZGVvPVwibXV0ZVwiXScsXG4gICAgICAgIGZ1bGxzY3JlZW46ICAgICAgICdbZGF0YS12aWRlbz1cImZ1bGxzY3JlZW5cIl0nXG4gICAgfSxcbiAgICB2b2x1bWU6IHtcbiAgICAgICAgaW5wdXQ6ICAgICAgICAgICAgJ1tkYXRhLXZpZGVvPVwidm9sdW1lXCJdJyxcbiAgICAgICAgZGlzcGxheTogICAgICAgICAgJy52cGx5ci12b2x1bWUtZGlzcGxheSdcbiAgICB9LFxuICAgIHByb2dyZXNzOiB7XG4gICAgICAgIGNvbnRhaW5lcjogICAgICAgICcudnBseXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lcicsXG4gICAgICAgIGJ1ZmZlcjogICAgICAgICAgICcudnBseXItcHJvZ3Jlc3MtYnVmZmVyJyxcbiAgICAgICAgcGxheWVkOiAgICAgICAgICAgJy52cGx5ci1wcm9ncmVzcy1wbGF5ZWQnXG4gICAgfSxcbiAgICB2b2x1bWU6IHtcbiAgICAgICAgaW5wdXQ6ICAgICAgICAgICdbZGF0YS12aWRlbz1cInZvbHVtZVwiXScsXG4gICAgICAgIGRpc3BsYXk6ICAgICAgICAnLnZwbHlyLXZvbHVtZS1kaXNwbGF5J1xuICAgIH0sXG4gICAgY3VycmVudFRpbWU6ICAgICAgICAgICcuY29udHJvbC1jdXJyZW50dGltZScsXG4gICAgZHVyYXRpb246ICAgICAgICAgICAgICcuY29udHJvbC1kdXJhdGlvbidcbn0sXG4gIC8vIEN1c3RvbSBjb250cm9sIGxpc3RlbmVyc1xuICBsaXN0ZW5lcnM6IHtcbiAgICAgIHNlZWs6ICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgIHBsYXk6ICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgIHBhdXNlOiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgIHJlc3RhcnQ6ICAgICAgICAgICAgbnVsbCxcbiAgICAgIHJld2luZDogICAgICAgICAgICAgbnVsbCxcbiAgICAgIGZvcndhcmQ6ICAgICAgICAgICAgbnVsbCxcbiAgICAgIG11dGU6ICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgIHZvbHVtZTogICAgICAgICAgICAgbnVsbCxcbiAgICAgIGNhcHRpb25zOiAgICAgICAgICAgbnVsbCxcbiAgICAgIGZ1bGxzY3JlZW46ICAgICAgICAgbnVsbFxuICB9LFxuICB0eXBlczoge1xuICAgIGh0bWw1OiAgICAgICAgICAgICAgWyd2aWRlbyddXG4gIH0sXG4gIGNsYXNzZXM6e1xuICAgIHR5cGU6ICAgICAgICAgICAgICAgJ3ZwbHlyLXswfScsXG4gICAgdmlkZW9XcmFwcGVyOid2cGx5ci12aWRlby1jb250YWluZXInLFxuICAgIHBsYXlpbmc6J3ZwbHlyLXBseWluZycsXG4gICAgbG9hZGluZzogICAgICAgICAgICAndnBseXItbG9hZGluZycsXG4gICAgaG92ZXI6ICAgICAgICAgICAgICAndnBseXItaG92ZXInLFxuICAgIHN0b3BwZWQ6J3ZwbHlyLXN0b3BwZWQnLFxuICAgIGlzSW9zOiAgICAgICAgICAgICAgJ3ZwbHlyLS1pcy1pb3MnLFxuICAgIGlzVG91Y2g6ICAgICAgICAgICAgJ3ZwbHlyLS1pcy10b3VjaCcsXG4gICAgaXNXZWNoYXQ6ICAgICAgICAgICAndnBseXItLWlzLXdlY2hhdCcsXG4gIH0sXG4gIGV2ZW50czogICAgICAgICAgICAgICAgIFsncmVhZHknLCAnZW5kZWQnLCAncHJvZ3Jlc3MnLCAnc3RhbGxlZCcsICdwbGF5aW5nJywgJ3dhaXRpbmcnLCAnY2FucGxheScsICdjYW5wbGF5dGhyb3VnaCcsICdsb2Fkc3RhcnQnLCAnbG9hZGVkZGF0YScsICdsb2FkZWRtZXRhZGF0YScsICd0aW1ldXBkYXRlJywgJ3ZvbHVtZWNoYW5nZScsICdwbGF5JywgJ3BhdXNlJywgJ2Vycm9yJywgJ3NlZWtpbmcnLCAnc2Vla2VkJywgJ2VtcHRpZWQnXSxcbiAgLy8gTG9nZ2luZ1xuICBsb2dQcmVmaXg6ICAgICAgICAgICAgICAnW1ZQbHlyXSdcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0Q29uZmlnKCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZyk7XG59IiwiY2xhc3MgRG9tIHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLnRvZ2dsZUNsYXNzICA9IHRoaXMuX3RvZ2dsZUNsYXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW1vdmVFbGVtZW50ICA9IHRoaXMuX3JlbW92ZUVsZW1lbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhc0NsYXNzID0gdGhpcy5faGFzQ2xhc3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluamVjdFNjcmlwdCA9IHRoaXMuX2luamVjdFNjcmlwdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJlcGVuZENoaWxkID0gdGhpcy5fcHJlcGVuZENoaWxkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVzID0gdGhpcy5fc2V0QXR0cmlidXRlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW5zZXJ0RWxlbWVudD0gdGhpcy5faW5zZXJ0RWxlbWVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0Q2xhc3NuYW1lPSB0aGlzLl9nZXRDbGFzc25hbWUuYmluZCh0aGlzKTtcbiAgfVxuICBfZ2V0Q2xhc3NuYW1lKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoJy4nLCAnJyk7XG4gIH1cbiAgX2luc2VydEVsZW1lbnQodHlwZSwgcGFyZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IDxlbGVtZW50PlxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgIC8vIFNldCBhbGwgcGFzc2VkIGF0dHJpYnV0ZXNcbiAgICBfc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgIC8vIEluamVjdCB0aGUgbmV3IGVsZW1lbnRcbiAgICBfcHJlcGVuZENoaWxkKHBhcmVudCwgZWxlbWVudCk7XG4gIH1cbiAgX3NldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIChfaXMuYm9vbGVhbihhdHRyaWJ1dGVzW2tleV0pICYmIGF0dHJpYnV0ZXNba2V5XSkgPyAnJyA6IGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfVxuICB9XG4gIF9wcmVwZW5kQ2hpbGQocGFyZW50LCBlbGVtZW50KSB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH1cbiAgX2luamVjdFNjcmlwdChzb3VyY2UpIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3NyYz1cIicgKyBzb3VyY2UgKyAnXCJdJykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgdGFnLnNyYyA9IHNvdXJjZTtcbiAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gIH1cbiAgX2hhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhcXFxcc3xeKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzfCQpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBfcmVtb3ZlRWxlbWVudChlbGVtZW50KXtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbiAgLy8gVG9nZ2xlIGNsYXNzIG9uIGFuIGVsZW1lbnRcbiAgX3RvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSwgc3RhdGUpe1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3Rbc3RhdGUgPyAnYWRkJyA6ICdyZW1vdmUnXShjbGFzc05hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5hbWUgPSAoJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKCcgJyArIGNsYXNzTmFtZSArICcgJywgJycpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5hbWUgKyAoc3RhdGUgPyAnICcgKyBjbGFzc05hbWUgOiAnJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgRG9tKCk7XG4iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlsJztcblxuY2xhc3MgRXZlbnR7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5vbkV2ZW50ID0gdGhpcy5fb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmN1c3RvbUV2ZW50ID0gdGhpcy5fZXZlbnQuYmluZCh0aGlzKTtcbiAgfVxuICBfZXZlbnQoZWxlbWVudCwgdHlwZSwgYnViYmxlcywgcHJvcGVydGllcykge1xuICAgIC8vIEJhaWwgaWYgbm8gZWxlbWVudFxuICAgIGlmICghZWxlbWVudCB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBidWJibGVzIHRvIGZhbHNlXG4gICAgaWYgKCFfaXMuYm9vbGVhbihidWJibGVzKSkge1xuICAgICAgICBidWJibGVzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuZCBkaXNwYXRjaCB0aGUgZXZlbnRcbiAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgICBidWJibGVzOiAgICBidWJibGVzLFxuICAgICAgICBkZXRhaWw6ICAgICBwcm9wZXJ0aWVzXG4gICAgfSk7XG5cbiAgICAvLyBEaXNwYXRjaCB0aGUgZXZlbnRcbiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG4gIF9vbihlbGVtZW50LCBldmVudHMsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3RvZ2dsZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHRydWUsIHVzZUNhcHR1cmUpO1xuICAgIH1cbiAgfVxuXG4gIF90b2dnbGVMaXN0ZW5lcihlbGVtZW50LCBldmVudHMsIGNhbGxiYWNrLCB0b2dnbGUsIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgZXZlbnRMaXN0ID0gZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgLy8gV2hldGhlciB0aGUgbGlzdGVuZXIgaXMgYSBjYXB0dXJpbmcgbGlzdGVuZXIgb3Igbm90XG4gICAgLy8gRGVmYXVsdCB0byBmYWxzZVxuICAgIGlmICghdXRpbHMuaXMuYm9vbGVhbih1c2VDYXB0dXJlKSkge1xuICAgICAgdXNlQ2FwdHVyZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIGEgbm9kZWxpc3QgaXMgcGFzc2VkLCBjYWxsIGl0c2VsZiBvbiBlYWNoIG5vZGVcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGVsZW1lbnQubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgaWYgKGVsZW1lbnRbeF0gaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgdGhpcy5fdG9nZ2xlTGlzdGVuZXIoZWxlbWVudFt4XSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHNpbmdsZSBub2RlIGlzIHBhc3NlZCwgYmluZCB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgZWxlbWVudFt0b2dnbGUgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lciddKGV2ZW50TGlzdFtpXSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IEV2ZW50KCk7IiwiaW1wb3J0IHZQbGF5ZXIgZnJvbSAnLi92cGx5ci5qcyc7XG5cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKmdsb2JhbCBkZWZpbmUsbW9kdWxlKi9cblxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUsIENvbW1vbkpTLWxpa2VcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJvb3QsIGRvY3VtZW50KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWN0b3J5KHJvb3QsIGRvY3VtZW50KTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC52cGx5ciA9IGZhY3Rvcnkocm9vdCwgZG9jdW1lbnQpO1xuICAgIH1cbn0odHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50KSB7XG4gIHdpbmRvdy52UGxheWVyID0gdlBsYXllcjtcbn0pKSIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgJCBmcm9tICcuL2RvbSc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCc7XG5sZXQgX2xvZyAsIF93YXJuO1xuXG5jbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihtZWRpYSwgY29uZmlnKXtcbiAgICB0aGlzLl9pbml0KG1lZGlhLCBjb25maWcpO1xuICB9XG4gIF9pbml0KG1lZGlhLCBjb25maWcpe1xuICAgIGNvbnN0IHZrID0gdGhpcztcbiAgICBjb25zdCB0aW1lcnMgPSB7fTtcbiAgICBsZXQgYXBpID0ge307XG4gICAgdmsubWVkaWEgPSBtZWRpYTtcbiAgICBsZXQgb3JpZ2luYWwgPSBtZWRpYS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgY29uc3QgX2NvbnNvbGUgPSAodHlwZSxhcmdzKT0+e1xuICAgICAgaWYgKGNvbmZpZy5kZWJ1ZyAmJiB3aW5kb3cuY29uc29sZSkge1xuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzLnN0cmluZyhjb25maWcubG9nUHJlZml4KSAmJiBjb25maWcubG9nUHJlZml4Lmxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MudW5zaGlmdChjb25maWcubG9nUHJlZml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGVbdHlwZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfbG9nID0gZnVuY3Rpb24oKSB7IF9jb25zb2xlKCdsb2cnLCBhcmd1bWVudHMpIH07XG4gICAgX3dhcm4gPSBmdW5jdGlvbigpIHsgX2NvbnNvbGUoJ3dhcm4nLCBhcmd1bWVudHMpIH07XG4gICAgX2xvZygnQ29uZmlnJywgY29uZmlnKTtcbiAgICB0aGlzLl9zZXR1cCh2ayxjb25maWcpO1xuICAgIF9sb2coJ3BsYXllcicsIHZrKTtcbiAgICBpZiAoIXZrLmluaXQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gYXBpO1xuICB9XG5cbiAgX3NldHVwKHBsYXllcixjb25maWcpe1xuICAgIGlmIChwbGF5ZXIuaW5pdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHBsYXllci5icm93c2VyID0gdXRpbHMuYnJvd3NlclNuaWZmO1xuICAgIGlmICghdXRpbHMuaXMuaHRtbEVsZW1lbnQocGxheWVyLm1lZGlhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YWdOYW1lID0gcGxheWVyLm1lZGlhLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBwbGF5ZXIudHlwZSAgICAgICAgID0gdGFnTmFtZTtcbiAgICBjb25maWcuY3Jvc3NvcmlnaW4gID0gKHBsYXllci5tZWRpYS5nZXRBdHRyaWJ1dGUoJ2Nyb3Nzb3JpZ2luJykgIT09IG51bGwpO1xuICAgIGNvbmZpZy5hdXRvcGxheSAgICAgPSAoY29uZmlnLmF1dG9wbGF5IHx8IChwbGF5ZXIubWVkaWEuZ2V0QXR0cmlidXRlKCdhdXRvcGxheScpICE9PSBudWxsKSk7XG4gICAgY29uZmlnLmxvb3AgICAgICAgICA9IChjb25maWcubG9vcCB8fCAocGxheWVyLm1lZGlhLmdldEF0dHJpYnV0ZSgnbG9vcCcpICE9PSBudWxsKSk7XG4gICAgcGxheWVyLnN1cHBvcnRlZCA9IHV0aWxzLnN1cHBvcnRlZChwbGF5ZXIudHlwZSk7XG4gICAgaWYgKCFwbGF5ZXIuc3VwcG9ydGVkLmJhc2ljKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBsYXllci5jb250YWluZXIgPSB0aGlzLl93cmFwKHBsYXllci5tZWRpYSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgIHBsYXllci5jb250YWluZXIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xuICAgIHRoaXMuX3RvZ2dsZVN0eWxlSG9vayhwbGF5ZXIsY29uZmlnKTtcbiAgICBfbG9nKCcnICsgcGxheWVyLmJyb3dzZXIubmFtZSArICcgJyArIHBsYXllci5icm93c2VyLnZlcnNpb24pO1xuICAgIHRoaXMuX3NldHVwTWVkaWEocGxheWVyLGNvbmZpZyk7XG4gICAgaWYodXRpbHMuaW5BcnJheShjb25maWcudHlwZXMuaHRtbDUscGxheWVyLnR5cGUpKXtcbiAgICAgIC8vIFNldHVwIFVJXG4gICAgICB0aGlzLl9zZXR1cEludGVyZmFjZShwbGF5ZXIsY29uZmlnKTtcbiAgICB9XG4gIH1cbiAgX3NldHVwSW50ZXJmYWNlKHBsYXllcixjb25maWcpe1xuICAgIGNvbnN0IF9nZXRFbGVtZW50cyA9IChzZWxlY3Rvcik9PiB7XG4gICAgICByZXR1cm4gcGxheWVyLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgY29uc3QgX2dldEVsZW1lbnQ9KHNlbGVjdG9yKT0+IHtcbiAgICAgIHJldHVybiBfZ2V0RWxlbWVudHMoc2VsZWN0b3IpWzBdO1xuICAgIH1cbiAgICBpZiAoIXBsYXllci5zdXBwb3J0ZWQuZnVsbCkge1xuICAgICAgX3dhcm4oJ0Jhc2ljIHN1cHBvcnQgb25seScsIHBsYXllci50eXBlKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGNvbnRyb2xzXG4gICAgICAkLnJlbW92ZUVsZW1lbnQoX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy53cmFwcGVyKSk7XG4gICAgICAvLyByZXNldCBuYXRpdmUgY29udHJvbHNcbiAgICAgIHRoaXMuX3RvZ2dsZU5hdGl2ZUNvbnRyb2xzKHRydWUscGxheWVyLGNvbmZpZyk7XG4gICAgICAvLyBCYWlsXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xzTWlzc2luZyA9ICFfZ2V0RWxlbWVudHMoY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy53cmFwcGVyKS5sZW5ndGg7XG4gICAgaWYgKGNvbnRyb2xzTWlzc2luZykge1xuICAgICAgLy8gSW5qZWN0IGN1c3RvbSBjb250cm9sc1xuICAgICAgdGhpcy5faW5qZWN0Q29udHJvbHMocGxheWVyLGNvbmZpZyk7XG4gICAgfVxuICAgIC8vIEZpbmQgdGhlIGVsZW1lbnRzXG4gICAgaWYgKCF0aGlzLl9maW5kRWxlbWVudHMoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29udHJvbHNNaXNzaW5nKSB7XG4gICAgICB0aGlzLl9jb250cm9sTGlzdGVuZXJzKHBsYXllcixjb25maWcpO1xuICAgIH1cbiAgfVxuICBfY29udHJvbExpc3RlbmVycyhwbGF5ZXIsY29uZmlnKXtcbiAgICBjb25zdCBpbnB1dEV2ZW50ID0gKHBsYXllci5icm93c2VyLmlzSUUgPyAnY2hhbmdlJyA6ICdpbnB1dCcpO1xuICB9XG4gIF9pbmplY3RDb250cm9scyhwbGF5ZXIsY29uZmlnKXtcbiAgICBsZXQgaHRtbCA9IGNvbmZpZy5odG1sO1xuXG4gICAgLy8gSW5zZXJ0IGN1c3RvbSB2aWRlbyBjb250cm9sc1xuICAgIF9sb2coJ0luamVjdGluZyBjdXN0b20gY29udHJvbHMnKTtcbiAgICAvLyBJZiBubyBjb250cm9scyBhcmUgc3BlY2lmaWVkLCBjcmVhdGUgZGVmYXVsdFxuICAgIGlmICghaHRtbCkge1xuICAgICAgaHRtbCA9IHRoaXMuX2J1aWxkQ29udHJvbHMoY29uZmlnKTtcbiAgICB9XG4gICAgaHRtbCA9IHV0aWxzLnJlcGxhY2VBbGwoaHRtbCwgJ3tpZH0nLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTAwMDAwKSkpO1xuICAgIGxldCB0YXJnZXQ7XG4gICAgaWYgKHV0aWxzLmlzLnN0cmluZyhjb25maWcuc2VsZWN0b3JzLmNvbnRyb2xzLmNvbnRhaW5lcikpIHtcbiAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy5jb250YWluZXIpO1xuICAgIH1cbiAgICAvLyBJbmplY3QgaW50byB0aGUgY29udGFpbmVyIGJ5IGRlZmF1bHRcbiAgICBpZiAoIXV0aWxzLmlzLmh0bWxFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgIHRhcmdldCA9IHBsYXllci5jb250YWluZXJcbiAgICB9XG4gICAgdGFyZ2V0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgaHRtbCk7XG4gIH1cbiAgX2ZpbmRFbGVtZW50cyhwbGF5ZXIsY29uZmlnKXtcbiAgICBjb25zdCBfZ2V0RWxlbWVudHMgPSAoc2VsZWN0b3IpPT4ge1xuICAgICAgcmV0dXJuIHBsYXllci5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgfVxuICAgIGNvbnN0IF9nZXRFbGVtZW50PShzZWxlY3Rvcik9PiB7XG4gICAgICByZXR1cm4gX2dldEVsZW1lbnRzKHNlbGVjdG9yKVswXTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHBsYXllci5jb250cm9scyAgICAgICAgICAgICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLmNvbnRyb2xzLndyYXBwZXIpO1xuXG4gICAgICAvLyBCdXR0b25zXG4gICAgICBwbGF5ZXIuYnV0dG9ucyA9IHt9O1xuICAgICAgcGxheWVyLmJ1dHRvbnMuc2VlayAgICAgICAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5zZWVrKTtcbiAgICAgIHBsYXllci5idXR0b25zLnBsYXkgICAgICAgICAgICAgPSBfZ2V0RWxlbWVudHMoY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnBsYXkpO1xuICAgICAgcGxheWVyLmJ1dHRvbnMucGF1c2UgICAgICAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5wYXVzZSk7XG4gICAgICBwbGF5ZXIuYnV0dG9ucy5mdWxsc2NyZWVuICAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLmZ1bGxzY3JlZW4pO1xuXG4gICAgICAvLyBJbnB1dHNcbiAgICAgIHBsYXllci5idXR0b25zLm11dGUgICAgICAgICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMubXV0ZSk7XG5cbiAgICAgIC8vIFByb2dyZXNzXG4gICAgICBwbGF5ZXIucHJvZ3Jlc3MgPSB7fTtcbiAgICAgIHBsYXllci5wcm9ncmVzcy5jb250YWluZXIgICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLnByb2dyZXNzLmNvbnRhaW5lcik7XG5cbiAgICAgIC8vIFByb2dyZXNzIC0gQnVmZmVyaW5nXG4gICAgICBwbGF5ZXIucHJvZ3Jlc3MuYnVmZmVyICAgICAgICAgID0ge307XG4gICAgICBwbGF5ZXIucHJvZ3Jlc3MuYnVmZmVyLmJhciAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5wcm9ncmVzcy5idWZmZXIpO1xuICAgICAgcGxheWVyLnByb2dyZXNzLmJ1ZmZlci50ZXh0ICAgICA9IHBsYXllci5wcm9ncmVzcy5idWZmZXIuYmFyICYmIHBsYXllci5wcm9ncmVzcy5idWZmZXIuYmFyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzcGFuJylbMF07XG5cbiAgICAgIC8vIFByb2dyZXNzIC0gUGxheWVkXG4gICAgICBwbGF5ZXIucHJvZ3Jlc3MucGxheWVkICAgICAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy5wcm9ncmVzcy5wbGF5ZWQpO1xuXG4gICAgICAvLyBWb2x1bWVcbiAgICAgIHBsYXllci52b2x1bWUgICAgICAgICAgICAgICAgICAgPSB7fTtcbiAgICAgIHBsYXllci52b2x1bWUuaW5wdXQgICAgICAgICAgICAgPSBfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLnZvbHVtZS5pbnB1dCk7XG4gICAgICBwbGF5ZXIudm9sdW1lLmRpc3BsYXkgICAgICAgICAgID0gX2dldEVsZW1lbnQoY29uZmlnLnNlbGVjdG9ycy52b2x1bWUuZGlzcGxheSk7XG5cbiAgICAgIC8vIFRpbWluZ1xuICAgICAgcGxheWVyLmR1cmF0aW9uICAgICAgICAgICAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMuZHVyYXRpb24pO1xuICAgICAgcGxheWVyLmN1cnJlbnRUaW1lICAgICAgICAgICAgICA9IF9nZXRFbGVtZW50KGNvbmZpZy5zZWxlY3RvcnMuY3VycmVudFRpbWUpO1xuICAgICAgcGxheWVyLnNlZWtUaW1lICAgICAgICAgICAgICAgICA9IF9nZXRFbGVtZW50cyhjb25maWcuc2VsZWN0b3JzLnNlZWtUaW1lKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgIF93YXJuKCdJdCBsb29rcyBsaWtlIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHlvdXIgY29udHJvbHMgSFRNTCcpO1xuICAgICAgLy8gUmVzdG9yZSBuYXRpdmUgdmlkZW8gY29udHJvbHNcbiAgICAgIHRoaXMuX3RvZ2dsZU5hdGl2ZUNvbnRyb2xzKHRydWUpO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIF9idWlsZENvbnRyb2xzKGNvbmZpZyl7XG4gICAgY29uc3QgaHRtbCA9IFsnPGRpdiBjbGFzcz1cInZwbHlyLWdyYWRpZW50LWJvdHRvbVwiPjwvZGl2PiddO1xuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZwbHlyLWJvdHRvbS1jb250YWluZXJcIj4nKVxuICAgIGlmICh1dGlscy5pbkFycmF5KGNvbmZpZy5jb250cm9scywgJ3Byb2dyZXNzJykpIHtcbiAgICAgIGh0bWwucHVzaChcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cInZwbHlyLXByb2dyZXNzLWJhci1jb250YWluZXJcIj4nLFxuICAgICAgICAgICc8aW5wdXQgaWQ9XCJzZWVre2lkfVwiIHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjBcIiBzdGVwPVwiMC4xXCIgY2xhc3M9XCJ2cGx5ci1wcm9ncmVzcy1iYXJcIiBkYXRhLXZpZGVvPVwic2Vla1wiLz4nLFxuICAgICAgICAgICc8cHJvZ3Jlc3MgY2xhc3M9XCJ2cGx5ci1wcm9ncmVzcy1wbGF5ZWRcIiBtYXg9XCIxMDBcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+PC9wcm9ncmVzcz4nLFxuICAgICAgICAgICc8cHJvZ3Jlc3MgY2xhc3M9XCJ2cGx5ci1wcm9ncmVzcy1idWZmZXJcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjEwMFwiPicsXG4gICAgICAgICAgJzxzcGFuPjEwMC4wMDwvc3Bhbj4nLFxuICAgICAgICAgICc8L3Byb2dyZXNzPicsXG4gICAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZwbHlyLWNvbnRyb2xzXCI+JylcbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJsZWZ0LWNvbnRyb2xzXCI+JylcbiAgICBpZiAodXRpbHMuaW5BcnJheShjb25maWcuY29udHJvbHMsICdwbGF5JykpIHtcbiAgICAgIGh0bWwucHVzaChcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJidG4tY29udHJvbHNcIj4nLFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYnRuLXdyYXBcIj4nLFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGxheVwiIGRhdGEtdmlkZW89XCJwbGF5XCI+PC9kaXY+JyxcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cInBhdXNlXCIgZGF0YS12aWRlbz1cInBhdXNlXCI+PC9kaXY+JyxcbiAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAnPC9kaXY+J1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmluQXJyYXkoY29uZmlnLmNvbnRyb2xzLCAndGltZScpKSB7XG4gICAgICBodG1sLnB1c2goXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidGltZS1tb2QtY29udHJvbHNcIj4nLFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udHJvbC1jdXJyZW50dGltZVwiPjAxOjI5PC9kaXY+JyxcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRyb2wtc2VwYXJhdG9yXCI+LzwvZGl2PicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250cm9sLWR1cmF0aW9uXCI+MTozMDo1MjwvZGl2PicsXG4gICAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlIHZwbHlyIGxlZnQgY29udHJvbHNcbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJyaWdodC1jb250cm9sc1wiPicpXG4gICAgaWYgKHV0aWxzLmluQXJyYXkoY29uZmlnLmNvbnRyb2xzLCAnZnVsbHNjcmVlbicpKSB7XG4gICAgICBodG1sLnB1c2goXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZnVsbHNjcmVlbi1jb250cm9sc1wiPicsXG4gICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uLWV4aXQtZnVsbHNjcmVlblwiIGRhdGEtdmlkZW89XCJmdWxsc2NyZWVuXCI+JyxcbiAgICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLWV4aXQtZnVsbHNjcmVlblwiPjwvdXNlPicsXG4gICAgICAgICAgJzwvc3ZnPicsXG4gICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uLWVudGVyLWZ1bGxzY3JlZW5cIj4nLFxuICAgICAgICAgICcgPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLWVudGVyLWZ1bGxzY3JlZW5cIj48L3VzZT4nLFxuICAgICAgICAgICc8L3N2Zz4nLFxuICAgICAgICAgICc8L2Rpdj4nXG4gICAgICApO1xuICAgIH1cbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJ2b2x1bWUtY29udHJvbHNcIj4nKVxuICAgIGlmICh1dGlscy5pbkFycmF5KGNvbmZpZy5jb250cm9scywgJ211dGUnKSkge1xuICAgICAgaHRtbC5wdXNoKFxuICAgICAgICAnPGRpdiBjbGFzcz1cInZwbHlyLXZvbHVtZVwiIGRhdGEtdmlkZW89XCJtdXRlXCI+JyxcbiAgICAgICAgICAnPHN2ZyBjbGFzcz1cImljb24tbXV0ZWRcIj4nLFxuICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItbXV0ZWRcIj48L3VzZT4nLFxuICAgICAgICAgICc8L3N2Zz4nLFxuICAgICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvbi12b2x1bWVcIj4nLFxuICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItdm9sdW1lXCI+PC91c2U+JyxcbiAgICAgICAgICAnPC9zdmc+JyxcbiAgICAgICAgICAnPC9kaXY+J1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmluQXJyYXkoY29uZmlnLmNvbnRyb2xzLCAndm9sdW1lJykpIHtcbiAgICAgIGh0bWwucHVzaChcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci12b2x1bWUtcHJvZ3Jlc3NcIj4nLFxuICAgICAgICAgICc8aW5wdXQgdHlwZT1cInJhbmdlXCIgaWQ9XCJ2b2x1bWV7aWR9XCIgIGNsYXNzPVwidnBseXItdm9sdW1lLWlucHV0XCIgIG1pbj1cIjBcIiAgbWF4PVwiMTBcIiBkYXRhLXZpZGVvPVwidm9sdW1lXCIgdmFsdWU9XCI4XCI+JyxcbiAgICAgICAgICAnPHByb2dyZXNzIGNsYXNzPVwidnBseXItdm9sdW1lLWRpc3BsYXlcIiBtYXg9XCIxMFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3Byb2dyZXNzPicsXG4gICAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlIHZwbHlyIHZvbHVtZSBjb250cm9sc1xuICAgIFxuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlIHZwbHlyIHJpZ2h0IGNvbnRyb2xzXG4gICAgXG4gICAgaHRtbC5wdXNoKCc8L2Rpdj4nKS8vY2xvc2UgdnBseXIgY29udHJvbHNcbiAgICBodG1sLnB1c2goJzwvZGl2PicpLy9jbG9zZVxuICAgIHJldHVybiBodG1sLmpvaW4oJycpO1xuICB9XG4gIF9zZXR1cE1lZGlhKHBsYXllcixjb25maWcpe1xuICAgIGlmICghcGxheWVyLm1lZGlhKSB7XG4gICAgICBfd2FybignTm8gbWVkaWEgZWxlbWVudCBmb3VuZCEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYocGxheWVyLnN1cHBvcnRlZC5mdWxsKXtcbiAgICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLmNsYXNzZXMudHlwZS5yZXBsYWNlKCd7MH0nLCBwbGF5ZXIudHlwZSksIHRydWUpO1xuICAgICAgJC50b2dnbGVDbGFzcyhwbGF5ZXIuY29udGFpbmVyLCBjb25maWcuY2xhc3Nlcy5zdG9wcGVkLCBjb25maWcuYXV0b3BsYXkpO1xuICAgICAgLy8gQWRkIGlPUyBjbGFzc1xuICAgICAgJC50b2dnbGVDbGFzcyhwbGF5ZXIuY29udGFpbmVyLCBjb25maWcuY2xhc3Nlcy5pc0lvcywgcGxheWVyLmJyb3dzZXIuaXNJb3MpO1xuXG4gICAgICAvLyBBZGQgdG91Y2ggY2xhc3NcbiAgICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLmNsYXNzZXMuaXNUb3VjaCwgcGxheWVyLmJyb3dzZXIuaXNUb3VjaCk7XG5cbiAgICAgIC8vIEFkZCB3ZWNoYXQgY2xhc3NcbiAgICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLmNsYXNzZXMuaXNUb3VjaCwgcGxheWVyLmJyb3dzZXIuaXNXZWNoYXQpO1xuICAgICAgaWYocGxheWVyLnR5cGUgPT09ICd2aWRlbycpe1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNvbmZpZy5jbGFzc2VzLnZpZGVvV3JhcHBlcik7XG4gICAgICAgIHRoaXMuX3dyYXAocGxheWVyLm1lZGlhLCB3cmFwcGVyKTtcbiAgICAgICAgLy8gQ2FjaGUgdGhlIGNvbnRhaW5lclxuICAgICAgICBwbGF5ZXIudmlkZW9Db250YWluZXIgPSB3cmFwcGVyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfdG9nZ2xlTmF0aXZlQ29udHJvbHModG9nZ2xlLHBsYXllcixjb25maWcpIHtcbiAgICBpZiAodG9nZ2xlICYmIHV0aWxzLmluQXJyYXkoY29uZmlnLnR5cGVzLmh0bWw1LCBwbGF5ZXIudHlwZSkpIHtcbiAgICAgICAgcGxheWVyLm1lZGlhLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCAnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGxheWVyLm1lZGlhLnJlbW92ZUF0dHJpYnV0ZSgnY29udHJvbHMnKTtcbiAgICB9XG4gIH1cbiAgX3dyYXAoZWxlbWVudHMsIHdyYXBwZXIpIHtcbiAgICAvLyBDb252ZXJ0IGBlbGVtZW50c2AgdG8gYW4gYXJyYXksIGlmIG5lY2Vzc2FyeS5cbiAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50cyA9IFtlbGVtZW50c107XG4gICAgfVxuXG4gICAgLy8gTG9vcHMgYmFja3dhcmRzIHRvIHByZXZlbnQgaGF2aW5nIHRvIGNsb25lIHRoZSB3cmFwcGVyIG9uIHRoZVxuICAgIC8vIGZpcnN0IGVsZW1lbnQgKHNlZSBgY2hpbGRgIGJlbG93KS5cbiAgICBmb3IgKHZhciBpID0gZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjaGlsZCAgID0gKGkgPiAwKSA/IHdyYXBwZXIuY2xvbmVOb2RlKHRydWUpIDogd3JhcHBlcjtcbiAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaV07XG5cbiAgICAgIC8vIENhY2hlIHRoZSBjdXJyZW50IHBhcmVudCBhbmQgc2libGluZy5cbiAgICAgIHZhciBwYXJlbnQgID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgdmFyIHNpYmxpbmcgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xuXG4gICAgICAvLyBXcmFwIHRoZSBlbGVtZW50IChpcyBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZnJvbSBpdHMgY3VycmVudFxuICAgICAgLy8gcGFyZW50KS5cbiAgICAgIGNoaWxkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBoYWQgYSBzaWJsaW5nLCBpbnNlcnQgdGhlIHdyYXBwZXIgYmVmb3JlXG4gICAgICAvLyB0aGUgc2libGluZyB0byBtYWludGFpbiB0aGUgSFRNTCBzdHJ1Y3R1cmU7IG90aGVyd2lzZSwganVzdFxuICAgICAgLy8gYXBwZW5kIGl0IHRvIHRoZSBwYXJlbnQuXG4gICAgICBpZiAoc2libGluZykge1xuICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHNpYmxpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgfVxuICBfdG9nZ2xlU3R5bGVIb29rKHBsYXllcixjb25maWcpIHtcbiAgICAkLnRvZ2dsZUNsYXNzKHBsYXllci5jb250YWluZXIsIGNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyLnJlcGxhY2UoJy4nLCAnJyksIHBsYXllci5zdXBwb3J0ZWQuZnVsbCk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjsiLCJjbGFzcyBVdGlscyB7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5icm93c2VyU25pZmY9dGhpcy5fYnJvd3NlclNuaWZmLmJpbmQodGhpcykoKTtcbiAgICB0aGlzLmlzID0gdGhpcy5faXMuYmluZCh0aGlzKSgpO1xuICAgIHRoaXMuc3RvcmFnZVN1cHBvcnQgPSB0aGlzLl9zdG9yYWdlU3VwcG9ydC5iaW5kKHRoaXMpKCk7XG4gICAgdGhpcy5leHRlbmQgID0gdGhpcy5fZXh0ZW5kLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXRjaGVzICA9IHRoaXMuX21hdGNoZXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluQXJyYXkgPSB0aGlzLl9pbkFycmF5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdXBwb3J0ZWQgPSB0aGlzLl9zdXBwb3J0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXBsYWNlQWxsID0gdGhpcy5fcmVwbGFjZUFsbC5iaW5kKHRoaXMpO1xuICAgIFxuICB9XG4gIF9yZXBsYWNlQWxsKHN0cmluZywgZmluZCwgcmVwbGFjZSkge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShuZXcgUmVnRXhwKGZpbmQucmVwbGFjZSgvKFsuKis/XFxePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKSwgJ2cnKSwgcmVwbGFjZSk7XG4gIH1cbiAgX3N1cHBvcnQodHlwZSl7XG4gICAgY29uc3QgYnJvd3NlciAgICAgPSB0aGlzLl9icm93c2VyU25pZmYoKSxcbiAgICAgICAgaXNPbGRJRSAgICAgPSAoYnJvd3Nlci5pc0lFICYmIGJyb3dzZXIudmVyc2lvbiA8PSA5KSxcbiAgICAgICAgaXNJb3MgICAgICAgPSBicm93c2VyLmlzSW9zLFxuICAgICAgICBpc0lwaG9uZSAgICA9IGJyb3dzZXIuaXNJcGhvbmUsXG4gICAgICAgIGF1ZGlvU3VwcG9ydCA9ICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKS5jYW5QbGF5VHlwZSxcbiAgICAgICAgdmlkZW9TdXBwb3J0ID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpLmNhblBsYXlUeXBlO1xuICAgIGxldCBiYXNpYyAgICAgICA9IGZhbHNlLFxuICAgICAgICBmdWxsICAgICAgICA9IGZhbHNlO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgICAgIGJhc2ljID0gdmlkZW9TdXBwb3J0O1xuICAgICAgICAgICAgZnVsbCAgPSAoYmFzaWMgJiYgKCFpc09sZElFICYmICFpc0lwaG9uZSkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgICAgYmFzaWMgPSBhdWRpb1N1cHBvcnQ7XG4gICAgICAgICAgICBmdWxsICA9IChiYXNpYyAmJiAhaXNPbGRJRSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYmFzaWMgPSAoYXVkaW9TdXBwb3J0ICYmIHZpZGVvU3VwcG9ydCk7XG4gICAgICAgICAgICBmdWxsICA9IChiYXNpYyAmJiAhaXNPbGRJRSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmFzaWM6ICBiYXNpYyxcbiAgICAgICAgZnVsbDogICBmdWxsXG4gICAgfTtcbiAgfVxuICBfaW5BcnJheShoYXlzdGFjaywgbmVlZGxlKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mICYmIChoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgIT09IC0xKTtcbiAgfVxuXG4gIF9tYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgdmFyIHAgPSBFbGVtZW50LnByb3RvdHlwZTtcblxuICAgIHZhciBmID0gcC5tYXRjaGVzIHx8IHAud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IHAubW96TWF0Y2hlc1NlbGVjdG9yIHx8IHAubXNNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gW10uaW5kZXhPZi5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocyksIHRoaXMpICE9PSAtMTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGYuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XG4gIH1cbiAgX2V4dGVuZCgpIHtcbiAgICAvLyBHZXQgYXJndW1lbnRzXG4gICAgbGV0IG9iamVjdHMgPSBhcmd1bWVudHM7XG5cbiAgICAvLyBCYWlsIGlmIG5vdGhpbmcgdG8gbWVyZ2VcbiAgICBpZiAoIW9iamVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gZmlyc3QgaWYgc3BlY2lmaWVkIGJ1dCBub3RoaW5nIHRvIG1lcmdlXG4gICAgaWYgKG9iamVjdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBvYmplY3RzWzBdO1xuICAgIH1cblxuICAgIC8vIEZpcnN0IG9iamVjdCBpcyB0aGUgZGVzdGluYXRpb25cbiAgICBsZXQgZGVzdGluYXRpb24gPSBBcnJheS5wcm90b3R5cGUuc2hpZnQuY2FsbChvYmplY3RzKSxcbiAgICAgICAgbGVuZ3RoICAgICAgPSBvYmplY3RzLmxlbmd0aDtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyB0byBtZXJnZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IG9iamVjdHNbaV07XG5cbiAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoc291cmNlW3Byb3BlcnR5XSAmJiBcbiAgICAgICAgICBzb3VyY2VbcHJvcGVydHldLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgc291cmNlW3Byb3BlcnR5XS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0XG4gICAgICAgICkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IGRlc3RpbmF0aW9uW3Byb3BlcnR5XSB8fCB7fTtcbiAgICAgICAgICB0aGlzLl9leHRlbmQoZGVzdGluYXRpb25bcHJvcGVydHldLCBzb3VyY2VbcHJvcGVydHldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBzb3VyY2VbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICB9XG4gIC8vcmVtb3ZlIGFuIGVsZW1lbnRcbiAgXG4gIF9zdG9yYWdlU3VwcG9ydCgpe1xuICAgIGlmICghKCdsb2NhbFN0b3JhZ2UnIGluIHdpbmRvdykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gdXNlIGl0IChpdCBtaWdodCBiZSBkaXNhYmxlZCwgZS5nLiB1c2VyIGlzIGluIHByaXZhdGUvcG9ybiBtb2RlKVxuICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL1NlbHovcGx5ci9pc3N1ZXMvMTMxXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFkZCB0ZXN0IGl0ZW1cbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnX19fdGVzdCcsICdPSycpO1xuXG4gICAgICAvLyBHZXQgdGhlIHRlc3QgaXRlbVxuICAgICAgbGV0IHJlc3VsdCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX19fdGVzdCcpO1xuXG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdfX190ZXN0Jyk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHZhbHVlIG1hdGNoZXNcbiAgICAgIHJldHVybiAocmVzdWx0ID09PSAnT0snKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIF9icm93c2VyU25pZmYoKXtcbiAgICBsZXQgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgbmFtZSA9IG5hdmlnYXRvci5hcHBOYW1lLFxuICAgICAgZnVsbFZlcnNpb24gPSAnJyArIHBhcnNlRmxvYXQobmF2aWdhdG9yLmFwcFZlcnNpb24pLFxuICAgICAgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobmF2aWdhdG9yLmFwcFZlcnNpb24sIDEwKSxcbiAgICAgIG5hbWVPZmZzZXQsXG4gICAgICB2ZXJPZmZzZXQsXG4gICAgICBpeCxcbiAgICAgIGlzSUUgPSBmYWxzZSxcbiAgICAgIGlzRmlyZWZveCA9IGZhbHNlLFxuICAgICAgaXNDaHJvbWUgPSBmYWxzZSxcbiAgICAgIGlzV2VjaGF0ID0gZmFsc2UsXG4gICAgICBpc1NhZmFyaSA9IGZhbHNlO1xuXG4gICAgaWYgKChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCdXaW5kb3dzIE5UJykgIT09IC0xKSAmJiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZigncnY6MTEnKSAhPT0gLTEpKSB7XG4gICAgICAvLyBNU0lFIDExXG4gICAgICBpc0lFID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnSUUnO1xuICAgICAgZnVsbFZlcnNpb24gPSAnMTEnO1xuICAgIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ01TSUUnKSkgIT09IC0xKSB7XG4gICAgICAvLyBNU0lFXG4gICAgICBpc0lFID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnSUUnO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgNSk7XG4gICAgfWVsc2UgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdtaWNyb21lc3NlbmdlcicpKSAhPT0gLTEpIHtcbiAgICAgIC8vIFdlQ2hhdFxuICAgICAgaXNXZWNoYXQgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdXZUNoYXQnO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgMTUpO1xuICAgIH1lbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignQ2hyb21lJykpICE9PSAtMSkge1xuICAgICAgLy8gQ2hyb21lXG4gICAgICBpc0Nocm9tZSA9IHRydWU7XG4gICAgICBuYW1lID0gJ0Nocm9tZSc7XG4gICAgICBmdWxsVmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA3KTtcbiAgICB9IGVsc2UgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdTYWZhcmknKSkgIT09IC0xKSB7XG4gICAgICAvLyBTYWZhcmlcbiAgICAgIGlzU2FmYXJpID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnU2FmYXJpJztcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDcpO1xuICAgICAgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdWZXJzaW9uJykpICE9PSAtMSkge1xuICAgICAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ0ZpcmVmb3gnKSkgIT09IC0xKSB7XG4gICAgICAvLyBGaXJlZm94XG4gICAgICBpc0ZpcmVmb3ggPSB0cnVlO1xuICAgICAgbmFtZSA9ICdGaXJlZm94JztcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDgpO1xuICAgIH0gZWxzZSBpZiAoKG5hbWVPZmZzZXQgPSB1YS5sYXN0SW5kZXhPZignICcpICsgMSkgPCAodmVyT2Zmc2V0ID0gdWEubGFzdEluZGV4T2YoJy8nKSkpIHtcbiAgICAgIC8vIEluIG1vc3Qgb3RoZXIgYnJvd3NlcnMsICduYW1lL3ZlcnNpb24nIGlzIGF0IHRoZSBlbmQgb2YgdXNlckFnZW50XG4gICAgICBuYW1lID0gdWEuc3Vic3RyaW5nKG5hbWVPZmZzZXQsdmVyT2Zmc2V0KTtcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDEpO1xuXG4gICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICBuYW1lID0gbmF2aWdhdG9yLmFwcE5hbWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJpbSB0aGUgZnVsbFZlcnNpb24gc3RyaW5nIGF0IHNlbWljb2xvbi9zcGFjZSBpZiBwcmVzZW50XG4gICAgaWYgKChpeCA9IGZ1bGxWZXJzaW9uLmluZGV4T2YoJzsnKSkgIT09IC0xKSB7XG4gICAgICBmdWxsVmVyc2lvbiA9IGZ1bGxWZXJzaW9uLnN1YnN0cmluZygwLCBpeCk7XG4gICAgfVxuICAgIGlmICgoaXggPSBmdWxsVmVyc2lvbi5pbmRleE9mKCcgJykpICE9PSAtMSkge1xuICAgICAgZnVsbFZlcnNpb24gPSBmdWxsVmVyc2lvbi5zdWJzdHJpbmcoMCwgaXgpO1xuICAgIH1cblxuICAgIC8vIEdldCBtYWpvciB2ZXJzaW9uXG4gICAgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQoJycgKyBmdWxsVmVyc2lvbiwgMTApO1xuICAgIGlmIChpc05hTihtYWpvclZlcnNpb24pKSB7XG4gICAgICBmdWxsVmVyc2lvbiA9ICcnICsgcGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbik7XG4gICAgICBtYWpvclZlcnNpb24gPSBwYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgMTApO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBkYXRhXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICAgICAgIG5hbWUsXG4gICAgICB2ZXJzaW9uOiAgICBtYWpvclZlcnNpb24sXG4gICAgICBpc0lFOiAgICAgICBpc0lFLFxuICAgICAgaXNGaXJlZm94OiAgaXNGaXJlZm94LFxuICAgICAgaXNDaHJvbWU6ICAgaXNDaHJvbWUsXG4gICAgICBpc1NhZmFyaTogICBpc1NhZmFyaSxcbiAgICAgIGlzV2VDaGF0OiAgIGlzV2VjaGF0LFxuICAgICAgaXNJb3M6ICAgICAgLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxcbiAgICAgIGlzSXBob25lOiAgIC8oaVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICAgIGlzVG91Y2g6ICAgICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgIH07XG4gIH1cbiAgX2lzKCl7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9iamVjdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmIHR5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnO1xuICAgICAgfSxcbiAgICAgIGFycmF5OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgKHR5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnICYmIGlucHV0LmNvbnN0cnVjdG9yID09PSBBcnJheSk7XG4gICAgICB9LFxuICAgICAgbnVtYmVyOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgKHR5cGVvZihpbnB1dCkgPT09ICdudW1iZXInICYmICFpc05hTihpbnB1dCAtIDApIHx8ICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LmNvbnN0cnVjdG9yID09PSBOdW1iZXIpKTtcbiAgICAgIH0sXG4gICAgICBzdHJpbmc6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dC5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKSk7XG4gICAgICB9LFxuICAgICAgYm9vbGVhbjogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ2Jvb2xlYW4nO1xuICAgICAgfSxcbiAgICAgIG5vZGVMaXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgaW5zdGFuY2VvZiBOb2RlTGlzdDtcbiAgICAgIH0sXG4gICAgICBodG1sRWxlbWVudDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmIGlucHV0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb246IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbic7XG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBVdGlscygpOyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgJCBmcm9tICcuL2RvbSc7XG5pbXBvcnQge2RlZmF1bHRDb25maWcgYXMgZGVmYXVsdHN9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50JztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9wbGF5ZXInO1xuY2xhc3MgdlBsYXllciB7XG4gIGNvbnN0cnVjdG9yKHRhcmdldHMsIG9wdGlvbnMpe1xuICAgIHRoaXMuVEFHID0gJ1ZpZGVvUGxheWVyJztcbiAgICB0aGlzLl9pbml0KHRhcmdldHMsb3B0aW9ucyk7XG4gIH1cbiAgX2luaXQodGFyZ2V0cywgb3B0aW9ucyl7XG4gICAgY29uc3QgX3RhcmdldHMgPSB0aGlzLl9fZ2V0VGFyZ2V0cyh0YXJnZXRzLCBvcHRpb25zKTtcbiAgICBcbiAgICBpZiAoIXV0aWxzLnN1cHBvcnRlZCgpLmJhc2ljIHx8ICFfdGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcGxheWVycyA9IFtdLGluc3RhbmNlID0gW107XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBbZGVmYXVsdHMuc2VsZWN0b3JzLmh0bWw1XS5qb2luKCcsJyk7XG4gICAgY29uc3QgX2FkZCA9ICh0YXJnZXQsIG1lZGlhKT0+e1xuICAgICAgaWYgKCEkLmhhc0NsYXNzKG1lZGlhLGRlZmF1bHRzLmNsYXNzZXMuaG9vaykpe1xuICAgICAgICBwbGF5ZXJzLnB1c2goe1xuICAgICAgICAgIHRhcmdldDogICAgIHRhcmdldCxcbiAgICAgICAgICBtZWRpYTogICAgICBtZWRpYVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9Oy8vZW5kIGFkZFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0YXJnZXQgPSBfdGFyZ2V0c1tpXTtcblxuICAgICAgLy8gR2V0IGNoaWxkcmVuXG4gICAgICB2YXIgY2hpbGRyZW4gPSB0YXJnZXQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cbiAgICAgIC8vIElmIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSBtZWRpYSBlbGVtZW50IGNoaWxkLCB3cmFwIHRoZW1cbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBjaGlsZHJlbi5sZW5ndGg7IHgrKykge1xuICAgICAgICAgIF9hZGQodGFyZ2V0LCBjaGlsZHJlblt4XSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fX21hdGNoZXModGFyZ2V0LCBzZWxlY3RvcikpIHtcbiAgICAgICAgLy8gVGFyZ2V0IGlzIG1lZGlhIGVsZW1lbnRcbiAgICAgICAgX2FkZCh0YXJnZXQsIHRhcmdldCk7XG4gICAgICB9XG4gICAgfS8vIGVuZCBmb3JcbiAgICBjb25zb2xlLmxvZygncGxheWVycy0tLT4nLHBsYXllcnMpO1xuICAgIHBsYXllcnMuZm9yRWFjaCgocGxheWVyKT0+e1xuICAgICAgY29uc3QgZWxlbWVudCA9IHBsYXllci50YXJnZXQ7XG4gICAgICBjb25zdCBtZWRpYSA9IHBsYXllci5tZWRpYTtcbiAgICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgICAgaWYgKG1lZGlhID09PSBlbGVtZW50KSB7XG4gICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxldCBkYXRhID0ge307XG4gICAgICB0cnkgeyBkYXRhID0gSlNPTi5wYXJzZShlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12cGx5cicpKTsgfVxuICAgICAgY2F0Y2goZSkgeyB9XG4gICAgICBjb25zdCBjb25maWcgPSB1dGlscy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zLCBkYXRhKTtcbiAgICAgIGlmICghY29uZmlnLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBQbGF5ZXIobWVkaWEsIGNvbmZpZyk7XG4gICAgICBjb25zb2xlLmxvZygnaW5zdGFuY2UnLGluc3RhbmNlKTtcbiAgICB9KVxuICB9XG4gIF9fbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHZhciBwID0gRWxlbWVudC5wcm90b3R5cGU7XG5cbiAgICB2YXIgZiA9IHAubWF0Y2hlcyB8fCBwLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBwLm1vek1hdGNoZXNTZWxlY3RvciB8fCBwLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIFtdLmluZGV4T2YuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHMpLCB0aGlzKSAhPT0gLTE7XG4gICAgfTtcblxuICAgIHJldHVybiBmLmNhbGwoZWxlbWVudCwgc2VsZWN0b3IpO1xuICB9XG4gIF9fZ2V0VGFyZ2V0cyh0YXJnZXRzLG9wdGlvbnMpe1xuICAgIGNvbnN0IHNlbGVjdG9yID0gW2RlZmF1bHRzLnNlbGVjdG9ycy5odG1sNV0uam9pbignLCcpO1xuICAgIGlmICh1dGlscy5pcy5zdHJpbmcodGFyZ2V0cykpIHtcbiAgICAgIC8vIFN0cmluZyBzZWxlY3RvciBwYXNzZWRcbiAgICAgIHRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRhcmdldHMpO1xuICAgIH0gZWxzZSBpZih1dGlscy5pcy5odG1sRWxlbWVudCh0YXJnZXRzKSl7XG4gICAgICB0YXJnZXRzID0gW3RhcmdldHNdO1xuICAgIH1lbHNlIGlmICghdXRpbHMuaXMubm9kZUxpc3QodGFyZ2V0cykgJiYgIXV0aWxzLmlzLmFycmF5KHRhcmdldHMpICYmICF1dGlscy5pcy5zdHJpbmcodGFyZ2V0cykpICB7XG4gICAgICAvLyBObyBzZWxlY3RvciBwYXNzZWQsIHBvc3NpYmx5IG9wdGlvbnMgYXMgZmlyc3QgYXJndW1lbnRcbiAgICAgIC8vIElmIG9wdGlvbnMgYXJlIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAgaWYgKHV0aWxzLmlzLnVuZGVmaW5lZChvcHRpb25zKSAmJiB1dGlscy5pcy5vYmplY3QodGFyZ2V0cykpIHtcbiAgICAgICAgICBvcHRpb25zID0gdGFyZ2V0cztcbiAgICAgIH1cbiAgICAgIHRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzLm5vZGVMaXN0KHRhcmdldHMpKSB7XG4gICAgICB0YXJnZXRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGFyZ2V0cyk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRzO1xuICB9XG4gIFxufVxuZXhwb3J0IGRlZmF1bHQgdlBsYXllcjsiXX0="}