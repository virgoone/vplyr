{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/config.js","src/js/index.js","src/js/player/controls.js","src/js/player/index.js","src/js/player/player.js","src/js/player/storage.js","src/js/utils/dom.js","src/js/utils/events.js","src/js/utils/logger.js","src/js/utils/util.js","src/js/vPlayer.js"],"names":[],"mappings":"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","file":"vplyr.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const defaultConfig = {\n    enabled: true,\n    debug: true,\n    autoplay: false,\n    loop: false,\n    seekTime: 10,\n    volume: 10,\n    volumeMin: 0,\n    volumeMax: 10,\n    volumeStep: 1,\n    duration: null,\n    displayDuration: true,\n    loadSprite: true,\n    hideControls: true,\n    blankUrl: 'https://cdn.selz.com/plyr/blank.mp4',\n    controls: ['play-large', 'play', 'progress', 'time', 'mute', 'volume', 'captions', 'fullscreen'],\n    selectors: {\n        html5: 'video, audio',\n        editable: 'input, textarea, select, [contenteditable]',\n        container: '.vplyr',\n        controls: {\n            container: null,\n            wrapper: '.vplyr-controls'\n        },\n        buttons: {\n            seek: '[data-video=\"seek\"]',\n            play: '[data-video=\"play\"]',\n            pause: '[data-video=\"pause\"]',\n            mute: '[data-video=\"mute\"]',\n            fullscreen: '[data-video=\"fullscreen\"]'\n        },\n        volume: {\n            input: '[data-video=\"volume\"]',\n            display: '.vplyr-volume-display'\n        },\n        progress: {\n            container: '.vplyr-progress-bar-container',\n            buffer: '.vplyr-progress-buffer',\n            played: '.vplyr-progress-played'\n        },\n        volume: {\n            input: '[data-video=\"volume\"]',\n            display: '.vplyr-volume-display'\n        },\n        currentTime: '.control-currenttime',\n        duration: '.control-duration'\n    },\n\n    // Custom control listeners\n    listeners: {\n        seek: null,\n        play: null,\n        pause: null,\n        restart: null,\n        rewind: null,\n        forward: null,\n        mute: null,\n        volume: null,\n        captions: null,\n        fullscreen: null\n    },\n    storage: {\n        enabled: true,\n        key: 'vplyr'\n    },\n    types: {\n        html5: ['video']\n    },\n    classes: {\n        setup: 'vplyr-setup',\n        ready: 'vplyr-ready',\n        muted: 'vplyr-muted',\n        type: 'vplyr-{0}',\n        videoWrapper: 'vplyr-video-container',\n        playing: 'vplyr-plying',\n        loading: 'vplyr-loading',\n        hover: 'vplyr-hover',\n        stopped: 'vplyr-stopped',\n        inIos: 'vplyr--is-ios',\n        inTouch: 'vplyr--is-touch',\n        inWechat: 'vplyr--is-wechat',\n        inChrome: 'vplyr--is-chrome',\n        tabFocus: 'tab-focus',\n        hideControls: 'vplyr-hide-controls',\n        fullscreen: {\n            enabled: 'vplyr-fullscreen-enabled',\n            active: 'vplyr-fullscreen-active'\n        },\n    },\n    events: ['ready', 'ended', 'progress', 'stalled', 'playing', 'waiting', 'canplay', 'canplaythrough', 'loadstart', 'loadeddata', 'loadedmetadata', 'timeupdate', 'volumechange', 'play', 'pause', 'error', 'seeking', 'seeked', 'emptied'],\n    // Logging\n    logPrefix: '[VPlyr]'\n}\nexport function createDefaultConfig() {\n    return Object.assign({}, defaultConfig);\n}","module.exports = require('./vPlayer.js').default;\n","import utils from '../utils/util';\n\nexport const buildControls = (config)=>{\n  const { controls } = config;\n    const html = ['<div class=\"vplyr-video-loader-container\">',\n      '<div class=\"vplyr-video-loader\">',\n      '<div class=\"loader-inner one\"></div>',\n      '<div class=\"loader-inner two\"></div>',\n      '<div class=\"loader-inner three\"></div>',\n      '</div>',\n      '</div><div class=\"vplyr-gradient-bottom\"></div>'];\n    html.push('<div class=\"vplyr-bottom-container\">')\n    if (utils.inArray(controls, 'progress')) {\n      html.push(\n        '<div class=\"vplyr-progress-bar-container\">',\n        '<input id=\"seek{id}\" type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"0.1\" class=\"vplyr-progress-bar\" data-video=\"seek\"/>',\n        '<progress class=\"vplyr-progress-played\" max=\"100\" role=\"presentation\"></progress>',\n        '<progress class=\"vplyr-progress-buffer\" max=\"100\" value=\"100\">',\n        '<span>100.00</span>% buffered',\n        '</progress>',\n        '</div>'\n      );\n    }\n    html.push('<div class=\"vplyr-controls\">')\n    html.push('<div class=\"left-controls\">')\n    if (utils.inArray(controls, 'play')) {\n      html.push(\n        '<div class=\"btn-controls\">',\n        '<div class=\"btn-wrap\">',\n        '<div class=\"play\" data-video=\"play\"></div>',\n        '<div class=\"pause\" data-video=\"pause\"></div>',\n        '</div>',\n        '</div>'\n      );\n    }\n    if (utils.inArray(controls, 'time')) {\n      html.push(\n        '<div class=\"time-mod-controls\">',\n        '<div class=\"control-currenttime\">00:00</div>',\n        '<div class=\"control-separator\">/</div>',\n        '<div class=\"control-duration\">00:00</div>',\n        '</div>'\n      );\n    }\n    html.push('</div>')//close vplyr left controls\n    html.push('<div class=\"right-controls\">')\n    if (utils.inArray(controls, 'fullscreen')) {\n      html.push(\n        '<div class=\"fullscreen-controls\" data-video=\"fullscreen\">',\n        '<svg class=\"icon-exit-fullscreen\">',\n        '<use xlink:href=\"#vplyr-exit-fullscreen\"></use>',\n        '</svg>',\n        '<svg class=\"icon-enter-fullscreen\">',\n        ' <use xlink:href=\"#vplyr-enter-fullscreen\"></use>',\n        '</svg>',\n        '</div>'\n      );\n    }\n    html.push('<div class=\"volume-controls\">')\n    if (utils.inArray(controls, 'mute')) {\n      html.push(\n        '<div class=\"vplyr-volume\" data-video=\"mute\">',\n        '<svg class=\"icon-muted\">',\n        '<use xlink:href=\"#vplyr-muted\"></use>',\n        '</svg>',\n        '<svg class=\"icon-volume\">',\n        '<use xlink:href=\"#vplyr-volume\"></use>',\n        '</svg>',\n        '</div>'\n      );\n    }\n    if (utils.inArray(controls, 'volume')) {\n      html.push(\n        '<div class=\"vplyr-volume-progress\">',\n        '<input type=\"range\" id=\"volume{id}\"  class=\"vplyr-volume-input\"  min=\"0\"  max=\"10\" data-video=\"volume\" value=\"8\">',\n        '<progress class=\"vplyr-volume-display\" max=\"10\" role=\"presentation\"></progress>',\n        '</div>'\n      );\n    }\n    html.push('</div>')//close vplyr volume controls\n\n    html.push('</div>')//close vplyr right controls\n\n    html.push('</div>')//close vplyr controls\n    html.push('</div>')//close\n    return html.join('');\n}","import utils, { is } from '../utils/util';\nimport Player from './player';\nimport { defaultConfig as defaults } from '../config';\n\nclass VPlayer {\n  constructor(target, options) {\n    this.TAG = 'VideoPlayer';\n    this._intaface = null;\n    this.media = target;\n    this.options = options;\n  }\n  pause() {\n    const intaface = this._intaface;\n    intaface.pause();\n  }\n  play() {\n    const intaface = this._intaface;\n    intaface.play();\n  }\n  stop() {\n    const intaface = this._intaface;\n    intaface.pause();\n    intaface.seek();\n  }\n  togglePlay() {\n    const intaface = this._intaface;\n    intaface.togglePlay();\n  }\n  toggleControls() {\n    const intaface = this._intaface;\n    intaface.toggleControls();\n  }\n  get loadingState() {\n    const intaface = this._intaface;\n    return intaface.isLoading();\n  }\n  get readyState() {\n    const intaface = this._intaface;\n    return intaface.isReady();\n  }\n  get container() {\n    const intaface = this._intaface;\n    return intaface.getContainer();\n  }\n  get type() {\n    const intaface = this._intaface;\n    return intaface.getType;\n  }\n  get volume() {\n    const intaface = this._intaface;\n    return intaface.getVolume();\n  }\n  get duration() {\n    const intaface = this._intaface;\n    return intaface.getDuration();\n  }\n  get currentTime() {\n    const intaface = this._intaface;\n    return intaface.getCurrentTime();\n  }\n  get fullscreen() {\n    const intaface = this._intaface;\n    return intaface.isFullscreen() || false;\n  }\n  get muted() {\n    const intaface = this._intaface;\n    return intaface.isMuted();\n  }\n  get paused() {\n    const intaface = this._intaface;\n    return intaface.isPaused;\n  }\n  set fullscreen(fullscreen) {\n    if (!is.boolean(fullscreen)) {\n      return;\n    }\n\n    const intaface = this._intaface;\n    if ((!intaface.isFullscreen() && fullscreen) || (intaface.isFullscreen() && !fullscreen)) {\n      intaface.toggleFullscreen();\n    }\n  }\n  set volume(value) {\n    const intaface = this._intaface;\n    return intaface.setVolume(value);\n  }\n  set currentTime(value) {\n    intaface.seek(value);\n  }\n  set muted(muted) {\n    if (!is.boolean(muted)) {\n      return;\n    }\n    const intaface = this._intaface;\n    if ((!intaface.isMuted() && muted) || (intaface.isMuted() && !muted)) {\n      intaface.toggleMute(muted);\n    }\n    \n  }\n  setup() {\n    const element = this.media;\n    const options = this.options;\n    let data = {};\n\n    try { data = JSON.parse(element.getAttribute('data-vplyr')); }\n    catch (e) { }\n    const config = utils.extend({}, defaults, options, data);\n    if (!config.enabled) {\n      return null;\n    }\n    const player = new Player(element, config);\n    const instance =player.setup();\n    this._intaface = instance;\n  }\n}\nexport default VPlayer;","import $ from '../utils/dom';\nimport utils, { is } from '../utils/util';\nimport Event from '../utils/events';\nimport Log from '../utils/logger';;\nimport { setupStorage, updateStorage } from './storage';\nimport { buildControls } from './controls';\nimport { defaultConfig as defaults } from '../config';\n\nclass Player {\n  constructor(media, config) {\n    console.log(new utils().is);\n\n    const browser = utils.browerSniff();\n    this.TAG = 'Player';\n    this._player = {\n      media, browser\n    };\n    this._config = config;\n    this._timers = {};\n    this._storage = {};\n    this._media = media;\n    this._fullscreen = $.fullscreen();\n    this.__init__ = false;\n    this.__original = media.cloneNode(true);\n  }\n  setup() {\n    const config = this._config;\n    const player = this._player;\n    const storage = this._storage;\n\n    const { media } = player;\n    let api = {};\n    if (this.__init__) {\n      return null;\n    }\n    if (!is.htmlElement(media)) {\n      Log.w(this.TAG, 'media must be a video');\n      return;\n    }\n    setupStorage(config, storage);\n    const tagName = media.tagName.toLowerCase();\n    player.type = tagName;\n    config.crossorigin = (media.getAttribute('crossorigin') !== null);\n    config.autoplay = (config.autoplay || (media.getAttribute('autoplay') !== null));\n    config.loop = (config.loop || (media.getAttribute('loop') !== null));\n    player.supported = utils.supported(player.type);\n    if (!player.supported.basic) {\n      return;\n    }\n    player.container = $.wrap(media, document.createElement('div'));\n    player.container.setAttribute('tabindex', 0);\n    this._toggleStyleHook();\n\n    Log.i(this.TAG, '' + player.browser.name + ' ' + player.browser.version);\n    this._setupMedia();\n    if (utils.inArray(config.types.html5, player.type)) {\n      // Setup UI\n      this._setupInterface();\n\n      this._ready();\n    }\n    this.__init__ = true;\n    api = {\n      getType: player.type,\n      getDuration: this._getDuration.bind(this),\n      play: this._play.bind(this),\n      pause: this._pause.bind(this),\n      stop: () => { this._pause().bind(this); this._seek().bind(this); },\n      seek: this._seek.bind(this),\n      setVolume: this._setVolume.bind(this),\n      togglePlay: this._togglePlay.bind(this),\n      toggleMute: this._toggleMute.bind(this),\n      toggleFullscreen: this._toggleFullscreen.bind(this),\n      toggleControls: this._toggleControls.bind(this),\n      isFullscreen: function () { return player.isFullscreen || false; },\n      getContainer: function () { return player.container },\n      getMedia: function () { return player.media; },\n      getCurrentTime: function () { return player.media.currentTime; },\n      getVolume: function () { return player.media.volume; },\n      isMuted: function () { return player.media.muted; },\n      isReady: function () { return $.hasClass(player.container, config.classes.ready); },\n      isLoading: function () { return $.hasClass(player.container, config.classes.loading); },\n      isPaused: function () { return player.media.paused; },\n      on: function (event, callback) { Event.onEvent(player.container, event, callback); return this; },\n    }\n    return api;\n  }\n  _ready() {\n    const config = this._config;\n    const player = this._player;\n    const { media, container } = player;\n\n    // Ready event at end of execution stack\n    window.setTimeout(() => {\n      this._triggerEvent(media, 'ready');\n    }, 0);\n\n    // Set class hook on media element\n    $.toggleClass(media, defaults.classes.setup, true);\n\n    // Set container class for ready\n    $.toggleClass(container, config.classes.ready, true);\n\n    // Autoplay\n    if (config.autoplay) {\n      this._play();\n    }\n  }\n  _setupMedia() {\n    const config = this._config;\n    const player = this._player;\n    const original = this._original;\n    const { media } = player;\n\n    if (!media) {\n      Log.w(this.TAG, 'No media element found!');\n      return;\n    }\n    const { autoplay, classes } = config;\n    const { container, type, browser, supported } = player;\n    const { stopped, inIos, inChrome, inTouch, inWechat, videoWrapper } = classes;\n    const { isIos, isChrome, isTouch, isWechat } = browser;\n    if (supported.full) {\n      $.toggleClass(container, classes.type.replace('{0}', type), true);\n      $.toggleClass(container, stopped, autoplay);\n      // Add iOS class\n      $.toggleClass(container, inIos, isIos);\n      // Add chrome class\n      $.toggleClass(container, inChrome, isChrome);\n      // Add touch class\n      $.toggleClass(container, inTouch, isTouch);\n\n      // Add wechat class\n      $.toggleClass(container, inWechat, isWechat);\n      if (player.type === 'video') {\n        const wrapper = document.createElement('div');\n        wrapper.setAttribute('class', videoWrapper);\n        $.wrap(player.media, wrapper);\n        // Cache the container\n        player.videoContainer = wrapper;\n      }\n    }\n  }\n  _setupInterface() {\n    const config = this._config;\n    const player = this._player;\n    const storage = this._storage;\n    const { media } = player;\n    const _getElements = (selector) => {\n      return player.container.querySelectorAll(selector);\n    }\n    const _getElement = (selector) => {\n      return _getElements(selector)[0];\n    }\n    if (!player.supported.full) {\n      Log.w(this.TAG, 'Basic support only', player.type);\n\n      // Remove controls\n      $.removeElement(_getElement(config.selectors.controls.wrapper));\n      // reset native controls\n      this._toggleNativeControls(true);\n      // Bail\n      return;\n    }\n    const controlsMissing = !_getElements(config.selectors.controls.wrapper).length;\n    if (controlsMissing) {\n      // Inject custom controls\n      this._injectControls();\n    }\n    if (!this._findElements()) {\n      return;\n    }\n    if (controlsMissing) {\n      this._controlListeners();\n    }\n    this._mediaListeners();\n    this._toggleNativeControls(false);\n    this._timeUpdate();\n    // Set volume\n    this._setVolume();\n\n    this._updateVolume();\n\n    this._checkPlaying();\n  }\n  _mediaListeners() {\n    const player = this._player;\n    const { media } = player;\n    // Time change on media\n    Event.onEvent(media, 'timeupdate seeking', this._timeUpdate.bind(this));\n\n    Event.onEvent(media, 'durationchange loadedmetadata', this._displayDuration.bind(this));\n\n    Event.onEvent(media, 'play pause ended', this._checkPlaying.bind(this));\n\n    Event.onEvent(media, 'progress playing', this._updateProgress.bind(this));\n\n    Event.onEvent(media, 'waiting canplay seeked', this._checkLoading.bind(this));\n\n    Event.onEvent(media, 'volumechange', this._updateVolume.bind(this));\n\n  }\n  _updateVolume() {\n    const config = this._config;\n    const player = this._player;\n    const storage = this._storage;\n    const { media, container, buttons, supported, volume } = player;\n    const { muted } = media;\n    const { classes } = config;\n    // Get the current volume\n    var __volume = muted ? 0 : (media.volume * config.volumeMax);\n\n    // Update the <input type=\"range\"> if present\n    if (supported.full) {\n      if (volume.input) {\n        volume.input.value = __volume;\n      }\n      if (volume.display) {\n        volume.display.value = __volume;\n      }\n    }\n\n    // Update the volume in storage\n    updateStorage({ volume: __volume }, config, storage);\n\n    // Toggle class if muted\n    $.toggleClass(container, classes.muted, (__volume === 0));\n\n    // Update checkbox for mute state\n    if (supported.full && buttons.mute) {\n      this._toggleState(buttons.mute, (volume === 0));\n    }\n  }\n  _checkLoading(event) {\n    const config = this._config;\n    const player = this._player;\n    const timers = this._timers;\n\n    const loading = (event.type === 'waiting');\n    const { container } = player;\n    const { classes } = config;\n    // Clear timer\n    clearTimeout(timers.loading);\n\n    // Timer to prevent flicker when seeking\n    timers.loading = setTimeout(() => {\n      // Toggle container class hook\n      $.toggleClass(container, classes.loading, loading);\n\n      // Show controls if loading, hide if done\n      this._toggleControls(loading);\n    }, (loading ? 250 : 0));\n  }\n  _checkPlaying() {\n    const config = this._config;\n    const player = this._player;\n\n    const { media, container } = player;\n    const { classes } = config;\n    const { paused } = media;\n    $.toggleClass(container, classes.playing, !paused);\n\n    $.toggleClass(container, classes.stopped, paused);\n\n    this._toggleControls(paused);\n  }\n  _play() {\n    const player = this._player;\n    const { media } = player;\n    if ('play' in media) {\n      media.play();\n    }\n  }\n  _pause() {\n    const player = this._player;\n    const { media } = player;\n    if ('pause' in media) {\n      media.pause();\n    }\n  }\n  _togglePlay(toggle) {\n    const player = this._player;\n    const { media } = player;\n    // True toggle\n    if (!is.boolean(toggle)) {\n      toggle = media.paused;\n    }\n\n    if (toggle) {\n      this._play();\n    } else {\n      this._pause();\n    }\n    return toggle;\n  }\n  _getDuration() {\n    const config = this._config;\n    const player = this._player;\n    const { media } = player;\n\n    // It should be a number, but parse it just incase\n    var duration = parseInt(config.duration),\n\n      // True duration\n      mediaDuration = 0;\n\n    // Only if duration available\n    if (media.duration !== null && !isNaN(media.duration)) {\n      mediaDuration = media.duration;\n    }\n\n    // If custom duration is funky, use regular duration\n    return (isNaN(duration) ? mediaDuration : duration);\n  }\n  _seek(input) {\n    const player = this._player;\n    const { media } = player;\n    let targetTime = 0,\n      paused = media.paused,\n      duration = this._getDuration();\n\n    if (is.number(input)) {\n      targetTime = input;\n    } else if (is.object(input) && utils.inArray(['input', 'change'], input.type)) {\n      // It's the seek slider\n      // Seek to the selected time\n      targetTime = ((input.target.value / input.target.max) * duration);\n    }\n    if (targetTime < 0) {\n      targetTime = 0;\n    } else if (targetTime > duration) {\n      targetTime = duration;\n    }\n    this._updateSeekDisplay(targetTime);\n    try {\n      media.currentTime = targetTime.toFixed(4);\n    }\n    catch (e) { }\n  }\n  _setVolume(volume) {\n    const config = this._config;\n    const player = this._player;\n    const storage = this._storage;\n\n    const { media } = player;\n    const max = config.volumeMax,\n      min = config.volumeMin;\n\n    // Load volume from storage if no value specified\n    if (is.undefined(volume)) {\n      volume = storage.volume;\n    }\n\n    // Use config if all else fails\n    if (volume === null || isNaN(volume)) {\n      volume = config.volume;\n    }\n\n    // Maximum is volumeMax\n    if (volume > max) {\n      volume = max;\n    }\n    // Minimum is volumeMin\n    if (volume < min) {\n      volume = min;\n    }\n    // Set the player volume\n    media.volume = parseFloat(volume / max);\n\n    // Set the display\n    if (player.volume.display) {\n      player.volume.display.value = volume;\n    }\n    // Toggle muted state\n    if (volume === 0) {\n      media.muted = true;\n    } else if (media.muted && volume > 0) {\n      this._toggleMute();\n    }\n  }\n  _toggleMute(muted) {\n    const config = this._config;\n    const player = this._player;\n    const storage = this._storage;\n\n    const { media } = player;\n    if (!is.boolean(muted)) {\n      muted = !media.muted;\n    }\n\n    // Set button state\n    this._toggleState(player.buttons.mute, muted);\n\n    // Set mute on the player\n    media.muted = muted;\n\n    // If volume is 0 after unmuting, set to default\n    if (media.volume === 0) {\n      this._setVolume(config.volume);\n    }\n\n  }\n  _toggleState(target, state) {\n    // Bail if no target\n    if (!target) {\n      return;\n    }\n    // Get state\n    state = (is.boolean(state) ? state : !target.getAttribute('aria-pressed'));\n\n    // Set the attribute on target\n    target.setAttribute('aria-pressed', state);\n    return state;\n  }\n  _timeUpdate(event) {\n    const config = this._config;\n    const player = this._player;\n    const { media } = player;\n    // Duration\n    this._updateTimeDisplay(media.currentTime, player.currentTime);\n\n    // Ignore updates while seeking\n    if (event && event.type === 'timeupdate' && media.seeking) {\n      return;\n    }\n    // Playing progress\n    this._updateProgress(event);\n  }\n  _updateProgress(event) {\n    const player = this._player;\n    const { media, controls, progress, buttons, supported } = player;\n    if (!supported.full) {\n      return;\n    }\n\n    var __progress = progress.played,\n      __value = 0,\n      duration = this._getDuration();\n    if (event) {\n      switch (event.type) {\n        case 'timeupdate':\n        case 'seeking':\n          if (controls.pressed) {\n            return;\n          }\n\n          __value = this._getPercentage(media.currentTime, duration);\n\n          // Set seek range value only if it's a 'natural' time event\n          if (event.type === 'timeupdate' && buttons.seek) {\n            buttons.seek.value = __value;\n          }\n\n          break;\n        // Check buffer status\n        case 'playing':\n        case 'progress':\n          __progress = progress.buffer;\n          __value = (() => {\n            var buffered = media.buffered;\n\n            if (buffered && buffered.length) {\n              // HTML5\n              return this._getPercentage(buffered.end(0), duration);\n            }\n            return 0;\n          })();\n          break;\n      }\n    }\n    this._setProgress(__progress, __value);\n  }\n  _setProgress(progress, value) {\n    const player = this._player;\n    const { supported } = player;\n    if (!supported.full) {\n      return;\n    }\n\n    // Default to 0\n    if (is.undefined(value)) {\n      value = 0;\n    }\n    // Default to buffer or bail\n    if (is.undefined(progress)) {\n      if (player.progress && player.progress.buffer) {\n        progress = player.progress.buffer;\n      } else {\n        return;\n      }\n    }\n\n    // One progress element passed\n    if (is.htmlElement(progress)) {\n      progress.value = value;\n    } else if (progress) {\n      // Object of progress + text element\n      if (progress.bar) {\n        progress.bar.value = value;\n      }\n      if (progress.text) {\n        progress.text.innerHTML = value;\n      }\n    }\n  }\n  _updateTimeDisplay(time, element) {\n    const player = this._player;\n\n    // Bail if there's no duration display\n    if (!element) {\n      return;\n    }\n\n    // Fallback to 0\n    if (isNaN(time)) {\n      time = 0;\n    }\n\n    player.secs = parseInt(time % 60);\n    player.mins = parseInt((time / 60) % 60);\n    player.hours = parseInt(((time / 60) / 60) % 60);\n\n    // Do we need to display hours?\n    var displayHours = (parseInt(((this._getDuration() / 60) / 60) % 60) > 0);\n\n    // Ensure it's two digits. For example, 03 rather than 3.\n    player.secs = ('0' + player.secs).slice(-2);\n    player.mins = ('0' + player.mins).slice(-2);\n\n    // Render\n    element.innerHTML = (displayHours ? player.hours + ':' : '') + player.mins + ':' + player.secs;\n  }\n  _updateSeekDisplay(time) {\n    // Default to 0\n    if (!is.number(time)) {\n      time = 0;\n    }\n    const player = this._player;\n\n    const { progress, buttons } = player;\n    var duration = this._getDuration(),\n      value = this._getPercentage(time, duration);\n\n    // Update progress\n    if (progress && progress.played) {\n      progress.played.value = value;\n    }\n\n    // Update seek range input\n    if (buttons && buttons.seek) {\n      buttons.seek.value = value;\n    }\n  }\n  _displayDuration() {\n    const config = this._config;\n    const player = this._player;\n    const storage = this._storage;\n\n    const { media, supported, duration, currentTime } = player;\n    const { displayDuration } = config;\n    if (!supported.full) {\n      return;\n    }\n\n    // Determine duration\n    var __duration = this._getDuration() || 0;\n\n    // If there's only one time display, display duration there\n    if (!duration && displayDuration && media.paused) {\n      this._updateTimeDisplay(__duration, currentTime);\n    }\n\n    // If there's a duration element, update content\n    if (duration) {\n      this._updateTimeDisplay(__duration, duration);\n    }\n\n  }\n  _controlListeners() {\n    const config = this._config;\n    const player = this._player;\n    const fullscreen = this._fullscreen;\n\n    const { browser, buttons, volume, container, controls } = player;\n    const { classes, listeners, hideControls } = config;\n    const inputEvent = (browser.isIE ? 'change' : 'input');\n    const togglePlay = () => {\n      const play = this._togglePlay();\n      let trigger = buttons[play ? 'play' : 'pause'],\n        target = buttons[play ? 'pause' : 'play'];\n\n      // Get the last play button to account for the large play button\n      if (target && target.length > 1) {\n        target = target[target.length - 1];\n      } else {\n        target = target[0];\n      }\n      if (target) {\n        const hadTabFocus = $.hasClass(trigger, classes.tabFocus);\n\n        setTimeout(function () {\n          target.focus();\n          if (hadTabFocus) {\n            $.toggleClass(trigger, classes.tabFocus, false);\n            $.toggleClass(target, classes.tabFocus, true);\n          }\n        }, 100);\n      }\n    }\n    Event.proxyListener(buttons.play, 'click', listeners.play, togglePlay);\n    // Pause\n    Event.proxyListener(buttons.pause, 'click', listeners.pause, togglePlay);\n    // Seek\n    Event.proxyListener(buttons.seek, inputEvent, listeners.seek, this._seek.bind(this));\n\n    Event.proxyListener(volume.input, inputEvent, listeners.volume, () => {\n      this._setVolume(volume.input.value);\n    });\n    Event.proxyListener(buttons.mute, 'click', listeners.mute, this._toggleMute.bind(this));\n\n    Event.proxyListener(buttons.fullscreen, 'click', listeners.fullscreen, this._toggleFullscreen.bind(this));\n\n    // Handle user exiting fullscreen by escaping etc\n    if (fullscreen.supportsFullScreen) {\n      Event.onEvent(document, fullscreen.fullScreenEventName, this._toggleFullscreen.bind(this));\n    }\n    if (hideControls) {\n      // Toggle controls on mouse events and entering fullscreen\n      Event.onEvent(container, 'mouseenter mouseleave mousemove touchstart touchend touchcancel touchmove enterfullscreen', this._toggleControls.bind(this));\n\n      // Watch for cursor over controls so they don't hide when trying to interact\n      Event.onEvent(controls, 'mouseenter mouseleave', (event) => {\n        player.controls.hover = event.type === 'mouseenter';\n      });\n\n      // Watch for cursor over controls so they don't hide when trying to interact\n      Event.onEvent(controls, 'mousedown mouseup touchstart touchend touchcancel', (event) => {\n        player.controls.pressed = utils.inArray(['mousedown', 'touchstart'], event.type);\n      });\n      // Focus in/out on controls\n      Event.onEvent(controls, 'focus blur', this._toggleControls.bind(this), true);\n    }\n  }\n  _injectControls() {\n    const config = this._config;\n    const player = this._player;\n\n    let { html, selectors } = config;\n\n    const { container } = player;\n    if (!html) {\n      html = buildControls(config);\n    }\n    const random = Math.floor(Math.random() * (1000000));\n    container.setAttribute('id', `vplyr${random}`);\n    html = utils.replaceAll(html, '{id}', random);\n    let target;\n    if (is.string(selectors.controls.container)) {\n      target = document.querySelector(selectors.controls.container);\n    }\n    // Inject into the container by default\n    if (!is.htmlElement(target)) {\n      target = container\n    }\n    target.insertAdjacentHTML('beforeend', html);\n  }\n  _findElements() {\n    const config = this._config;\n    const player = this._player;\n\n    const { container } = player;\n    const { selectors } = config;\n    const { controls, buttons, progress, volume, duration, currentTime, seekTime } = selectors;\n    const _getElements = (selector) => {\n      return container.querySelectorAll(selector);\n    }\n    const _getElement = (selector) => {\n      return _getElements(selector)[0];\n    }\n    try {\n      player.controls = _getElement(controls.wrapper);\n\n      // Buttons\n      player.buttons = {};\n      player.buttons.seek = _getElement(buttons.seek);\n      player.buttons.play = _getElements(buttons.play);\n      player.buttons.pause = _getElement(buttons.pause);\n      player.buttons.fullscreen = _getElement(buttons.fullscreen);\n\n      // Inputs\n      player.buttons.mute = _getElement(buttons.mute);\n\n      // Progress\n      player.progress = {};\n      player.progress.container = _getElement(progress.container);\n\n      // Progress - Buffering\n      player.progress.buffer = {};\n      player.progress.buffer.bar = _getElement(progress.buffer);\n      player.progress.buffer.text = player.progress.buffer.bar && player.progress.buffer.bar.getElementsByTagName('span')[0];\n\n      // Progress - Played\n      player.progress.played = _getElement(progress.played);\n\n      // Volume\n      player.volume = {};\n      player.volume.input = _getElement(volume.input);\n      player.volume.display = _getElement(volume.display);\n\n      // Timing\n      player.duration = _getElement(duration);\n      player.currentTime = _getElement(currentTime);\n      player.seekTime = _getElements(seekTime);\n\n      return true;\n    }\n    catch (e) {\n      this._warn('It looks like there is a problem with your controls HTML');\n      // Restore native video controls\n      this._toggleNativeControls(true);\n\n      return false;\n    }\n  }\n  _toggleNativeControls(toggle) {\n    const config = this._config;\n    const player = this._player;\n    const { media } = player;\n    if (toggle && utils.inArray(config.types.html5, player.type)) {\n      media.setAttribute('controls', '');\n    } else {\n      media.removeAttribute('controls');\n    }\n  }\n  _toggleFullscreen(event) {\n    // Check for native support\n    const config = this._config;\n    const player = this._player;\n    const fullscreen = this._fullscreen;\n\n    const { container, buttons } = player;\n    var nativeSupport = fullscreen.supportsFullScreen;\n\n    if (nativeSupport) {\n      // If it's a fullscreen change event, update the UI\n      if (event && event.type === fullscreen.fullScreenEventName) {\n        player.isFullscreen = fullscreen.isFullScreen(container);\n      } else {\n        // Else it's a user request to enter or exit\n        if (!fullscreen.isFullScreen(container)) {\n          // Save scroll position\n          this._saveScrollPosition();\n\n          // Request full screen\n          fullscreen.requestFullScreen(container);\n        } else {\n          // Bail from fullscreen\n          fullscreen.cancelFullScreen();\n        }\n\n        // Check if we're actually full screen (it could fail)\n        player.isFullscreen = fullscreen.isFullScreen(container);\n\n        return;\n      }\n    } else {\n      // Otherwise, it's a simple toggle\n      player.isFullscreen = !player.isFullscreen;\n\n      // Bind/unbind escape key\n      document.body.style.overflow = player.isFullscreen ? 'hidden' : '';\n    }\n\n    // Set class hook\n    $.toggleClass(container, config.classes.fullscreen.active, player.isFullscreen);\n\n    // Trap focus\n    this._focusTrap(player.isFullscreen);\n\n    // Set button state\n    if (buttons && buttons.fullscreen) {\n      this._toggleState(buttons.fullscreen, player.isFullscreen);\n    }\n\n    // Trigger an event\n    this._triggerEvent(container, player.isFullscreen ? 'enterfullscreen' : 'exitfullscreen', true);\n\n    // Restore scroll position\n    if (!player.isFullscreen && nativeSupport) {\n      this._restoreScrollPosition();\n    }\n  }\n  _saveScrollPosition() {\n    scroll = {\n      x: window.pageXOffset || 0,\n      y: window.pageYOffset || 0\n    };\n  }\n  _restoreScrollPosition() {\n    window.scrollTo(scroll.x, scroll.y);\n  }\n  _toggleControls(toggle) {\n    const config = this._config;\n    const player = this._player;\n    const timers = this._timers;\n\n    const { hideControls, classes } = config;\n    const { type, container, browser, controls, media } = player;\n    const { paused } = media;\n    // Don't hide if config says not to, it's audio, or not ready or loading\n    if (!hideControls || type === 'audio') {\n      return;\n    }\n\n    var delay = 0,\n      isEnterFullscreen = false,\n      show = toggle,\n      loading = $.hasClass(container, classes.loading);\n\n    // Default to false if no boolean\n    if (!is.boolean(toggle)) {\n      if (toggle && toggle.type) {\n        // Is the enter fullscreen event\n        isEnterFullscreen = (toggle.type === 'enterfullscreen');\n\n        // Whether to show controls\n        show = utils.inArray(['mousemove', 'touchstart', 'mouseenter', 'focus'], toggle.type);\n\n        // Delay hiding on move events\n        if (utils.inArray(['mousemove', 'touchmove'], toggle.type)) {\n          delay = 2000;\n        }\n\n        // Delay a little more for keyboard users\n        if (toggle.type === 'focus') {\n          delay = 3000;\n        }\n      } else {\n        show = $.hasClass(container, classes.hideControls);\n      }\n    }\n\n    // Clear timer every movement\n    window.clearTimeout(timers.hover);\n\n    // If the mouse is not over the controls, set a timeout to hide them\n    if (show || paused || loading) {\n      $.toggleClass(container, classes.hideControls, false);\n\n      // Always show controls when paused or if touch\n      if (paused || loading) {\n        return;\n      }\n\n      // Delay for hiding on touch\n      if (browser.isTouch) {\n        delay = 3000;\n      }\n    }\n\n    // If toggle is false or if we're playing (regardless of toggle),\n    // then set the timer to hide the controls\n    if (!show || !paused) {\n      timers.hover = window.setTimeout(() => {\n        // If the mouse is over the controls (and not entering fullscreen), bail\n        if ((controls.pressed || controls.hover) && !isEnterFullscreen) {\n          return;\n        }\n\n        $.toggleClass(container, classes.hideControls, true);\n      }, delay);\n    }\n  }\n  _triggerEvent(element, type, bubbles, properties) {\n    Event.customEvent(element, type, bubbles, utils.extend({}, properties, {\n      vplyr: this\n    }));\n  }\n  _getPercentage(current, max) {\n    if (current === 0 || max === 0 || isNaN(current) || isNaN(max)) {\n      return 0;\n    }\n    return ((current / max) * 100).toFixed(2);\n  }\n  _toggleStyleHook() {\n    const config = this._config;\n    const player = this._player;\n    $.toggleClass(player.container, config.selectors.container.replace('.', ''), player.supported.full);\n  }\n}\nexport default Player;","import utils,{ storageSupport } from '../utils/util';\nexport const updateStorage = (value, config, storage) => {\n  if (!storageSupport || !config.storage.enabled) {\n    return;\n  }\n  utils.extend(storage, value);\n  window.localStorage.setItem(config.storage.key, JSON.stringify(storage));\n}\nexport const setupStorage = (config, storage) => {\n  var value = null;\n  if (!storageSupport || !config.storage.enabled) {\n    return;\n  }\n\n  window.localStorage.removeItem('vplyr-volume');\n\n  // load value from the current key\n  value = window.localStorage.getItem(config.storage.key);\n\n  if (!value) {\n    return;\n  } else if (/^\\d+(\\.\\d+)?$/.test(value)) {\n    updateStorage({ volume: parseFloat(value) }, config, storage);\n  } else {\n    // Assume it's JSON from this or a later version of plyr\n    storage = JSON.parse(value);\n  }\n}\n","import utils,{is} from './util';\n\nclass Dom {\n  static wrap(elements, wrapper) {\n    // Convert `elements` to an array, if necessary.\n    if (!elements.length) {\n      elements = [elements];\n    }\n\n    // Loops backwards to prevent having to clone the wrapper on the\n    // first element (see `child` below).\n    for (var i = elements.length - 1; i >= 0; i--) {\n      var child = (i > 0) ? wrapper.cloneNode(true) : wrapper;\n      var element = elements[i];\n\n      // Cache the current parent and sibling.\n      var parent = element.parentNode;\n      var sibling = element.nextSibling;\n\n      // Wrap the element (is automatically removed from its current\n      // parent).\n      child.appendChild(element);\n\n      // If the element had a sibling, insert the wrapper before\n      // the sibling to maintain the HTML structure; otherwise, just\n      // append it to the parent.\n      if (sibling) {\n        parent.insertBefore(child, sibling);\n      } else {\n        parent.appendChild(child);\n      }\n      return child;\n    }\n  }\n  static getClassname(selector) {\n    return selector.replace('.', '');\n  }\n  static insertElement(type, parent, attributes) {\n    // Create a new <element>\n    var element = document.createElement(type);\n\n    // Set all passed attributes\n    Dom.setAttributes(element, attributes);\n\n    // Inject the new element\n    Dom.prependChild(parent, element);\n  }\n  static setAttributes(element, attributes) {\n    for (var key in attributes) {\n      element.setAttribute(key, (_is.boolean(attributes[key]) && attributes[key]) ? '' : attributes[key]);\n    }\n  }\n  static prependChild(parent, element) {\n    parent.insertBefore(element, parent.firstChild);\n  }\n  static injectScript(source) {\n    if (document.querySelectorAll('script[src=\"' + source + '\"]').length) {\n        return;\n    }\n\n    var tag = document.createElement('script');\n    tag.src = source;\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n  static hasClass(element, className) {\n    if (element) {\n      if (element.classList) {\n          return element.classList.contains(className);\n      } else {\n          return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test(element.className);\n      }\n    }\n    return false;\n  }\n  static removeElement(element){\n    if (!element) {\n        return;\n    }\n    element.parentNode.removeChild(element);\n  }\n  // Toggle class on an element\n  static toggleClass(element, className, state){\n    if (element) {\n      if (element.classList) {\n        element.classList[state ? 'add' : 'remove'](className);\n      } else {\n        let name = (' ' + element.className + ' ').replace(/\\s+/g, ' ').replace(' ' + className + ' ', '');\n        element.className = name + (state ? ' ' + className : '');\n      }\n    }\n  }\n  static fullscreen() {\n    var fullscreen = {\n            supportsFullScreen: false,\n            isFullScreen: function() { return false; },\n            requestFullScreen: function() {},\n            cancelFullScreen: function() {},\n            fullScreenEventName: '',\n            element: null,\n            prefix: ''\n        },\n        browserPrefixes = 'webkit o moz ms khtml'.split(' ');\n\n    // Check for native support\n    if (!is.undefined(document.cancelFullScreen)) {\n        fullscreen.supportsFullScreen = true;\n    } else {\n      // Check for fullscreen support by vendor prefix\n      for (var i = 0, il = browserPrefixes.length; i < il; i++ ) {\n        fullscreen.prefix = browserPrefixes[i];\n\n        if (!is.undefined(document[fullscreen.prefix + 'CancelFullScreen'])) {\n          fullscreen.supportsFullScreen = true;\n          break;\n        } else if (!is.undefined(document.msExitFullscreen) && document.msFullscreenEnabled) {\n          // Special case for MS (when isn't it?)\n          fullscreen.prefix = 'ms';\n          fullscreen.supportsFullScreen = true;\n          break;\n        }\n      }\n    }\n\n    // Update methods to do something useful\n    if (fullscreen.supportsFullScreen) {\n      // Yet again Microsoft awesomeness,\n      // Sometimes the prefix is 'ms', sometimes 'MS' to keep you on your toes\n      fullscreen.fullScreenEventName = (fullscreen.prefix === 'ms' ? 'MSFullscreenChange' : fullscreen.prefix + 'fullscreenchange');\n\n      fullscreen.isFullScreen = function(element) {\n        if (is.undefined(element)) {\n            element = document.body;\n        }\n        switch (this.prefix) {\n          case '':\n            return document.fullscreenElement === element;\n          case 'moz':\n            return document.mozFullScreenElement === element;\n          default:\n            return document[this.prefix + 'FullscreenElement'] === element;\n        }\n      };\n      fullscreen.requestFullScreen = function(element) {\n        if (is.undefined(element)) {\n          element = document.body;\n        }\n        return (this.prefix === '') ? element.requestFullScreen() : element[this.prefix + (this.prefix === 'ms' ? 'RequestFullscreen' : 'RequestFullScreen')]();\n      };\n      fullscreen.cancelFullScreen = function() {\n        return (this.prefix === '') ? document.cancelFullScreen() : document[this.prefix + (this.prefix === 'ms' ? 'ExitFullscreen' : 'CancelFullScreen')]();\n      };\n      fullscreen.element = function() {\n        return (this.prefix === '') ? document.fullscreenElement : document[this.prefix + 'FullscreenElement'];\n      };\n    }\n\n    return fullscreen;\n  }\n}\nexport default Dom;\n","import utils, { is } from './util';\n\nclass Event {\n  static customEvent(element, type, bubbles, properties) {\n    // Bail if no element\n    if (!element || !type) {\n      return;\n    }\n\n    // Default bubbles to false\n    if (!is.boolean(bubbles)) {\n      bubbles = false;\n    }\n\n    // Create and dispatch the event\n    var event = new CustomEvent(type, {\n      bubbles: bubbles,\n      detail: properties\n    });\n\n    // Dispatch the event\n    element.dispatchEvent(event);\n  }\n  static onEvent(element, events, callback, useCapture) {\n    if (element) {\n      Event.toggleListener(element, events, callback, true, useCapture);\n    }\n  }\n\n  static toggleListener(element, events, callback, toggle, useCapture) {\n    var eventList = events.split(' ');\n    // Whether the listener is a capturing listener or not\n    // Default to false\n    if (!is.boolean(useCapture)) {\n      useCapture = false;\n    }\n\n    // If a nodelist is passed, call itself on each node\n    if (element instanceof NodeList) {\n      for (var x = 0; x < element.length; x++) {\n        if (element[x] instanceof Node) {\n          Event.toggleListener(element[x], arguments[1], arguments[2], arguments[3]);\n        }\n      }\n      return;\n    }\n\n    // If a single node is passed, bind the event listener\n    for (var i = 0; i < eventList.length; i++) {\n      element[toggle ? 'addEventListener' : 'removeEventListener'](eventList[i], callback, useCapture);\n    }\n  }\n  static proxyListener(element, eventName, userListener, defaultListener, useCapture) {\n    Event.onEvent(element, eventName, function (event) {\n      if (userListener) {\n        userListener.apply(element, [event]);\n      }\n      defaultListener.apply(element, [event]);\n    }, useCapture);\n  }\n}\nexport default Event;","\nclass Log {\n\n  static e(tag, msg) {\n    if (!Log.ENABLE_ERROR) {\n      return;\n    }\n    if (!tag || Log.FORCE_GLOBAL_TAG)\n      tag = Log.GLOBAL_TAG;\n    let str = `[${tag}] > ${msg}`;\n    if (console.error) {\n      console.error(str);\n    } else if (console.warn) {\n      console.warn(str);\n    } else {\n      console.log(str);\n    }\n  }\n\n  static i(tag, msg) {\n    if (!Log.ENABLE_INFO) {\n      return;\n    }\n\n    if (!tag || Log.FORCE_GLOBAL_TAG)\n      tag = Log.GLOBAL_TAG;\n\n    let str = `[${tag}] > ${msg}`;\n\n    if (console.info) {\n      console.info(str);\n    } else {\n      console.log(str);\n    }\n  }\n\n  static w(tag, msg) {\n    if (!Log.ENABLE_WARN) {\n      return;\n    }\n\n    if (!tag || Log.FORCE_GLOBAL_TAG)\n      tag = Log.GLOBAL_TAG;\n\n    let str = `[${tag}] > ${msg}`;\n\n    if (console.warn) {\n      console.warn(str);\n    } else {\n      console.log(str);\n    }\n  }\n\n  static d(tag, msg) {\n    if (!Log.ENABLE_DEBUG) {\n      return;\n    }\n\n    if (!tag || Log.FORCE_GLOBAL_TAG)\n      tag = Log.GLOBAL_TAG;\n\n    let str = `[${tag}] > ${msg}`;\n\n    if (console.debug) {\n      console.debug(str);\n    } else {\n      console.log(str);\n    }\n  }\n\n  static v(tag, msg) {\n    if (!Log.ENABLE_VERBOSE) {\n      return;\n    }\n\n    if (!tag || Log.FORCE_GLOBAL_TAG)\n      tag = Log.GLOBAL_TAG;\n    console.log(`[${tag}] > ${msg}`);\n  }\n\n}\n\nLog.GLOBAL_TAG = 'VPlyr';\nLog.FORCE_GLOBAL_TAG = false;\nLog.ENABLE_ERROR = true;\nLog.ENABLE_INFO = true;\nLog.ENABLE_WARN = true;\nLog.ENABLE_DEBUG = true;\nLog.ENABLE_VERBOSE = true;\n\nexport default Log;","class Utils {\n  \n  static storageSupport(){\n    if (!('localStorage' in window)) {\n      return false;\n    }\n\n    // Try to use it (it might be disabled, e.g. user is in private/porn mode)\n    // see: https://github.com/Selz/plyr/issues/131\n    try {\n      // Add test item\n      window.localStorage.setItem('___test', 'OK');\n\n      // Get the test item\n      let result = window.localStorage.getItem('___test');\n\n      // Clean up\n      window.localStorage.removeItem('___test');\n\n      // Check if value matches\n      return (result === 'OK');\n    }\n    catch (e) {\n      return false;\n    }\n\n    return false;\n  }\n  static replaceAll(string, find, replace) {\n    return string.replace(new RegExp(find.replace(/([.*+?\\^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'), 'g'), replace);\n  }\n  static extend() {\n    // Get arguments\n    let objects = arguments;\n\n    // Bail if nothing to merge\n    if (!objects.length) {\n      return;\n    }\n\n    // Return first if specified but nothing to merge\n    if (objects.length === 1) {\n      return objects[0];\n    }\n\n    // First object is the destination\n    let destination = Array.prototype.shift.call(objects),\n      length = objects.length;\n\n    // Loop through all objects to merge\n    for (let i = 0; i < length; i++) {\n      let source = objects[i];\n\n      for (let property in source) {\n        if (source[property] &&\n          source[property].constructor &&\n          source[property].constructor === Object\n        ) {\n          destination[property] = destination[property] || {};\n          Utils.extend(destination[property], source[property]);\n        } else {\n          destination[property] = source[property];\n        }\n      }\n    }\n\n    return destination;\n  }\n  static is(){\n    return {\n      object: function(input) {\n        return input !== null && typeof(input) === 'object';\n      },\n      array: function(input) {\n        return input !== null && (typeof(input) === 'object' && input.constructor === Array);\n      },\n      number: function(input) {\n        return input !== null && (typeof(input) === 'number' && !isNaN(input - 0) || (typeof input === 'object' && input.constructor === Number));\n      },\n      string: function(input) {\n        return input !== null && (typeof input === 'string' || (typeof input === 'object' && input.constructor === String));\n      },\n      boolean: function(input) {\n        return input !== null && typeof input === 'boolean';\n      },\n      nodeList: function(input) {\n        return input !== null && input instanceof NodeList;\n      },\n      htmlElement: function(input) {\n        return input !== null && input instanceof HTMLElement;\n      },\n      function: function(input) {\n        return input !== null && typeof input === 'function';\n      },\n      undefined: function(input) {\n        return input !== null && typeof input === 'undefined';\n      }\n    }\n  }\n  static browerSniff(){\n    let ua = navigator.userAgent,\n      name = navigator.appName,\n      fullVersion = '' + parseFloat(navigator.appVersion),\n      majorVersion = parseInt(navigator.appVersion, 10),\n      nameOffset,\n      verOffset,\n      ix,\n      isIE = false,\n      isFirefox = false,\n      isChrome = false,\n      isWechat = false,\n      isSafari = false;\n\n    if ((navigator.appVersion.indexOf('Windows NT') !== -1) && (navigator.appVersion.indexOf('rv:11') !== -1)) {\n      // MSIE 11\n      isIE = true;\n      name = 'IE';\n      fullVersion = '11';\n    } else if ((verOffset = ua.indexOf('MSIE')) !== -1) {\n      // MSIE\n      isIE = true;\n      name = 'IE';\n      fullVersion = ua.substring(verOffset + 5);\n    }else if ((verOffset = ua.indexOf('micromessenger')) !== -1) {\n      // WeChat\n      isWechat = true;\n      name = 'WeChat';\n      fullVersion = ua.substring(verOffset + 15);\n    }else if ((verOffset = ua.indexOf('Chrome')) !== -1) {\n      // Chrome\n      isChrome = true;\n      name = 'Chrome';\n      fullVersion = ua.substring(verOffset + 7);\n    } else if ((verOffset = ua.indexOf('Safari')) !== -1) {\n      // Safari\n      isSafari = true;\n      name = 'Safari';\n      fullVersion = ua.substring(verOffset + 7);\n      if ((verOffset = ua.indexOf('Version')) !== -1) {\n          fullVersion = ua.substring(verOffset + 8);\n      }\n    } else if ((verOffset = ua.indexOf('Firefox')) !== -1) {\n      // Firefox\n      isFirefox = true;\n      name = 'Firefox';\n      fullVersion = ua.substring(verOffset + 8);\n    } else if ((nameOffset = ua.lastIndexOf(' ') + 1) < (verOffset = ua.lastIndexOf('/'))) {\n      // In most other browsers, 'name/version' is at the end of userAgent\n      name = ua.substring(nameOffset,verOffset);\n      fullVersion = ua.substring(verOffset + 1);\n\n      if (name.toLowerCase() === name.toUpperCase()) {\n          name = navigator.appName;\n      }\n    }\n\n    // Trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n\n    // Get major version\n    majorVersion = parseInt('' + fullVersion, 10);\n    if (isNaN(majorVersion)) {\n      fullVersion = '' + parseFloat(navigator.appVersion);\n      majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    // Return data\n    return {\n      name:       name,\n      version:    majorVersion,\n      isIE:       isIE,\n      isFirefox:  isFirefox,\n      isChrome:   isChrome,\n      isSafari:   isSafari,\n      isWechat:   isWechat,\n      isIos:      /(iPad|iPhone|iPod)/g.test(navigator.platform),\n      isIphone:   /(iPhone|iPod)/g.test(navigator.userAgent),\n      isTouch:    'ontouchstart' in document.documentElement\n    };\n  }\n  static inArray(haystack, needle) {\n    return Array.prototype.indexOf && (haystack.indexOf(needle) !== -1);\n  }\n  static support(type){\n    const browser     = Utils.browserSniff(),\n        isOldIE     = (browser.isIE && browser.version <= 9),\n        isIos       = browser.isIos,\n        isIphone    = browser.isIphone,\n        audioSupport = !!document.createElement('audio').canPlayType,\n        videoSupport = !!document.createElement('video').canPlayType;\n    let basic       = false,\n        full        = false;\n\n    switch (type) {\n        case 'video':\n            basic = videoSupport;\n            full  = (basic && (!isOldIE));\n            break;\n\n        case 'audio':\n            basic = audioSupport;\n            full  = (basic && !isOldIE);\n            break;\n\n        default:\n            basic = (audioSupport && videoSupport);\n            full  = (basic && !isOldIE);\n    }\n\n    return {\n        basic:  basic,\n        full:   full\n    };\n  }\n  static supported(type){\n    const browser     = Utils.browerSniff(),\n        isOldIE     = (browser.isIE && browser.version <= 9),\n        isIos       = browser.isIos,\n        isIphone    = browser.isIphone,\n        audioSupport = !!document.createElement('audio').canPlayType,\n        videoSupport = !!document.createElement('video').canPlayType;\n    let basic       = false,\n        full        = false;\n\n    switch (type) {\n        case 'video':\n            basic = videoSupport;\n            full  = (basic && (!isOldIE));\n            break;\n\n        case 'audio':\n            basic = audioSupport;\n            full  = (basic && !isOldIE);\n            break;\n\n        default:\n            basic = (audioSupport && videoSupport);\n            full  = (basic && !isOldIE);\n    }\n\n    return {\n        basic:  basic,\n        full:   full\n    };\n  }\n}\nexport default Utils;\nexport const is = Utils.is();\nexport const storageSupport = Utils.storageSupport();\n","import Player from './player/index';\nfunction install() {\n  if (typeof window.CustomEvent === 'function') {\n    return;\n  }\n\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent;\n\n}\ninstall();\nlet vPlayer = Player;\n\nObject.defineProperty(vPlayer, 'version', {\n  enumerable: true,\n  get: function () {\n    // replaced by browserify-versionify transform\n    return '__VERSION__';\n  }\n});\nexport default vPlayer;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2luZGV4LmpzIiwic3JjL2pzL3BsYXllci9jb250cm9scy5qcyIsInNyYy9qcy9wbGF5ZXIvaW5kZXguanMiLCJzcmMvanMvcGxheWVyL3BsYXllci5qcyIsInNyYy9qcy9wbGF5ZXIvc3RvcmFnZS5qcyIsInNyYy9qcy91dGlscy9kb20uanMiLCJzcmMvanMvdXRpbHMvZXZlbnRzLmpzIiwic3JjL2pzL3V0aWxzL2xvZ2dlci5qcyIsInNyYy9qcy91dGlscy91dGlsLmpzIiwic3JjL2pzL3ZQbGF5ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztRQzZGZ0IsbUIsR0FBQSxtQjs7OztBQTdGVCxJQUFNLHdDQUFnQjtBQUN6QixhQUFTLElBRGdCO0FBRXpCLFdBQU8sSUFGa0I7QUFHekIsY0FBVSxLQUhlO0FBSXpCLFVBQU0sS0FKbUI7QUFLekIsY0FBVSxFQUxlO0FBTXpCLFlBQVEsRUFOaUI7QUFPekIsZUFBVyxDQVBjO0FBUXpCLGVBQVcsRUFSYztBQVN6QixnQkFBWSxDQVRhO0FBVXpCLGNBQVUsSUFWZTtBQVd6QixxQkFBaUIsSUFYUTtBQVl6QixnQkFBWSxJQVphO0FBYXpCLGtCQUFjLElBYlc7QUFjekIsY0FBVSxxQ0FkZTtBQWV6QixjQUFVLENBQUMsWUFBRCxFQUFlLE1BQWYsRUFBdUIsVUFBdkIsRUFBbUMsTUFBbkMsRUFBMkMsTUFBM0MsRUFBbUQsUUFBbkQsRUFBNkQsVUFBN0QsRUFBeUUsWUFBekUsQ0FmZTtBQWdCekI7QUFDSSxlQUFPLGNBRFg7QUFFSSxrQkFBVSw0Q0FGZDtBQUdJLG1CQUFXLFFBSGY7QUFJSSxrQkFBVTtBQUNOLHVCQUFXLElBREw7QUFFTixxQkFBUztBQUZILFNBSmQ7QUFRSSxpQkFBUztBQUNMLGtCQUFNLHFCQUREO0FBRUwsa0JBQU0scUJBRkQ7QUFHTCxtQkFBTyxz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O0FBQ1IsSUFBTSxrQkFBSyxNQUFNLEVBQU4sRUFBWDtBQUNBLElBQU0sMENBQWlCLE1BQU0sY0FBTixFQUF2Qjs7Ozs7Ozs7O0FDN1BQOzs7Ozs7QUFDQSxTQUFTLE9BQVQsR0FBbUI7QUFDakIsTUFBSSxPQUFPLE9BQU8sV0FBZCxLQUE4QixVQUFsQyxFQUE4QztBQUM1QztBQUNEOztBQUVELFdBQVMsV0FBVCxDQUFxQixLQUFyQixFQUE0QixNQUE1QixFQUFvQztBQUNsQyxhQUFTLFVBQVUsRUFBRSxTQUFTLEtBQVgsRUFBa0IsWUFBWSxLQUE5QixFQUFxQyxRQUFRLFNBQTdDLEVBQW5CO0FBQ0EsUUFBSSxNQUFNLFNBQVMsV0FBVCxDQUFxQixhQUFyQixDQUFWO0FBQ0EsUUFBSSxlQUFKLENBQW9CLEtBQXBCLEVBQTJCLE9BQU8sT0FBbEMsRUFBMkMsT0FBTyxVQUFsRCxFQUE4RCxPQUFPLE1BQXJFO0FBQ0EsV0FBTyxHQUFQO0FBQ0Q7O0FBRUQsY0FBWSxTQUFaLEdBQXdCLE9BQU8sS0FBUCxDQUFhLFNBQXJDO0FBQ0EsU0FBTyxXQUFQLEdBQXFCLFdBQXJCO0FBRUQ7QUFDRDtBQUNBLElBQUkseUJBQUo7O0FBRUEsT0FBTyxjQUFQLENBQXNCLE9BQXRCLEVBQStCLFNBQS9CLEVBQTBDO0FBQ3hDLGNBQVksSUFENEI7QUFFeEMsT0FBSyxlQUFZO0FBQ2Y7QUFDQSxXQUFPLGFBQVA7QUFDRDtBQUx1QyxDQUExQztrQkFPZSxPIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgZGVidWc6IHRydWUsXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgIGxvb3A6IGZhbHNlLFxuICAgIHNlZWtUaW1lOiAxMCxcbiAgICB2b2x1bWU6IDEwLFxuICAgIHZvbHVtZU1pbjogMCxcbiAgICB2b2x1bWVNYXg6IDEwLFxuICAgIHZvbHVtZVN0ZXA6IDEsXG4gICAgZHVyYXRpb246IG51bGwsXG4gICAgZGlzcGxheUR1cmF0aW9uOiB0cnVlLFxuICAgIGxvYWRTcHJpdGU6IHRydWUsXG4gICAgaGlkZUNvbnRyb2xzOiB0cnVlLFxuICAgIGJsYW5rVXJsOiAnaHR0cHM6Ly9jZG4uc2Vsei5jb20vcGx5ci9ibGFuay5tcDQnLFxuICAgIGNvbnRyb2xzOiBbJ3BsYXktbGFyZ2UnLCAncGxheScsICdwcm9ncmVzcycsICd0aW1lJywgJ211dGUnLCAndm9sdW1lJywgJ2NhcHRpb25zJywgJ2Z1bGxzY3JlZW4nXSxcbiAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgaHRtbDU6ICd2aWRlbywgYXVkaW8nLFxuICAgICAgICBlZGl0YWJsZTogJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBbY29udGVudGVkaXRhYmxlXScsXG4gICAgICAgIGNvbnRhaW5lcjogJy52cGx5cicsXG4gICAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICAgICAgICB3cmFwcGVyOiAnLnZwbHlyLWNvbnRyb2xzJ1xuICAgICAgICB9LFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICBzZWVrOiAnW2RhdGEtdmlkZW89XCJzZWVrXCJdJyxcbiAgICAgICAgICAgIHBsYXk6ICdbZGF0YS12aWRlbz1cInBsYXlcIl0nLFxuICAgICAgICAgICAgcGF1c2U6ICdbZGF0YS12aWRlbz1cInBhdXNlXCJdJyxcbiAgICAgICAgICAgIG11dGU6ICdbZGF0YS12aWRlbz1cIm11dGVcIl0nLFxuICAgICAgICAgICAgZnVsbHNjcmVlbjogJ1tkYXRhLXZpZGVvPVwiZnVsbHNjcmVlblwiXSdcbiAgICAgICAgfSxcbiAgICAgICAgdm9sdW1lOiB7XG4gICAgICAgICAgICBpbnB1dDogJ1tkYXRhLXZpZGVvPVwidm9sdW1lXCJdJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICcudnBseXItdm9sdW1lLWRpc3BsYXknXG4gICAgICAgIH0sXG4gICAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgICAgICBjb250YWluZXI6ICcudnBseXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lcicsXG4gICAgICAgICAgICBidWZmZXI6ICcudnBseXItcHJvZ3Jlc3MtYnVmZmVyJyxcbiAgICAgICAgICAgIHBsYXllZDogJy52cGx5ci1wcm9ncmVzcy1wbGF5ZWQnXG4gICAgICAgIH0sXG4gICAgICAgIHZvbHVtZToge1xuICAgICAgICAgICAgaW5wdXQ6ICdbZGF0YS12aWRlbz1cInZvbHVtZVwiXScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnLnZwbHlyLXZvbHVtZS1kaXNwbGF5J1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50VGltZTogJy5jb250cm9sLWN1cnJlbnR0aW1lJyxcbiAgICAgICAgZHVyYXRpb246ICcuY29udHJvbC1kdXJhdGlvbidcbiAgICB9LFxuXG4gICAgLy8gQ3VzdG9tIGNvbnRyb2wgbGlzdGVuZXJzXG4gICAgbGlzdGVuZXJzOiB7XG4gICAgICAgIHNlZWs6IG51bGwsXG4gICAgICAgIHBsYXk6IG51bGwsXG4gICAgICAgIHBhdXNlOiBudWxsLFxuICAgICAgICByZXN0YXJ0OiBudWxsLFxuICAgICAgICByZXdpbmQ6IG51bGwsXG4gICAgICAgIGZvcndhcmQ6IG51bGwsXG4gICAgICAgIG11dGU6IG51bGwsXG4gICAgICAgIHZvbHVtZTogbnVsbCxcbiAgICAgICAgY2FwdGlvbnM6IG51bGwsXG4gICAgICAgIGZ1bGxzY3JlZW46IG51bGxcbiAgICB9LFxuICAgIHN0b3JhZ2U6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAga2V5OiAndnBseXInXG4gICAgfSxcbiAgICB0eXBlczoge1xuICAgICAgICBodG1sNTogWyd2aWRlbyddXG4gICAgfSxcbiAgICBjbGFzc2VzOiB7XG4gICAgICAgIHNldHVwOiAndnBseXItc2V0dXAnLFxuICAgICAgICByZWFkeTogJ3ZwbHlyLXJlYWR5JyxcbiAgICAgICAgbXV0ZWQ6ICd2cGx5ci1tdXRlZCcsXG4gICAgICAgIHR5cGU6ICd2cGx5ci17MH0nLFxuICAgICAgICB2aWRlb1dyYXBwZXI6ICd2cGx5ci12aWRlby1jb250YWluZXInLFxuICAgICAgICBwbGF5aW5nOiAndnBseXItcGx5aW5nJyxcbiAgICAgICAgbG9hZGluZzogJ3ZwbHlyLWxvYWRpbmcnLFxuICAgICAgICBob3ZlcjogJ3ZwbHlyLWhvdmVyJyxcbiAgICAgICAgc3RvcHBlZDogJ3ZwbHlyLXN0b3BwZWQnLFxuICAgICAgICBpbklvczogJ3ZwbHlyLS1pcy1pb3MnLFxuICAgICAgICBpblRvdWNoOiAndnBseXItLWlzLXRvdWNoJyxcbiAgICAgICAgaW5XZWNoYXQ6ICd2cGx5ci0taXMtd2VjaGF0JyxcbiAgICAgICAgaW5DaHJvbWU6ICd2cGx5ci0taXMtY2hyb21lJyxcbiAgICAgICAgdGFiRm9jdXM6ICd0YWItZm9jdXMnLFxuICAgICAgICBoaWRlQ29udHJvbHM6ICd2cGx5ci1oaWRlLWNvbnRyb2xzJyxcbiAgICAgICAgZnVsbHNjcmVlbjoge1xuICAgICAgICAgICAgZW5hYmxlZDogJ3ZwbHlyLWZ1bGxzY3JlZW4tZW5hYmxlZCcsXG4gICAgICAgICAgICBhY3RpdmU6ICd2cGx5ci1mdWxsc2NyZWVuLWFjdGl2ZSdcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGV2ZW50czogWydyZWFkeScsICdlbmRlZCcsICdwcm9ncmVzcycsICdzdGFsbGVkJywgJ3BsYXlpbmcnLCAnd2FpdGluZycsICdjYW5wbGF5JywgJ2NhbnBsYXl0aHJvdWdoJywgJ2xvYWRzdGFydCcsICdsb2FkZWRkYXRhJywgJ2xvYWRlZG1ldGFkYXRhJywgJ3RpbWV1cGRhdGUnLCAndm9sdW1lY2hhbmdlJywgJ3BsYXknLCAncGF1c2UnLCAnZXJyb3InLCAnc2Vla2luZycsICdzZWVrZWQnLCAnZW1wdGllZCddLFxuICAgIC8vIExvZ2dpbmdcbiAgICBsb2dQcmVmaXg6ICdbVlBseXJdJ1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRDb25maWcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWcpO1xufSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi92UGxheWVyLmpzJykuZGVmYXVsdDtcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlsJztcblxuZXhwb3J0IGNvbnN0IGJ1aWxkQ29udHJvbHMgPSAoY29uZmlnKT0+e1xuICBjb25zdCB7IGNvbnRyb2xzIH0gPSBjb25maWc7XG4gICAgY29uc3QgaHRtbCA9IFsnPGRpdiBjbGFzcz1cInZwbHlyLXZpZGVvLWxvYWRlci1jb250YWluZXJcIj4nLFxuICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci12aWRlby1sb2FkZXJcIj4nLFxuICAgICAgJzxkaXYgY2xhc3M9XCJsb2FkZXItaW5uZXIgb25lXCI+PC9kaXY+JyxcbiAgICAgICc8ZGl2IGNsYXNzPVwibG9hZGVyLWlubmVyIHR3b1wiPjwvZGl2PicsXG4gICAgICAnPGRpdiBjbGFzcz1cImxvYWRlci1pbm5lciB0aHJlZVwiPjwvZGl2PicsXG4gICAgICAnPC9kaXY+JyxcbiAgICAgICc8L2Rpdj48ZGl2IGNsYXNzPVwidnBseXItZ3JhZGllbnQtYm90dG9tXCI+PC9kaXY+J107XG4gICAgaHRtbC5wdXNoKCc8ZGl2IGNsYXNzPVwidnBseXItYm90dG9tLWNvbnRhaW5lclwiPicpXG4gICAgaWYgKHV0aWxzLmluQXJyYXkoY29udHJvbHMsICdwcm9ncmVzcycpKSB7XG4gICAgICBodG1sLnB1c2goXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidnBseXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lclwiPicsXG4gICAgICAgICc8aW5wdXQgaWQ9XCJzZWVre2lkfVwiIHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjBcIiBzdGVwPVwiMC4xXCIgY2xhc3M9XCJ2cGx5ci1wcm9ncmVzcy1iYXJcIiBkYXRhLXZpZGVvPVwic2Vla1wiLz4nLFxuICAgICAgICAnPHByb2dyZXNzIGNsYXNzPVwidnBseXItcHJvZ3Jlc3MtcGxheWVkXCIgbWF4PVwiMTAwXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPjwvcHJvZ3Jlc3M+JyxcbiAgICAgICAgJzxwcm9ncmVzcyBjbGFzcz1cInZwbHlyLXByb2dyZXNzLWJ1ZmZlclwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMTAwXCI+JyxcbiAgICAgICAgJzxzcGFuPjEwMC4wMDwvc3Bhbj4lIGJ1ZmZlcmVkJyxcbiAgICAgICAgJzwvcHJvZ3Jlc3M+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZwbHlyLWNvbnRyb2xzXCI+JylcbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJsZWZ0LWNvbnRyb2xzXCI+JylcbiAgICBpZiAodXRpbHMuaW5BcnJheShjb250cm9scywgJ3BsYXknKSkge1xuICAgICAgaHRtbC5wdXNoKFxuICAgICAgICAnPGRpdiBjbGFzcz1cImJ0bi1jb250cm9sc1wiPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiYnRuLXdyYXBcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInBsYXlcIiBkYXRhLXZpZGVvPVwicGxheVwiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicGF1c2VcIiBkYXRhLXZpZGVvPVwicGF1c2VcIj48L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pbkFycmF5KGNvbnRyb2xzLCAndGltZScpKSB7XG4gICAgICBodG1sLnB1c2goXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidGltZS1tb2QtY29udHJvbHNcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRyb2wtY3VycmVudHRpbWVcIj4wMDowMDwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udHJvbC1zZXBhcmF0b3JcIj4vPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250cm9sLWR1cmF0aW9uXCI+MDA6MDA8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgICAgKTtcbiAgICB9XG4gICAgaHRtbC5wdXNoKCc8L2Rpdj4nKS8vY2xvc2UgdnBseXIgbGVmdCBjb250cm9sc1xuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInJpZ2h0LWNvbnRyb2xzXCI+JylcbiAgICBpZiAodXRpbHMuaW5BcnJheShjb250cm9scywgJ2Z1bGxzY3JlZW4nKSkge1xuICAgICAgaHRtbC5wdXNoKFxuICAgICAgICAnPGRpdiBjbGFzcz1cImZ1bGxzY3JlZW4tY29udHJvbHNcIiBkYXRhLXZpZGVvPVwiZnVsbHNjcmVlblwiPicsXG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvbi1leGl0LWZ1bGxzY3JlZW5cIj4nLFxuICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLWV4aXQtZnVsbHNjcmVlblwiPjwvdXNlPicsXG4gICAgICAgICc8L3N2Zz4nLFxuICAgICAgICAnPHN2ZyBjbGFzcz1cImljb24tZW50ZXItZnVsbHNjcmVlblwiPicsXG4gICAgICAgICcgPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLWVudGVyLWZ1bGxzY3JlZW5cIj48L3VzZT4nLFxuICAgICAgICAnPC9zdmc+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZvbHVtZS1jb250cm9sc1wiPicpXG4gICAgaWYgKHV0aWxzLmluQXJyYXkoY29udHJvbHMsICdtdXRlJykpIHtcbiAgICAgIGh0bWwucHVzaChcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci12b2x1bWVcIiBkYXRhLXZpZGVvPVwibXV0ZVwiPicsXG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvbi1tdXRlZFwiPicsXG4gICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItbXV0ZWRcIj48L3VzZT4nLFxuICAgICAgICAnPC9zdmc+JyxcbiAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uLXZvbHVtZVwiPicsXG4gICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItdm9sdW1lXCI+PC91c2U+JyxcbiAgICAgICAgJzwvc3ZnPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaW5BcnJheShjb250cm9scywgJ3ZvbHVtZScpKSB7XG4gICAgICBodG1sLnB1c2goXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidnBseXItdm9sdW1lLXByb2dyZXNzXCI+JyxcbiAgICAgICAgJzxpbnB1dCB0eXBlPVwicmFuZ2VcIiBpZD1cInZvbHVtZXtpZH1cIiAgY2xhc3M9XCJ2cGx5ci12b2x1bWUtaW5wdXRcIiAgbWluPVwiMFwiICBtYXg9XCIxMFwiIGRhdGEtdmlkZW89XCJ2b2x1bWVcIiB2YWx1ZT1cIjhcIj4nLFxuICAgICAgICAnPHByb2dyZXNzIGNsYXNzPVwidnBseXItdm9sdW1lLWRpc3BsYXlcIiBtYXg9XCIxMFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3Byb2dyZXNzPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgICApO1xuICAgIH1cbiAgICBodG1sLnB1c2goJzwvZGl2PicpLy9jbG9zZSB2cGx5ciB2b2x1bWUgY29udHJvbHNcblxuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlIHZwbHlyIHJpZ2h0IGNvbnRyb2xzXG5cbiAgICBodG1sLnB1c2goJzwvZGl2PicpLy9jbG9zZSB2cGx5ciBjb250cm9sc1xuICAgIGh0bWwucHVzaCgnPC9kaXY+JykvL2Nsb3NlXG4gICAgcmV0dXJuIGh0bWwuam9pbignJyk7XG59IiwiaW1wb3J0IHV0aWxzLCB7IGlzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbCc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyJztcbmltcG9ydCB7IGRlZmF1bHRDb25maWcgYXMgZGVmYXVsdHMgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jbGFzcyBWUGxheWVyIHtcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgdGhpcy5UQUcgPSAnVmlkZW9QbGF5ZXInO1xuICAgIHRoaXMuX2ludGFmYWNlID0gbnVsbDtcbiAgICB0aGlzLm1lZGlhID0gdGFyZ2V0O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgcGF1c2UoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICBpbnRhZmFjZS5wYXVzZSgpO1xuICB9XG4gIHBsYXkoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICBpbnRhZmFjZS5wbGF5KCk7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBjb25zdCBpbnRhZmFjZSA9IHRoaXMuX2ludGFmYWNlO1xuICAgIGludGFmYWNlLnBhdXNlKCk7XG4gICAgaW50YWZhY2Uuc2VlaygpO1xuICB9XG4gIHRvZ2dsZVBsYXkoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICBpbnRhZmFjZS50b2dnbGVQbGF5KCk7XG4gIH1cbiAgdG9nZ2xlQ29udHJvbHMoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICBpbnRhZmFjZS50b2dnbGVDb250cm9scygpO1xuICB9XG4gIGdldCBsb2FkaW5nU3RhdGUoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICByZXR1cm4gaW50YWZhY2UuaXNMb2FkaW5nKCk7XG4gIH1cbiAgZ2V0IHJlYWR5U3RhdGUoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICByZXR1cm4gaW50YWZhY2UuaXNSZWFkeSgpO1xuICB9XG4gIGdldCBjb250YWluZXIoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICByZXR1cm4gaW50YWZhY2UuZ2V0Q29udGFpbmVyKCk7XG4gIH1cbiAgZ2V0IHR5cGUoKSB7XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICByZXR1cm4gaW50YWZhY2UuZ2V0VHlwZTtcbiAgfVxuICBnZXQgdm9sdW1lKCkge1xuICAgIGNvbnN0IGludGFmYWNlID0gdGhpcy5faW50YWZhY2U7XG4gICAgcmV0dXJuIGludGFmYWNlLmdldFZvbHVtZSgpO1xuICB9XG4gIGdldCBkdXJhdGlvbigpIHtcbiAgICBjb25zdCBpbnRhZmFjZSA9IHRoaXMuX2ludGFmYWNlO1xuICAgIHJldHVybiBpbnRhZmFjZS5nZXREdXJhdGlvbigpO1xuICB9XG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICBjb25zdCBpbnRhZmFjZSA9IHRoaXMuX2ludGFmYWNlO1xuICAgIHJldHVybiBpbnRhZmFjZS5nZXRDdXJyZW50VGltZSgpO1xuICB9XG4gIGdldCBmdWxsc2NyZWVuKCkge1xuICAgIGNvbnN0IGludGFmYWNlID0gdGhpcy5faW50YWZhY2U7XG4gICAgcmV0dXJuIGludGFmYWNlLmlzRnVsbHNjcmVlbigpIHx8IGZhbHNlO1xuICB9XG4gIGdldCBtdXRlZCgpIHtcbiAgICBjb25zdCBpbnRhZmFjZSA9IHRoaXMuX2ludGFmYWNlO1xuICAgIHJldHVybiBpbnRhZmFjZS5pc011dGVkKCk7XG4gIH1cbiAgZ2V0IHBhdXNlZCgpIHtcbiAgICBjb25zdCBpbnRhZmFjZSA9IHRoaXMuX2ludGFmYWNlO1xuICAgIHJldHVybiBpbnRhZmFjZS5pc1BhdXNlZDtcbiAgfVxuICBzZXQgZnVsbHNjcmVlbihmdWxsc2NyZWVuKSB7XG4gICAgaWYgKCFpcy5ib29sZWFuKGZ1bGxzY3JlZW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICBpZiAoKCFpbnRhZmFjZS5pc0Z1bGxzY3JlZW4oKSAmJiBmdWxsc2NyZWVuKSB8fCAoaW50YWZhY2UuaXNGdWxsc2NyZWVuKCkgJiYgIWZ1bGxzY3JlZW4pKSB7XG4gICAgICBpbnRhZmFjZS50b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgfVxuICB9XG4gIHNldCB2b2x1bWUodmFsdWUpIHtcbiAgICBjb25zdCBpbnRhZmFjZSA9IHRoaXMuX2ludGFmYWNlO1xuICAgIHJldHVybiBpbnRhZmFjZS5zZXRWb2x1bWUodmFsdWUpO1xuICB9XG4gIHNldCBjdXJyZW50VGltZSh2YWx1ZSkge1xuICAgIGludGFmYWNlLnNlZWsodmFsdWUpO1xuICB9XG4gIHNldCBtdXRlZChtdXRlZCkge1xuICAgIGlmICghaXMuYm9vbGVhbihtdXRlZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW50YWZhY2UgPSB0aGlzLl9pbnRhZmFjZTtcbiAgICBpZiAoKCFpbnRhZmFjZS5pc011dGVkKCkgJiYgbXV0ZWQpIHx8IChpbnRhZmFjZS5pc011dGVkKCkgJiYgIW11dGVkKSkge1xuICAgICAgaW50YWZhY2UudG9nZ2xlTXV0ZShtdXRlZCk7XG4gICAgfVxuICAgIFxuICB9XG4gIHNldHVwKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLm1lZGlhO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgbGV0IGRhdGEgPSB7fTtcblxuICAgIHRyeSB7IGRhdGEgPSBKU09OLnBhcnNlKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZwbHlyJykpOyB9XG4gICAgY2F0Y2ggKGUpIHsgfVxuICAgIGNvbnN0IGNvbmZpZyA9IHV0aWxzLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIGRhdGEpO1xuICAgIGlmICghY29uZmlnLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwbGF5ZXIgPSBuZXcgUGxheWVyKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgY29uc3QgaW5zdGFuY2UgPXBsYXllci5zZXR1cCgpO1xuICAgIHRoaXMuX2ludGFmYWNlID0gaW5zdGFuY2U7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFZQbGF5ZXI7IiwiaW1wb3J0ICQgZnJvbSAnLi4vdXRpbHMvZG9tJztcbmltcG9ydCB1dGlscywgeyBpcyB9IGZyb20gJy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL3V0aWxzL2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7O1xuaW1wb3J0IHsgc2V0dXBTdG9yYWdlLCB1cGRhdGVTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlJztcbmltcG9ydCB7IGJ1aWxkQ29udHJvbHMgfSBmcm9tICcuL2NvbnRyb2xzJztcbmltcG9ydCB7IGRlZmF1bHRDb25maWcgYXMgZGVmYXVsdHMgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihtZWRpYSwgY29uZmlnKSB7XG4gICAgY29uc29sZS5sb2cobmV3IHV0aWxzKCkuaXMpO1xuXG4gICAgY29uc3QgYnJvd3NlciA9IHV0aWxzLmJyb3dlclNuaWZmKCk7XG4gICAgdGhpcy5UQUcgPSAnUGxheWVyJztcbiAgICB0aGlzLl9wbGF5ZXIgPSB7XG4gICAgICBtZWRpYSwgYnJvd3NlclxuICAgIH07XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX3RpbWVycyA9IHt9O1xuICAgIHRoaXMuX3N0b3JhZ2UgPSB7fTtcbiAgICB0aGlzLl9tZWRpYSA9IG1lZGlhO1xuICAgIHRoaXMuX2Z1bGxzY3JlZW4gPSAkLmZ1bGxzY3JlZW4oKTtcbiAgICB0aGlzLl9faW5pdF9fID0gZmFsc2U7XG4gICAgdGhpcy5fX29yaWdpbmFsID0gbWVkaWEuY2xvbmVOb2RlKHRydWUpO1xuICB9XG4gIHNldHVwKCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMuX3N0b3JhZ2U7XG5cbiAgICBjb25zdCB7IG1lZGlhIH0gPSBwbGF5ZXI7XG4gICAgbGV0IGFwaSA9IHt9O1xuICAgIGlmICh0aGlzLl9faW5pdF9fKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFpcy5odG1sRWxlbWVudChtZWRpYSkpIHtcbiAgICAgIExvZy53KHRoaXMuVEFHLCAnbWVkaWEgbXVzdCBiZSBhIHZpZGVvJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldHVwU3RvcmFnZShjb25maWcsIHN0b3JhZ2UpO1xuICAgIGNvbnN0IHRhZ05hbWUgPSBtZWRpYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcGxheWVyLnR5cGUgPSB0YWdOYW1lO1xuICAgIGNvbmZpZy5jcm9zc29yaWdpbiA9IChtZWRpYS5nZXRBdHRyaWJ1dGUoJ2Nyb3Nzb3JpZ2luJykgIT09IG51bGwpO1xuICAgIGNvbmZpZy5hdXRvcGxheSA9IChjb25maWcuYXV0b3BsYXkgfHwgKG1lZGlhLmdldEF0dHJpYnV0ZSgnYXV0b3BsYXknKSAhPT0gbnVsbCkpO1xuICAgIGNvbmZpZy5sb29wID0gKGNvbmZpZy5sb29wIHx8IChtZWRpYS5nZXRBdHRyaWJ1dGUoJ2xvb3AnKSAhPT0gbnVsbCkpO1xuICAgIHBsYXllci5zdXBwb3J0ZWQgPSB1dGlscy5zdXBwb3J0ZWQocGxheWVyLnR5cGUpO1xuICAgIGlmICghcGxheWVyLnN1cHBvcnRlZC5iYXNpYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwbGF5ZXIuY29udGFpbmVyID0gJC53cmFwKG1lZGlhLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgcGxheWVyLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgdGhpcy5fdG9nZ2xlU3R5bGVIb29rKCk7XG5cbiAgICBMb2cuaSh0aGlzLlRBRywgJycgKyBwbGF5ZXIuYnJvd3Nlci5uYW1lICsgJyAnICsgcGxheWVyLmJyb3dzZXIudmVyc2lvbik7XG4gICAgdGhpcy5fc2V0dXBNZWRpYSgpO1xuICAgIGlmICh1dGlscy5pbkFycmF5KGNvbmZpZy50eXBlcy5odG1sNSwgcGxheWVyLnR5cGUpKSB7XG4gICAgICAvLyBTZXR1cCBVSVxuICAgICAgdGhpcy5fc2V0dXBJbnRlcmZhY2UoKTtcblxuICAgICAgdGhpcy5fcmVhZHkoKTtcbiAgICB9XG4gICAgdGhpcy5fX2luaXRfXyA9IHRydWU7XG4gICAgYXBpID0ge1xuICAgICAgZ2V0VHlwZTogcGxheWVyLnR5cGUsXG4gICAgICBnZXREdXJhdGlvbjogdGhpcy5fZ2V0RHVyYXRpb24uYmluZCh0aGlzKSxcbiAgICAgIHBsYXk6IHRoaXMuX3BsYXkuYmluZCh0aGlzKSxcbiAgICAgIHBhdXNlOiB0aGlzLl9wYXVzZS5iaW5kKHRoaXMpLFxuICAgICAgc3RvcDogKCkgPT4geyB0aGlzLl9wYXVzZSgpLmJpbmQodGhpcyk7IHRoaXMuX3NlZWsoKS5iaW5kKHRoaXMpOyB9LFxuICAgICAgc2VlazogdGhpcy5fc2Vlay5iaW5kKHRoaXMpLFxuICAgICAgc2V0Vm9sdW1lOiB0aGlzLl9zZXRWb2x1bWUuYmluZCh0aGlzKSxcbiAgICAgIHRvZ2dsZVBsYXk6IHRoaXMuX3RvZ2dsZVBsYXkuYmluZCh0aGlzKSxcbiAgICAgIHRvZ2dsZU11dGU6IHRoaXMuX3RvZ2dsZU11dGUuYmluZCh0aGlzKSxcbiAgICAgIHRvZ2dsZUZ1bGxzY3JlZW46IHRoaXMuX3RvZ2dsZUZ1bGxzY3JlZW4uYmluZCh0aGlzKSxcbiAgICAgIHRvZ2dsZUNvbnRyb2xzOiB0aGlzLl90b2dnbGVDb250cm9scy5iaW5kKHRoaXMpLFxuICAgICAgaXNGdWxsc2NyZWVuOiBmdW5jdGlvbiAoKSB7IHJldHVybiBwbGF5ZXIuaXNGdWxsc2NyZWVuIHx8IGZhbHNlOyB9LFxuICAgICAgZ2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBwbGF5ZXIuY29udGFpbmVyIH0sXG4gICAgICBnZXRNZWRpYTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGxheWVyLm1lZGlhOyB9LFxuICAgICAgZ2V0Q3VycmVudFRpbWU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBsYXllci5tZWRpYS5jdXJyZW50VGltZTsgfSxcbiAgICAgIGdldFZvbHVtZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGxheWVyLm1lZGlhLnZvbHVtZTsgfSxcbiAgICAgIGlzTXV0ZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBsYXllci5tZWRpYS5tdXRlZDsgfSxcbiAgICAgIGlzUmVhZHk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICQuaGFzQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLmNsYXNzZXMucmVhZHkpOyB9LFxuICAgICAgaXNMb2FkaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkLmhhc0NsYXNzKHBsYXllci5jb250YWluZXIsIGNvbmZpZy5jbGFzc2VzLmxvYWRpbmcpOyB9LFxuICAgICAgaXNQYXVzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBsYXllci5tZWRpYS5wYXVzZWQ7IH0sXG4gICAgICBvbjogZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykgeyBFdmVudC5vbkV2ZW50KHBsYXllci5jb250YWluZXIsIGV2ZW50LCBjYWxsYmFjayk7IHJldHVybiB0aGlzOyB9LFxuICAgIH1cbiAgICByZXR1cm4gYXBpO1xuICB9XG4gIF9yZWFkeSgpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgIGNvbnN0IHsgbWVkaWEsIGNvbnRhaW5lciB9ID0gcGxheWVyO1xuXG4gICAgLy8gUmVhZHkgZXZlbnQgYXQgZW5kIG9mIGV4ZWN1dGlvbiBzdGFja1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuX3RyaWdnZXJFdmVudChtZWRpYSwgJ3JlYWR5Jyk7XG4gICAgfSwgMCk7XG5cbiAgICAvLyBTZXQgY2xhc3MgaG9vayBvbiBtZWRpYSBlbGVtZW50XG4gICAgJC50b2dnbGVDbGFzcyhtZWRpYSwgZGVmYXVsdHMuY2xhc3Nlcy5zZXR1cCwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgY29udGFpbmVyIGNsYXNzIGZvciByZWFkeVxuICAgICQudG9nZ2xlQ2xhc3MoY29udGFpbmVyLCBjb25maWcuY2xhc3Nlcy5yZWFkeSwgdHJ1ZSk7XG5cbiAgICAvLyBBdXRvcGxheVxuICAgIGlmIChjb25maWcuYXV0b3BsYXkpIHtcbiAgICAgIHRoaXMuX3BsYXkoKTtcbiAgICB9XG4gIH1cbiAgX3NldHVwTWVkaWEoKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5fY29uZmlnO1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3BsYXllcjtcbiAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMuX29yaWdpbmFsO1xuICAgIGNvbnN0IHsgbWVkaWEgfSA9IHBsYXllcjtcblxuICAgIGlmICghbWVkaWEpIHtcbiAgICAgIExvZy53KHRoaXMuVEFHLCAnTm8gbWVkaWEgZWxlbWVudCBmb3VuZCEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBhdXRvcGxheSwgY2xhc3NlcyB9ID0gY29uZmlnO1xuICAgIGNvbnN0IHsgY29udGFpbmVyLCB0eXBlLCBicm93c2VyLCBzdXBwb3J0ZWQgfSA9IHBsYXllcjtcbiAgICBjb25zdCB7IHN0b3BwZWQsIGluSW9zLCBpbkNocm9tZSwgaW5Ub3VjaCwgaW5XZWNoYXQsIHZpZGVvV3JhcHBlciB9ID0gY2xhc3NlcztcbiAgICBjb25zdCB7IGlzSW9zLCBpc0Nocm9tZSwgaXNUb3VjaCwgaXNXZWNoYXQgfSA9IGJyb3dzZXI7XG4gICAgaWYgKHN1cHBvcnRlZC5mdWxsKSB7XG4gICAgICAkLnRvZ2dsZUNsYXNzKGNvbnRhaW5lciwgY2xhc3Nlcy50eXBlLnJlcGxhY2UoJ3swfScsIHR5cGUpLCB0cnVlKTtcbiAgICAgICQudG9nZ2xlQ2xhc3MoY29udGFpbmVyLCBzdG9wcGVkLCBhdXRvcGxheSk7XG4gICAgICAvLyBBZGQgaU9TIGNsYXNzXG4gICAgICAkLnRvZ2dsZUNsYXNzKGNvbnRhaW5lciwgaW5Jb3MsIGlzSW9zKTtcbiAgICAgIC8vIEFkZCBjaHJvbWUgY2xhc3NcbiAgICAgICQudG9nZ2xlQ2xhc3MoY29udGFpbmVyLCBpbkNocm9tZSwgaXNDaHJvbWUpO1xuICAgICAgLy8gQWRkIHRvdWNoIGNsYXNzXG4gICAgICAkLnRvZ2dsZUNsYXNzKGNvbnRhaW5lciwgaW5Ub3VjaCwgaXNUb3VjaCk7XG5cbiAgICAgIC8vIEFkZCB3ZWNoYXQgY2xhc3NcbiAgICAgICQudG9nZ2xlQ2xhc3MoY29udGFpbmVyLCBpbldlY2hhdCwgaXNXZWNoYXQpO1xuICAgICAgaWYgKHBsYXllci50eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdmlkZW9XcmFwcGVyKTtcbiAgICAgICAgJC53cmFwKHBsYXllci5tZWRpYSwgd3JhcHBlcik7XG4gICAgICAgIC8vIENhY2hlIHRoZSBjb250YWluZXJcbiAgICAgICAgcGxheWVyLnZpZGVvQ29udGFpbmVyID0gd3JhcHBlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3NldHVwSW50ZXJmYWNlKCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMuX3N0b3JhZ2U7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gcGxheWVyO1xuICAgIGNvbnN0IF9nZXRFbGVtZW50cyA9IChzZWxlY3RvcikgPT4ge1xuICAgICAgcmV0dXJuIHBsYXllci5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgfVxuICAgIGNvbnN0IF9nZXRFbGVtZW50ID0gKHNlbGVjdG9yKSA9PiB7XG4gICAgICByZXR1cm4gX2dldEVsZW1lbnRzKHNlbGVjdG9yKVswXTtcbiAgICB9XG4gICAgaWYgKCFwbGF5ZXIuc3VwcG9ydGVkLmZ1bGwpIHtcbiAgICAgIExvZy53KHRoaXMuVEFHLCAnQmFzaWMgc3VwcG9ydCBvbmx5JywgcGxheWVyLnR5cGUpO1xuXG4gICAgICAvLyBSZW1vdmUgY29udHJvbHNcbiAgICAgICQucmVtb3ZlRWxlbWVudChfZ2V0RWxlbWVudChjb25maWcuc2VsZWN0b3JzLmNvbnRyb2xzLndyYXBwZXIpKTtcbiAgICAgIC8vIHJlc2V0IG5hdGl2ZSBjb250cm9sc1xuICAgICAgdGhpcy5fdG9nZ2xlTmF0aXZlQ29udHJvbHModHJ1ZSk7XG4gICAgICAvLyBCYWlsXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xzTWlzc2luZyA9ICFfZ2V0RWxlbWVudHMoY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy53cmFwcGVyKS5sZW5ndGg7XG4gICAgaWYgKGNvbnRyb2xzTWlzc2luZykge1xuICAgICAgLy8gSW5qZWN0IGN1c3RvbSBjb250cm9sc1xuICAgICAgdGhpcy5faW5qZWN0Q29udHJvbHMoKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9maW5kRWxlbWVudHMoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29udHJvbHNNaXNzaW5nKSB7XG4gICAgICB0aGlzLl9jb250cm9sTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIHRoaXMuX21lZGlhTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fdG9nZ2xlTmF0aXZlQ29udHJvbHMoZmFsc2UpO1xuICAgIHRoaXMuX3RpbWVVcGRhdGUoKTtcbiAgICAvLyBTZXQgdm9sdW1lXG4gICAgdGhpcy5fc2V0Vm9sdW1lKCk7XG5cbiAgICB0aGlzLl91cGRhdGVWb2x1bWUoKTtcblxuICAgIHRoaXMuX2NoZWNrUGxheWluZygpO1xuICB9XG4gIF9tZWRpYUxpc3RlbmVycygpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gcGxheWVyO1xuICAgIC8vIFRpbWUgY2hhbmdlIG9uIG1lZGlhXG4gICAgRXZlbnQub25FdmVudChtZWRpYSwgJ3RpbWV1cGRhdGUgc2Vla2luZycsIHRoaXMuX3RpbWVVcGRhdGUuYmluZCh0aGlzKSk7XG5cbiAgICBFdmVudC5vbkV2ZW50KG1lZGlhLCAnZHVyYXRpb25jaGFuZ2UgbG9hZGVkbWV0YWRhdGEnLCB0aGlzLl9kaXNwbGF5RHVyYXRpb24uYmluZCh0aGlzKSk7XG5cbiAgICBFdmVudC5vbkV2ZW50KG1lZGlhLCAncGxheSBwYXVzZSBlbmRlZCcsIHRoaXMuX2NoZWNrUGxheWluZy5iaW5kKHRoaXMpKTtcblxuICAgIEV2ZW50Lm9uRXZlbnQobWVkaWEsICdwcm9ncmVzcyBwbGF5aW5nJywgdGhpcy5fdXBkYXRlUHJvZ3Jlc3MuYmluZCh0aGlzKSk7XG5cbiAgICBFdmVudC5vbkV2ZW50KG1lZGlhLCAnd2FpdGluZyBjYW5wbGF5IHNlZWtlZCcsIHRoaXMuX2NoZWNrTG9hZGluZy5iaW5kKHRoaXMpKTtcblxuICAgIEV2ZW50Lm9uRXZlbnQobWVkaWEsICd2b2x1bWVjaGFuZ2UnLCB0aGlzLl91cGRhdGVWb2x1bWUuYmluZCh0aGlzKSk7XG5cbiAgfVxuICBfdXBkYXRlVm9sdW1lKCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMuX3N0b3JhZ2U7XG4gICAgY29uc3QgeyBtZWRpYSwgY29udGFpbmVyLCBidXR0b25zLCBzdXBwb3J0ZWQsIHZvbHVtZSB9ID0gcGxheWVyO1xuICAgIGNvbnN0IHsgbXV0ZWQgfSA9IG1lZGlhO1xuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gY29uZmlnO1xuICAgIC8vIEdldCB0aGUgY3VycmVudCB2b2x1bWVcbiAgICB2YXIgX192b2x1bWUgPSBtdXRlZCA/IDAgOiAobWVkaWEudm9sdW1lICogY29uZmlnLnZvbHVtZU1heCk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIDxpbnB1dCB0eXBlPVwicmFuZ2VcIj4gaWYgcHJlc2VudFxuICAgIGlmIChzdXBwb3J0ZWQuZnVsbCkge1xuICAgICAgaWYgKHZvbHVtZS5pbnB1dCkge1xuICAgICAgICB2b2x1bWUuaW5wdXQudmFsdWUgPSBfX3ZvbHVtZTtcbiAgICAgIH1cbiAgICAgIGlmICh2b2x1bWUuZGlzcGxheSkge1xuICAgICAgICB2b2x1bWUuZGlzcGxheS52YWx1ZSA9IF9fdm9sdW1lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGluIHN0b3JhZ2VcbiAgICB1cGRhdGVTdG9yYWdlKHsgdm9sdW1lOiBfX3ZvbHVtZSB9LCBjb25maWcsIHN0b3JhZ2UpO1xuXG4gICAgLy8gVG9nZ2xlIGNsYXNzIGlmIG11dGVkXG4gICAgJC50b2dnbGVDbGFzcyhjb250YWluZXIsIGNsYXNzZXMubXV0ZWQsIChfX3ZvbHVtZSA9PT0gMCkpO1xuXG4gICAgLy8gVXBkYXRlIGNoZWNrYm94IGZvciBtdXRlIHN0YXRlXG4gICAgaWYgKHN1cHBvcnRlZC5mdWxsICYmIGJ1dHRvbnMubXV0ZSkge1xuICAgICAgdGhpcy5fdG9nZ2xlU3RhdGUoYnV0dG9ucy5tdXRlLCAodm9sdW1lID09PSAwKSk7XG4gICAgfVxuICB9XG4gIF9jaGVja0xvYWRpbmcoZXZlbnQpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgIGNvbnN0IHRpbWVycyA9IHRoaXMuX3RpbWVycztcblxuICAgIGNvbnN0IGxvYWRpbmcgPSAoZXZlbnQudHlwZSA9PT0gJ3dhaXRpbmcnKTtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcGxheWVyO1xuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gY29uZmlnO1xuICAgIC8vIENsZWFyIHRpbWVyXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVycy5sb2FkaW5nKTtcblxuICAgIC8vIFRpbWVyIHRvIHByZXZlbnQgZmxpY2tlciB3aGVuIHNlZWtpbmdcbiAgICB0aW1lcnMubG9hZGluZyA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gVG9nZ2xlIGNvbnRhaW5lciBjbGFzcyBob29rXG4gICAgICAkLnRvZ2dsZUNsYXNzKGNvbnRhaW5lciwgY2xhc3Nlcy5sb2FkaW5nLCBsb2FkaW5nKTtcblxuICAgICAgLy8gU2hvdyBjb250cm9scyBpZiBsb2FkaW5nLCBoaWRlIGlmIGRvbmVcbiAgICAgIHRoaXMuX3RvZ2dsZUNvbnRyb2xzKGxvYWRpbmcpO1xuICAgIH0sIChsb2FkaW5nID8gMjUwIDogMCkpO1xuICB9XG4gIF9jaGVja1BsYXlpbmcoKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5fY29uZmlnO1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3BsYXllcjtcblxuICAgIGNvbnN0IHsgbWVkaWEsIGNvbnRhaW5lciB9ID0gcGxheWVyO1xuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gY29uZmlnO1xuICAgIGNvbnN0IHsgcGF1c2VkIH0gPSBtZWRpYTtcbiAgICAkLnRvZ2dsZUNsYXNzKGNvbnRhaW5lciwgY2xhc3Nlcy5wbGF5aW5nLCAhcGF1c2VkKTtcblxuICAgICQudG9nZ2xlQ2xhc3MoY29udGFpbmVyLCBjbGFzc2VzLnN0b3BwZWQsIHBhdXNlZCk7XG5cbiAgICB0aGlzLl90b2dnbGVDb250cm9scyhwYXVzZWQpO1xuICB9XG4gIF9wbGF5KCkge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3BsYXllcjtcbiAgICBjb25zdCB7IG1lZGlhIH0gPSBwbGF5ZXI7XG4gICAgaWYgKCdwbGF5JyBpbiBtZWRpYSkge1xuICAgICAgbWVkaWEucGxheSgpO1xuICAgIH1cbiAgfVxuICBfcGF1c2UoKSB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgIGNvbnN0IHsgbWVkaWEgfSA9IHBsYXllcjtcbiAgICBpZiAoJ3BhdXNlJyBpbiBtZWRpYSkge1xuICAgICAgbWVkaWEucGF1c2UoKTtcbiAgICB9XG4gIH1cbiAgX3RvZ2dsZVBsYXkodG9nZ2xlKSB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgIGNvbnN0IHsgbWVkaWEgfSA9IHBsYXllcjtcbiAgICAvLyBUcnVlIHRvZ2dsZVxuICAgIGlmICghaXMuYm9vbGVhbih0b2dnbGUpKSB7XG4gICAgICB0b2dnbGUgPSBtZWRpYS5wYXVzZWQ7XG4gICAgfVxuXG4gICAgaWYgKHRvZ2dsZSkge1xuICAgICAgdGhpcy5fcGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wYXVzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdG9nZ2xlO1xuICB9XG4gIF9nZXREdXJhdGlvbigpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgIGNvbnN0IHsgbWVkaWEgfSA9IHBsYXllcjtcblxuICAgIC8vIEl0IHNob3VsZCBiZSBhIG51bWJlciwgYnV0IHBhcnNlIGl0IGp1c3QgaW5jYXNlXG4gICAgdmFyIGR1cmF0aW9uID0gcGFyc2VJbnQoY29uZmlnLmR1cmF0aW9uKSxcblxuICAgICAgLy8gVHJ1ZSBkdXJhdGlvblxuICAgICAgbWVkaWFEdXJhdGlvbiA9IDA7XG5cbiAgICAvLyBPbmx5IGlmIGR1cmF0aW9uIGF2YWlsYWJsZVxuICAgIGlmIChtZWRpYS5kdXJhdGlvbiAhPT0gbnVsbCAmJiAhaXNOYU4obWVkaWEuZHVyYXRpb24pKSB7XG4gICAgICBtZWRpYUR1cmF0aW9uID0gbWVkaWEuZHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gSWYgY3VzdG9tIGR1cmF0aW9uIGlzIGZ1bmt5LCB1c2UgcmVndWxhciBkdXJhdGlvblxuICAgIHJldHVybiAoaXNOYU4oZHVyYXRpb24pID8gbWVkaWFEdXJhdGlvbiA6IGR1cmF0aW9uKTtcbiAgfVxuICBfc2VlayhpbnB1dCkge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3BsYXllcjtcbiAgICBjb25zdCB7IG1lZGlhIH0gPSBwbGF5ZXI7XG4gICAgbGV0IHRhcmdldFRpbWUgPSAwLFxuICAgICAgcGF1c2VkID0gbWVkaWEucGF1c2VkLFxuICAgICAgZHVyYXRpb24gPSB0aGlzLl9nZXREdXJhdGlvbigpO1xuXG4gICAgaWYgKGlzLm51bWJlcihpbnB1dCkpIHtcbiAgICAgIHRhcmdldFRpbWUgPSBpbnB1dDtcbiAgICB9IGVsc2UgaWYgKGlzLm9iamVjdChpbnB1dCkgJiYgdXRpbHMuaW5BcnJheShbJ2lucHV0JywgJ2NoYW5nZSddLCBpbnB1dC50eXBlKSkge1xuICAgICAgLy8gSXQncyB0aGUgc2VlayBzbGlkZXJcbiAgICAgIC8vIFNlZWsgdG8gdGhlIHNlbGVjdGVkIHRpbWVcbiAgICAgIHRhcmdldFRpbWUgPSAoKGlucHV0LnRhcmdldC52YWx1ZSAvIGlucHV0LnRhcmdldC5tYXgpICogZHVyYXRpb24pO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0VGltZSA8IDApIHtcbiAgICAgIHRhcmdldFRpbWUgPSAwO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0VGltZSA+IGR1cmF0aW9uKSB7XG4gICAgICB0YXJnZXRUaW1lID0gZHVyYXRpb247XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVNlZWtEaXNwbGF5KHRhcmdldFRpbWUpO1xuICAgIHRyeSB7XG4gICAgICBtZWRpYS5jdXJyZW50VGltZSA9IHRhcmdldFRpbWUudG9GaXhlZCg0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHsgfVxuICB9XG4gIF9zZXRWb2x1bWUodm9sdW1lKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5fY29uZmlnO1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3BsYXllcjtcbiAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5fc3RvcmFnZTtcblxuICAgIGNvbnN0IHsgbWVkaWEgfSA9IHBsYXllcjtcbiAgICBjb25zdCBtYXggPSBjb25maWcudm9sdW1lTWF4LFxuICAgICAgbWluID0gY29uZmlnLnZvbHVtZU1pbjtcblxuICAgIC8vIExvYWQgdm9sdW1lIGZyb20gc3RvcmFnZSBpZiBubyB2YWx1ZSBzcGVjaWZpZWRcbiAgICBpZiAoaXMudW5kZWZpbmVkKHZvbHVtZSkpIHtcbiAgICAgIHZvbHVtZSA9IHN0b3JhZ2Uudm9sdW1lO1xuICAgIH1cblxuICAgIC8vIFVzZSBjb25maWcgaWYgYWxsIGVsc2UgZmFpbHNcbiAgICBpZiAodm9sdW1lID09PSBudWxsIHx8IGlzTmFOKHZvbHVtZSkpIHtcbiAgICAgIHZvbHVtZSA9IGNvbmZpZy52b2x1bWU7XG4gICAgfVxuXG4gICAgLy8gTWF4aW11bSBpcyB2b2x1bWVNYXhcbiAgICBpZiAodm9sdW1lID4gbWF4KSB7XG4gICAgICB2b2x1bWUgPSBtYXg7XG4gICAgfVxuICAgIC8vIE1pbmltdW0gaXMgdm9sdW1lTWluXG4gICAgaWYgKHZvbHVtZSA8IG1pbikge1xuICAgICAgdm9sdW1lID0gbWluO1xuICAgIH1cbiAgICAvLyBTZXQgdGhlIHBsYXllciB2b2x1bWVcbiAgICBtZWRpYS52b2x1bWUgPSBwYXJzZUZsb2F0KHZvbHVtZSAvIG1heCk7XG5cbiAgICAvLyBTZXQgdGhlIGRpc3BsYXlcbiAgICBpZiAocGxheWVyLnZvbHVtZS5kaXNwbGF5KSB7XG4gICAgICBwbGF5ZXIudm9sdW1lLmRpc3BsYXkudmFsdWUgPSB2b2x1bWU7XG4gICAgfVxuICAgIC8vIFRvZ2dsZSBtdXRlZCBzdGF0ZVxuICAgIGlmICh2b2x1bWUgPT09IDApIHtcbiAgICAgIG1lZGlhLm11dGVkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKG1lZGlhLm11dGVkICYmIHZvbHVtZSA+IDApIHtcbiAgICAgIHRoaXMuX3RvZ2dsZU11dGUoKTtcbiAgICB9XG4gIH1cbiAgX3RvZ2dsZU11dGUobXV0ZWQpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLl9zdG9yYWdlO1xuXG4gICAgY29uc3QgeyBtZWRpYSB9ID0gcGxheWVyO1xuICAgIGlmICghaXMuYm9vbGVhbihtdXRlZCkpIHtcbiAgICAgIG11dGVkID0gIW1lZGlhLm11dGVkO1xuICAgIH1cblxuICAgIC8vIFNldCBidXR0b24gc3RhdGVcbiAgICB0aGlzLl90b2dnbGVTdGF0ZShwbGF5ZXIuYnV0dG9ucy5tdXRlLCBtdXRlZCk7XG5cbiAgICAvLyBTZXQgbXV0ZSBvbiB0aGUgcGxheWVyXG4gICAgbWVkaWEubXV0ZWQgPSBtdXRlZDtcblxuICAgIC8vIElmIHZvbHVtZSBpcyAwIGFmdGVyIHVubXV0aW5nLCBzZXQgdG8gZGVmYXVsdFxuICAgIGlmIChtZWRpYS52b2x1bWUgPT09IDApIHtcbiAgICAgIHRoaXMuX3NldFZvbHVtZShjb25maWcudm9sdW1lKTtcbiAgICB9XG5cbiAgfVxuICBfdG9nZ2xlU3RhdGUodGFyZ2V0LCBzdGF0ZSkge1xuICAgIC8vIEJhaWwgaWYgbm8gdGFyZ2V0XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gR2V0IHN0YXRlXG4gICAgc3RhdGUgPSAoaXMuYm9vbGVhbihzdGF0ZSkgPyBzdGF0ZSA6ICF0YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnKSk7XG5cbiAgICAvLyBTZXQgdGhlIGF0dHJpYnV0ZSBvbiB0YXJnZXRcbiAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCBzdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG4gIF90aW1lVXBkYXRlKGV2ZW50KSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5fY29uZmlnO1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3BsYXllcjtcbiAgICBjb25zdCB7IG1lZGlhIH0gPSBwbGF5ZXI7XG4gICAgLy8gRHVyYXRpb25cbiAgICB0aGlzLl91cGRhdGVUaW1lRGlzcGxheShtZWRpYS5jdXJyZW50VGltZSwgcGxheWVyLmN1cnJlbnRUaW1lKTtcblxuICAgIC8vIElnbm9yZSB1cGRhdGVzIHdoaWxlIHNlZWtpbmdcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ3RpbWV1cGRhdGUnICYmIG1lZGlhLnNlZWtpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUGxheWluZyBwcm9ncmVzc1xuICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzKGV2ZW50KTtcbiAgfVxuICBfdXBkYXRlUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3QgeyBtZWRpYSwgY29udHJvbHMsIHByb2dyZXNzLCBidXR0b25zLCBzdXBwb3J0ZWQgfSA9IHBsYXllcjtcbiAgICBpZiAoIXN1cHBvcnRlZC5mdWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIF9fcHJvZ3Jlc3MgPSBwcm9ncmVzcy5wbGF5ZWQsXG4gICAgICBfX3ZhbHVlID0gMCxcbiAgICAgIGR1cmF0aW9uID0gdGhpcy5fZ2V0RHVyYXRpb24oKTtcbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlICd0aW1ldXBkYXRlJzpcbiAgICAgICAgY2FzZSAnc2Vla2luZyc6XG4gICAgICAgICAgaWYgKGNvbnRyb2xzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfX3ZhbHVlID0gdGhpcy5fZ2V0UGVyY2VudGFnZShtZWRpYS5jdXJyZW50VGltZSwgZHVyYXRpb24pO1xuXG4gICAgICAgICAgLy8gU2V0IHNlZWsgcmFuZ2UgdmFsdWUgb25seSBpZiBpdCdzIGEgJ25hdHVyYWwnIHRpbWUgZXZlbnRcbiAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RpbWV1cGRhdGUnICYmIGJ1dHRvbnMuc2Vlaykge1xuICAgICAgICAgICAgYnV0dG9ucy5zZWVrLnZhbHVlID0gX192YWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQ2hlY2sgYnVmZmVyIHN0YXR1c1xuICAgICAgICBjYXNlICdwbGF5aW5nJzpcbiAgICAgICAgY2FzZSAncHJvZ3Jlc3MnOlxuICAgICAgICAgIF9fcHJvZ3Jlc3MgPSBwcm9ncmVzcy5idWZmZXI7XG4gICAgICAgICAgX192YWx1ZSA9ICgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyZWQgPSBtZWRpYS5idWZmZXJlZDtcblxuICAgICAgICAgICAgaWYgKGJ1ZmZlcmVkICYmIGJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBIVE1MNVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UGVyY2VudGFnZShidWZmZXJlZC5lbmQoMCksIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3NldFByb2dyZXNzKF9fcHJvZ3Jlc3MsIF9fdmFsdWUpO1xuICB9XG4gIF9zZXRQcm9ncmVzcyhwcm9ncmVzcywgdmFsdWUpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3QgeyBzdXBwb3J0ZWQgfSA9IHBsYXllcjtcbiAgICBpZiAoIXN1cHBvcnRlZC5mdWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byAwXG4gICAgaWYgKGlzLnVuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gMDtcbiAgICB9XG4gICAgLy8gRGVmYXVsdCB0byBidWZmZXIgb3IgYmFpbFxuICAgIGlmIChpcy51bmRlZmluZWQocHJvZ3Jlc3MpKSB7XG4gICAgICBpZiAocGxheWVyLnByb2dyZXNzICYmIHBsYXllci5wcm9ncmVzcy5idWZmZXIpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBwbGF5ZXIucHJvZ3Jlc3MuYnVmZmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uZSBwcm9ncmVzcyBlbGVtZW50IHBhc3NlZFxuICAgIGlmIChpcy5odG1sRWxlbWVudChwcm9ncmVzcykpIHtcbiAgICAgIHByb2dyZXNzLnZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChwcm9ncmVzcykge1xuICAgICAgLy8gT2JqZWN0IG9mIHByb2dyZXNzICsgdGV4dCBlbGVtZW50XG4gICAgICBpZiAocHJvZ3Jlc3MuYmFyKSB7XG4gICAgICAgIHByb2dyZXNzLmJhci52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb2dyZXNzLnRleHQpIHtcbiAgICAgICAgcHJvZ3Jlc3MudGV4dC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZVRpbWVEaXNwbGF5KHRpbWUsIGVsZW1lbnQpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG5cbiAgICAvLyBCYWlsIGlmIHRoZXJlJ3Mgbm8gZHVyYXRpb24gZGlzcGxheVxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIDBcbiAgICBpZiAoaXNOYU4odGltZSkpIHtcbiAgICAgIHRpbWUgPSAwO1xuICAgIH1cblxuICAgIHBsYXllci5zZWNzID0gcGFyc2VJbnQodGltZSAlIDYwKTtcbiAgICBwbGF5ZXIubWlucyA9IHBhcnNlSW50KCh0aW1lIC8gNjApICUgNjApO1xuICAgIHBsYXllci5ob3VycyA9IHBhcnNlSW50KCgodGltZSAvIDYwKSAvIDYwKSAlIDYwKTtcblxuICAgIC8vIERvIHdlIG5lZWQgdG8gZGlzcGxheSBob3Vycz9cbiAgICB2YXIgZGlzcGxheUhvdXJzID0gKHBhcnNlSW50KCgodGhpcy5fZ2V0RHVyYXRpb24oKSAvIDYwKSAvIDYwKSAlIDYwKSA+IDApO1xuXG4gICAgLy8gRW5zdXJlIGl0J3MgdHdvIGRpZ2l0cy4gRm9yIGV4YW1wbGUsIDAzIHJhdGhlciB0aGFuIDMuXG4gICAgcGxheWVyLnNlY3MgPSAoJzAnICsgcGxheWVyLnNlY3MpLnNsaWNlKC0yKTtcbiAgICBwbGF5ZXIubWlucyA9ICgnMCcgKyBwbGF5ZXIubWlucykuc2xpY2UoLTIpO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSAoZGlzcGxheUhvdXJzID8gcGxheWVyLmhvdXJzICsgJzonIDogJycpICsgcGxheWVyLm1pbnMgKyAnOicgKyBwbGF5ZXIuc2VjcztcbiAgfVxuICBfdXBkYXRlU2Vla0Rpc3BsYXkodGltZSkge1xuICAgIC8vIERlZmF1bHQgdG8gMFxuICAgIGlmICghaXMubnVtYmVyKHRpbWUpKSB7XG4gICAgICB0aW1lID0gMDtcbiAgICB9XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuXG4gICAgY29uc3QgeyBwcm9ncmVzcywgYnV0dG9ucyB9ID0gcGxheWVyO1xuICAgIHZhciBkdXJhdGlvbiA9IHRoaXMuX2dldER1cmF0aW9uKCksXG4gICAgICB2YWx1ZSA9IHRoaXMuX2dldFBlcmNlbnRhZ2UodGltZSwgZHVyYXRpb24pO1xuXG4gICAgLy8gVXBkYXRlIHByb2dyZXNzXG4gICAgaWYgKHByb2dyZXNzICYmIHByb2dyZXNzLnBsYXllZCkge1xuICAgICAgcHJvZ3Jlc3MucGxheWVkLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHNlZWsgcmFuZ2UgaW5wdXRcbiAgICBpZiAoYnV0dG9ucyAmJiBidXR0b25zLnNlZWspIHtcbiAgICAgIGJ1dHRvbnMuc2Vlay52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBfZGlzcGxheUR1cmF0aW9uKCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMuX3N0b3JhZ2U7XG5cbiAgICBjb25zdCB7IG1lZGlhLCBzdXBwb3J0ZWQsIGR1cmF0aW9uLCBjdXJyZW50VGltZSB9ID0gcGxheWVyO1xuICAgIGNvbnN0IHsgZGlzcGxheUR1cmF0aW9uIH0gPSBjb25maWc7XG4gICAgaWYgKCFzdXBwb3J0ZWQuZnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERldGVybWluZSBkdXJhdGlvblxuICAgIHZhciBfX2R1cmF0aW9uID0gdGhpcy5fZ2V0RHVyYXRpb24oKSB8fCAwO1xuXG4gICAgLy8gSWYgdGhlcmUncyBvbmx5IG9uZSB0aW1lIGRpc3BsYXksIGRpc3BsYXkgZHVyYXRpb24gdGhlcmVcbiAgICBpZiAoIWR1cmF0aW9uICYmIGRpc3BsYXlEdXJhdGlvbiAmJiBtZWRpYS5wYXVzZWQpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRpbWVEaXNwbGF5KF9fZHVyYXRpb24sIGN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgZHVyYXRpb24gZWxlbWVudCwgdXBkYXRlIGNvbnRlbnRcbiAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRpbWVEaXNwbGF5KF9fZHVyYXRpb24sIGR1cmF0aW9uKTtcbiAgICB9XG5cbiAgfVxuICBfY29udHJvbExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgIGNvbnN0IGZ1bGxzY3JlZW4gPSB0aGlzLl9mdWxsc2NyZWVuO1xuXG4gICAgY29uc3QgeyBicm93c2VyLCBidXR0b25zLCB2b2x1bWUsIGNvbnRhaW5lciwgY29udHJvbHMgfSA9IHBsYXllcjtcbiAgICBjb25zdCB7IGNsYXNzZXMsIGxpc3RlbmVycywgaGlkZUNvbnRyb2xzIH0gPSBjb25maWc7XG4gICAgY29uc3QgaW5wdXRFdmVudCA9IChicm93c2VyLmlzSUUgPyAnY2hhbmdlJyA6ICdpbnB1dCcpO1xuICAgIGNvbnN0IHRvZ2dsZVBsYXkgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwbGF5ID0gdGhpcy5fdG9nZ2xlUGxheSgpO1xuICAgICAgbGV0IHRyaWdnZXIgPSBidXR0b25zW3BsYXkgPyAncGxheScgOiAncGF1c2UnXSxcbiAgICAgICAgdGFyZ2V0ID0gYnV0dG9uc1twbGF5ID8gJ3BhdXNlJyA6ICdwbGF5J107XG5cbiAgICAgIC8vIEdldCB0aGUgbGFzdCBwbGF5IGJ1dHRvbiB0byBhY2NvdW50IGZvciB0aGUgbGFyZ2UgcGxheSBidXR0b25cbiAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W3RhcmdldC5sZW5ndGggLSAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldFswXTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgaGFkVGFiRm9jdXMgPSAkLmhhc0NsYXNzKHRyaWdnZXIsIGNsYXNzZXMudGFiRm9jdXMpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRhcmdldC5mb2N1cygpO1xuICAgICAgICAgIGlmIChoYWRUYWJGb2N1cykge1xuICAgICAgICAgICAgJC50b2dnbGVDbGFzcyh0cmlnZ2VyLCBjbGFzc2VzLnRhYkZvY3VzLCBmYWxzZSk7XG4gICAgICAgICAgICAkLnRvZ2dsZUNsYXNzKHRhcmdldCwgY2xhc3Nlcy50YWJGb2N1cywgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgfVxuICAgIH1cbiAgICBFdmVudC5wcm94eUxpc3RlbmVyKGJ1dHRvbnMucGxheSwgJ2NsaWNrJywgbGlzdGVuZXJzLnBsYXksIHRvZ2dsZVBsYXkpO1xuICAgIC8vIFBhdXNlXG4gICAgRXZlbnQucHJveHlMaXN0ZW5lcihidXR0b25zLnBhdXNlLCAnY2xpY2snLCBsaXN0ZW5lcnMucGF1c2UsIHRvZ2dsZVBsYXkpO1xuICAgIC8vIFNlZWtcbiAgICBFdmVudC5wcm94eUxpc3RlbmVyKGJ1dHRvbnMuc2VlaywgaW5wdXRFdmVudCwgbGlzdGVuZXJzLnNlZWssIHRoaXMuX3NlZWsuYmluZCh0aGlzKSk7XG5cbiAgICBFdmVudC5wcm94eUxpc3RlbmVyKHZvbHVtZS5pbnB1dCwgaW5wdXRFdmVudCwgbGlzdGVuZXJzLnZvbHVtZSwgKCkgPT4ge1xuICAgICAgdGhpcy5fc2V0Vm9sdW1lKHZvbHVtZS5pbnB1dC52YWx1ZSk7XG4gICAgfSk7XG4gICAgRXZlbnQucHJveHlMaXN0ZW5lcihidXR0b25zLm11dGUsICdjbGljaycsIGxpc3RlbmVycy5tdXRlLCB0aGlzLl90b2dnbGVNdXRlLmJpbmQodGhpcykpO1xuXG4gICAgRXZlbnQucHJveHlMaXN0ZW5lcihidXR0b25zLmZ1bGxzY3JlZW4sICdjbGljaycsIGxpc3RlbmVycy5mdWxsc2NyZWVuLCB0aGlzLl90b2dnbGVGdWxsc2NyZWVuLmJpbmQodGhpcykpO1xuXG4gICAgLy8gSGFuZGxlIHVzZXIgZXhpdGluZyBmdWxsc2NyZWVuIGJ5IGVzY2FwaW5nIGV0Y1xuICAgIGlmIChmdWxsc2NyZWVuLnN1cHBvcnRzRnVsbFNjcmVlbikge1xuICAgICAgRXZlbnQub25FdmVudChkb2N1bWVudCwgZnVsbHNjcmVlbi5mdWxsU2NyZWVuRXZlbnROYW1lLCB0aGlzLl90b2dnbGVGdWxsc2NyZWVuLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBpZiAoaGlkZUNvbnRyb2xzKSB7XG4gICAgICAvLyBUb2dnbGUgY29udHJvbHMgb24gbW91c2UgZXZlbnRzIGFuZCBlbnRlcmluZyBmdWxsc2NyZWVuXG4gICAgICBFdmVudC5vbkV2ZW50KGNvbnRhaW5lciwgJ21vdXNlZW50ZXIgbW91c2VsZWF2ZSBtb3VzZW1vdmUgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaGNhbmNlbCB0b3VjaG1vdmUgZW50ZXJmdWxsc2NyZWVuJywgdGhpcy5fdG9nZ2xlQ29udHJvbHMuYmluZCh0aGlzKSk7XG5cbiAgICAgIC8vIFdhdGNoIGZvciBjdXJzb3Igb3ZlciBjb250cm9scyBzbyB0aGV5IGRvbid0IGhpZGUgd2hlbiB0cnlpbmcgdG8gaW50ZXJhY3RcbiAgICAgIEV2ZW50Lm9uRXZlbnQoY29udHJvbHMsICdtb3VzZWVudGVyIG1vdXNlbGVhdmUnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgcGxheWVyLmNvbnRyb2xzLmhvdmVyID0gZXZlbnQudHlwZSA9PT0gJ21vdXNlZW50ZXInO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhdGNoIGZvciBjdXJzb3Igb3ZlciBjb250cm9scyBzbyB0aGV5IGRvbid0IGhpZGUgd2hlbiB0cnlpbmcgdG8gaW50ZXJhY3RcbiAgICAgIEV2ZW50Lm9uRXZlbnQoY29udHJvbHMsICdtb3VzZWRvd24gbW91c2V1cCB0b3VjaHN0YXJ0IHRvdWNoZW5kIHRvdWNoY2FuY2VsJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHBsYXllci5jb250cm9scy5wcmVzc2VkID0gdXRpbHMuaW5BcnJheShbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sIGV2ZW50LnR5cGUpO1xuICAgICAgfSk7XG4gICAgICAvLyBGb2N1cyBpbi9vdXQgb24gY29udHJvbHNcbiAgICAgIEV2ZW50Lm9uRXZlbnQoY29udHJvbHMsICdmb2N1cyBibHVyJywgdGhpcy5fdG9nZ2xlQ29udHJvbHMuYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIF9pbmplY3RDb250cm9scygpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuXG4gICAgbGV0IHsgaHRtbCwgc2VsZWN0b3JzIH0gPSBjb25maWc7XG5cbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcGxheWVyO1xuICAgIGlmICghaHRtbCkge1xuICAgICAgaHRtbCA9IGJ1aWxkQ29udHJvbHMoY29uZmlnKTtcbiAgICB9XG4gICAgY29uc3QgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwMDAwMDApKTtcbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsIGB2cGx5ciR7cmFuZG9tfWApO1xuICAgIGh0bWwgPSB1dGlscy5yZXBsYWNlQWxsKGh0bWwsICd7aWR9JywgcmFuZG9tKTtcbiAgICBsZXQgdGFyZ2V0O1xuICAgIGlmIChpcy5zdHJpbmcoc2VsZWN0b3JzLmNvbnRyb2xzLmNvbnRhaW5lcikpIHtcbiAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmNvbnRyb2xzLmNvbnRhaW5lcik7XG4gICAgfVxuICAgIC8vIEluamVjdCBpbnRvIHRoZSBjb250YWluZXIgYnkgZGVmYXVsdFxuICAgIGlmICghaXMuaHRtbEVsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgdGFyZ2V0ID0gY29udGFpbmVyXG4gICAgfVxuICAgIHRhcmdldC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGh0bWwpO1xuICB9XG4gIF9maW5kRWxlbWVudHMoKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5fY29uZmlnO1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuX3BsYXllcjtcblxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSBwbGF5ZXI7XG4gICAgY29uc3QgeyBzZWxlY3RvcnMgfSA9IGNvbmZpZztcbiAgICBjb25zdCB7IGNvbnRyb2xzLCBidXR0b25zLCBwcm9ncmVzcywgdm9sdW1lLCBkdXJhdGlvbiwgY3VycmVudFRpbWUsIHNlZWtUaW1lIH0gPSBzZWxlY3RvcnM7XG4gICAgY29uc3QgX2dldEVsZW1lbnRzID0gKHNlbGVjdG9yKSA9PiB7XG4gICAgICByZXR1cm4gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBjb25zdCBfZ2V0RWxlbWVudCA9IChzZWxlY3RvcikgPT4ge1xuICAgICAgcmV0dXJuIF9nZXRFbGVtZW50cyhzZWxlY3RvcilbMF07XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBwbGF5ZXIuY29udHJvbHMgPSBfZ2V0RWxlbWVudChjb250cm9scy53cmFwcGVyKTtcblxuICAgICAgLy8gQnV0dG9uc1xuICAgICAgcGxheWVyLmJ1dHRvbnMgPSB7fTtcbiAgICAgIHBsYXllci5idXR0b25zLnNlZWsgPSBfZ2V0RWxlbWVudChidXR0b25zLnNlZWspO1xuICAgICAgcGxheWVyLmJ1dHRvbnMucGxheSA9IF9nZXRFbGVtZW50cyhidXR0b25zLnBsYXkpO1xuICAgICAgcGxheWVyLmJ1dHRvbnMucGF1c2UgPSBfZ2V0RWxlbWVudChidXR0b25zLnBhdXNlKTtcbiAgICAgIHBsYXllci5idXR0b25zLmZ1bGxzY3JlZW4gPSBfZ2V0RWxlbWVudChidXR0b25zLmZ1bGxzY3JlZW4pO1xuXG4gICAgICAvLyBJbnB1dHNcbiAgICAgIHBsYXllci5idXR0b25zLm11dGUgPSBfZ2V0RWxlbWVudChidXR0b25zLm11dGUpO1xuXG4gICAgICAvLyBQcm9ncmVzc1xuICAgICAgcGxheWVyLnByb2dyZXNzID0ge307XG4gICAgICBwbGF5ZXIucHJvZ3Jlc3MuY29udGFpbmVyID0gX2dldEVsZW1lbnQocHJvZ3Jlc3MuY29udGFpbmVyKTtcblxuICAgICAgLy8gUHJvZ3Jlc3MgLSBCdWZmZXJpbmdcbiAgICAgIHBsYXllci5wcm9ncmVzcy5idWZmZXIgPSB7fTtcbiAgICAgIHBsYXllci5wcm9ncmVzcy5idWZmZXIuYmFyID0gX2dldEVsZW1lbnQocHJvZ3Jlc3MuYnVmZmVyKTtcbiAgICAgIHBsYXllci5wcm9ncmVzcy5idWZmZXIudGV4dCA9IHBsYXllci5wcm9ncmVzcy5idWZmZXIuYmFyICYmIHBsYXllci5wcm9ncmVzcy5idWZmZXIuYmFyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzcGFuJylbMF07XG5cbiAgICAgIC8vIFByb2dyZXNzIC0gUGxheWVkXG4gICAgICBwbGF5ZXIucHJvZ3Jlc3MucGxheWVkID0gX2dldEVsZW1lbnQocHJvZ3Jlc3MucGxheWVkKTtcblxuICAgICAgLy8gVm9sdW1lXG4gICAgICBwbGF5ZXIudm9sdW1lID0ge307XG4gICAgICBwbGF5ZXIudm9sdW1lLmlucHV0ID0gX2dldEVsZW1lbnQodm9sdW1lLmlucHV0KTtcbiAgICAgIHBsYXllci52b2x1bWUuZGlzcGxheSA9IF9nZXRFbGVtZW50KHZvbHVtZS5kaXNwbGF5KTtcblxuICAgICAgLy8gVGltaW5nXG4gICAgICBwbGF5ZXIuZHVyYXRpb24gPSBfZ2V0RWxlbWVudChkdXJhdGlvbik7XG4gICAgICBwbGF5ZXIuY3VycmVudFRpbWUgPSBfZ2V0RWxlbWVudChjdXJyZW50VGltZSk7XG4gICAgICBwbGF5ZXIuc2Vla1RpbWUgPSBfZ2V0RWxlbWVudHMoc2Vla1RpbWUpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuX3dhcm4oJ0l0IGxvb2tzIGxpa2UgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggeW91ciBjb250cm9scyBIVE1MJyk7XG4gICAgICAvLyBSZXN0b3JlIG5hdGl2ZSB2aWRlbyBjb250cm9sc1xuICAgICAgdGhpcy5fdG9nZ2xlTmF0aXZlQ29udHJvbHModHJ1ZSk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX3RvZ2dsZU5hdGl2ZUNvbnRyb2xzKHRvZ2dsZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3QgeyBtZWRpYSB9ID0gcGxheWVyO1xuICAgIGlmICh0b2dnbGUgJiYgdXRpbHMuaW5BcnJheShjb25maWcudHlwZXMuaHRtbDUsIHBsYXllci50eXBlKSkge1xuICAgICAgbWVkaWEuc2V0QXR0cmlidXRlKCdjb250cm9scycsICcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVkaWEucmVtb3ZlQXR0cmlidXRlKCdjb250cm9scycpO1xuICAgIH1cbiAgfVxuICBfdG9nZ2xlRnVsbHNjcmVlbihldmVudCkge1xuICAgIC8vIENoZWNrIGZvciBuYXRpdmUgc3VwcG9ydFxuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3QgZnVsbHNjcmVlbiA9IHRoaXMuX2Z1bGxzY3JlZW47XG5cbiAgICBjb25zdCB7IGNvbnRhaW5lciwgYnV0dG9ucyB9ID0gcGxheWVyO1xuICAgIHZhciBuYXRpdmVTdXBwb3J0ID0gZnVsbHNjcmVlbi5zdXBwb3J0c0Z1bGxTY3JlZW47XG5cbiAgICBpZiAobmF0aXZlU3VwcG9ydCkge1xuICAgICAgLy8gSWYgaXQncyBhIGZ1bGxzY3JlZW4gY2hhbmdlIGV2ZW50LCB1cGRhdGUgdGhlIFVJXG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gZnVsbHNjcmVlbi5mdWxsU2NyZWVuRXZlbnROYW1lKSB7XG4gICAgICAgIHBsYXllci5pc0Z1bGxzY3JlZW4gPSBmdWxsc2NyZWVuLmlzRnVsbFNjcmVlbihjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRWxzZSBpdCdzIGEgdXNlciByZXF1ZXN0IHRvIGVudGVyIG9yIGV4aXRcbiAgICAgICAgaWYgKCFmdWxsc2NyZWVuLmlzRnVsbFNjcmVlbihjb250YWluZXIpKSB7XG4gICAgICAgICAgLy8gU2F2ZSBzY3JvbGwgcG9zaXRpb25cbiAgICAgICAgICB0aGlzLl9zYXZlU2Nyb2xsUG9zaXRpb24oKTtcblxuICAgICAgICAgIC8vIFJlcXVlc3QgZnVsbCBzY3JlZW5cbiAgICAgICAgICBmdWxsc2NyZWVuLnJlcXVlc3RGdWxsU2NyZWVuKGNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQmFpbCBmcm9tIGZ1bGxzY3JlZW5cbiAgICAgICAgICBmdWxsc2NyZWVuLmNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGFjdHVhbGx5IGZ1bGwgc2NyZWVuIChpdCBjb3VsZCBmYWlsKVxuICAgICAgICBwbGF5ZXIuaXNGdWxsc2NyZWVuID0gZnVsbHNjcmVlbi5pc0Z1bGxTY3JlZW4oY29udGFpbmVyKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyd2lzZSwgaXQncyBhIHNpbXBsZSB0b2dnbGVcbiAgICAgIHBsYXllci5pc0Z1bGxzY3JlZW4gPSAhcGxheWVyLmlzRnVsbHNjcmVlbjtcblxuICAgICAgLy8gQmluZC91bmJpbmQgZXNjYXBlIGtleVxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IHBsYXllci5pc0Z1bGxzY3JlZW4gPyAnaGlkZGVuJyA6ICcnO1xuICAgIH1cblxuICAgIC8vIFNldCBjbGFzcyBob29rXG4gICAgJC50b2dnbGVDbGFzcyhjb250YWluZXIsIGNvbmZpZy5jbGFzc2VzLmZ1bGxzY3JlZW4uYWN0aXZlLCBwbGF5ZXIuaXNGdWxsc2NyZWVuKTtcblxuICAgIC8vIFRyYXAgZm9jdXNcbiAgICB0aGlzLl9mb2N1c1RyYXAocGxheWVyLmlzRnVsbHNjcmVlbik7XG5cbiAgICAvLyBTZXQgYnV0dG9uIHN0YXRlXG4gICAgaWYgKGJ1dHRvbnMgJiYgYnV0dG9ucy5mdWxsc2NyZWVuKSB7XG4gICAgICB0aGlzLl90b2dnbGVTdGF0ZShidXR0b25zLmZ1bGxzY3JlZW4sIHBsYXllci5pc0Z1bGxzY3JlZW4pO1xuICAgIH1cblxuICAgIC8vIFRyaWdnZXIgYW4gZXZlbnRcbiAgICB0aGlzLl90cmlnZ2VyRXZlbnQoY29udGFpbmVyLCBwbGF5ZXIuaXNGdWxsc2NyZWVuID8gJ2VudGVyZnVsbHNjcmVlbicgOiAnZXhpdGZ1bGxzY3JlZW4nLCB0cnVlKTtcblxuICAgIC8vIFJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uXG4gICAgaWYgKCFwbGF5ZXIuaXNGdWxsc2NyZWVuICYmIG5hdGl2ZVN1cHBvcnQpIHtcbiAgICAgIHRoaXMuX3Jlc3RvcmVTY3JvbGxQb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuICBfc2F2ZVNjcm9sbFBvc2l0aW9uKCkge1xuICAgIHNjcm9sbCA9IHtcbiAgICAgIHg6IHdpbmRvdy5wYWdlWE9mZnNldCB8fCAwLFxuICAgICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0IHx8IDBcbiAgICB9O1xuICB9XG4gIF9yZXN0b3JlU2Nyb2xsUG9zaXRpb24oKSB7XG4gICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbC54LCBzY3JvbGwueSk7XG4gIH1cbiAgX3RvZ2dsZUNvbnRyb2xzKHRvZ2dsZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXI7XG4gICAgY29uc3QgdGltZXJzID0gdGhpcy5fdGltZXJzO1xuXG4gICAgY29uc3QgeyBoaWRlQ29udHJvbHMsIGNsYXNzZXMgfSA9IGNvbmZpZztcbiAgICBjb25zdCB7IHR5cGUsIGNvbnRhaW5lciwgYnJvd3NlciwgY29udHJvbHMsIG1lZGlhIH0gPSBwbGF5ZXI7XG4gICAgY29uc3QgeyBwYXVzZWQgfSA9IG1lZGlhO1xuICAgIC8vIERvbid0IGhpZGUgaWYgY29uZmlnIHNheXMgbm90IHRvLCBpdCdzIGF1ZGlvLCBvciBub3QgcmVhZHkgb3IgbG9hZGluZ1xuICAgIGlmICghaGlkZUNvbnRyb2xzIHx8IHR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGVsYXkgPSAwLFxuICAgICAgaXNFbnRlckZ1bGxzY3JlZW4gPSBmYWxzZSxcbiAgICAgIHNob3cgPSB0b2dnbGUsXG4gICAgICBsb2FkaW5nID0gJC5oYXNDbGFzcyhjb250YWluZXIsIGNsYXNzZXMubG9hZGluZyk7XG5cbiAgICAvLyBEZWZhdWx0IHRvIGZhbHNlIGlmIG5vIGJvb2xlYW5cbiAgICBpZiAoIWlzLmJvb2xlYW4odG9nZ2xlKSkge1xuICAgICAgaWYgKHRvZ2dsZSAmJiB0b2dnbGUudHlwZSkge1xuICAgICAgICAvLyBJcyB0aGUgZW50ZXIgZnVsbHNjcmVlbiBldmVudFxuICAgICAgICBpc0VudGVyRnVsbHNjcmVlbiA9ICh0b2dnbGUudHlwZSA9PT0gJ2VudGVyZnVsbHNjcmVlbicpO1xuXG4gICAgICAgIC8vIFdoZXRoZXIgdG8gc2hvdyBjb250cm9sc1xuICAgICAgICBzaG93ID0gdXRpbHMuaW5BcnJheShbJ21vdXNlbW92ZScsICd0b3VjaHN0YXJ0JywgJ21vdXNlZW50ZXInLCAnZm9jdXMnXSwgdG9nZ2xlLnR5cGUpO1xuXG4gICAgICAgIC8vIERlbGF5IGhpZGluZyBvbiBtb3ZlIGV2ZW50c1xuICAgICAgICBpZiAodXRpbHMuaW5BcnJheShbJ21vdXNlbW92ZScsICd0b3VjaG1vdmUnXSwgdG9nZ2xlLnR5cGUpKSB7XG4gICAgICAgICAgZGVsYXkgPSAyMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVsYXkgYSBsaXR0bGUgbW9yZSBmb3Iga2V5Ym9hcmQgdXNlcnNcbiAgICAgICAgaWYgKHRvZ2dsZS50eXBlID09PSAnZm9jdXMnKSB7XG4gICAgICAgICAgZGVsYXkgPSAzMDAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG93ID0gJC5oYXNDbGFzcyhjb250YWluZXIsIGNsYXNzZXMuaGlkZUNvbnRyb2xzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDbGVhciB0aW1lciBldmVyeSBtb3ZlbWVudFxuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXJzLmhvdmVyKTtcblxuICAgIC8vIElmIHRoZSBtb3VzZSBpcyBub3Qgb3ZlciB0aGUgY29udHJvbHMsIHNldCBhIHRpbWVvdXQgdG8gaGlkZSB0aGVtXG4gICAgaWYgKHNob3cgfHwgcGF1c2VkIHx8IGxvYWRpbmcpIHtcbiAgICAgICQudG9nZ2xlQ2xhc3MoY29udGFpbmVyLCBjbGFzc2VzLmhpZGVDb250cm9scywgZmFsc2UpO1xuXG4gICAgICAvLyBBbHdheXMgc2hvdyBjb250cm9scyB3aGVuIHBhdXNlZCBvciBpZiB0b3VjaFxuICAgICAgaWYgKHBhdXNlZCB8fCBsb2FkaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsYXkgZm9yIGhpZGluZyBvbiB0b3VjaFxuICAgICAgaWYgKGJyb3dzZXIuaXNUb3VjaCkge1xuICAgICAgICBkZWxheSA9IDMwMDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdG9nZ2xlIGlzIGZhbHNlIG9yIGlmIHdlJ3JlIHBsYXlpbmcgKHJlZ2FyZGxlc3Mgb2YgdG9nZ2xlKSxcbiAgICAvLyB0aGVuIHNldCB0aGUgdGltZXIgdG8gaGlkZSB0aGUgY29udHJvbHNcbiAgICBpZiAoIXNob3cgfHwgIXBhdXNlZCkge1xuICAgICAgdGltZXJzLmhvdmVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBJZiB0aGUgbW91c2UgaXMgb3ZlciB0aGUgY29udHJvbHMgKGFuZCBub3QgZW50ZXJpbmcgZnVsbHNjcmVlbiksIGJhaWxcbiAgICAgICAgaWYgKChjb250cm9scy5wcmVzc2VkIHx8IGNvbnRyb2xzLmhvdmVyKSAmJiAhaXNFbnRlckZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkLnRvZ2dsZUNsYXNzKGNvbnRhaW5lciwgY2xhc3Nlcy5oaWRlQ29udHJvbHMsIHRydWUpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH1cbiAgfVxuICBfdHJpZ2dlckV2ZW50KGVsZW1lbnQsIHR5cGUsIGJ1YmJsZXMsIHByb3BlcnRpZXMpIHtcbiAgICBFdmVudC5jdXN0b21FdmVudChlbGVtZW50LCB0eXBlLCBidWJibGVzLCB1dGlscy5leHRlbmQoe30sIHByb3BlcnRpZXMsIHtcbiAgICAgIHZwbHlyOiB0aGlzXG4gICAgfSkpO1xuICB9XG4gIF9nZXRQZXJjZW50YWdlKGN1cnJlbnQsIG1heCkge1xuICAgIGlmIChjdXJyZW50ID09PSAwIHx8IG1heCA9PT0gMCB8fCBpc05hTihjdXJyZW50KSB8fCBpc05hTihtYXgpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuICgoY3VycmVudCAvIG1heCkgKiAxMDApLnRvRml4ZWQoMik7XG4gIH1cbiAgX3RvZ2dsZVN0eWxlSG9vaygpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5fcGxheWVyO1xuICAgICQudG9nZ2xlQ2xhc3MocGxheWVyLmNvbnRhaW5lciwgY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIucmVwbGFjZSgnLicsICcnKSwgcGxheWVyLnN1cHBvcnRlZC5mdWxsKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgUGxheWVyOyIsImltcG9ydCB1dGlscyx7IHN0b3JhZ2VTdXBwb3J0IH0gZnJvbSAnLi4vdXRpbHMvdXRpbCc7XG5leHBvcnQgY29uc3QgdXBkYXRlU3RvcmFnZSA9ICh2YWx1ZSwgY29uZmlnLCBzdG9yYWdlKSA9PiB7XG4gIGlmICghc3RvcmFnZVN1cHBvcnQgfHwgIWNvbmZpZy5zdG9yYWdlLmVuYWJsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXRpbHMuZXh0ZW5kKHN0b3JhZ2UsIHZhbHVlKTtcbiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbmZpZy5zdG9yYWdlLmtleSwgSlNPTi5zdHJpbmdpZnkoc3RvcmFnZSkpO1xufVxuZXhwb3J0IGNvbnN0IHNldHVwU3RvcmFnZSA9IChjb25maWcsIHN0b3JhZ2UpID0+IHtcbiAgdmFyIHZhbHVlID0gbnVsbDtcbiAgaWYgKCFzdG9yYWdlU3VwcG9ydCB8fCAhY29uZmlnLnN0b3JhZ2UuZW5hYmxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndnBseXItdm9sdW1lJyk7XG5cbiAgLy8gbG9hZCB2YWx1ZSBmcm9tIHRoZSBjdXJyZW50IGtleVxuICB2YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb25maWcuc3RvcmFnZS5rZXkpO1xuXG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoL15cXGQrKFxcLlxcZCspPyQvLnRlc3QodmFsdWUpKSB7XG4gICAgdXBkYXRlU3RvcmFnZSh7IHZvbHVtZTogcGFyc2VGbG9hdCh2YWx1ZSkgfSwgY29uZmlnLCBzdG9yYWdlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBc3N1bWUgaXQncyBKU09OIGZyb20gdGhpcyBvciBhIGxhdGVyIHZlcnNpb24gb2YgcGx5clxuICAgIHN0b3JhZ2UgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHV0aWxzLHtpc30gZnJvbSAnLi91dGlsJztcblxuY2xhc3MgRG9tIHtcbiAgc3RhdGljIHdyYXAoZWxlbWVudHMsIHdyYXBwZXIpIHtcbiAgICAvLyBDb252ZXJ0IGBlbGVtZW50c2AgdG8gYW4gYXJyYXksIGlmIG5lY2Vzc2FyeS5cbiAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuICAgIH1cblxuICAgIC8vIExvb3BzIGJhY2t3YXJkcyB0byBwcmV2ZW50IGhhdmluZyB0byBjbG9uZSB0aGUgd3JhcHBlciBvbiB0aGVcbiAgICAvLyBmaXJzdCBlbGVtZW50IChzZWUgYGNoaWxkYCBiZWxvdykuXG4gICAgZm9yICh2YXIgaSA9IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY2hpbGQgPSAoaSA+IDApID8gd3JhcHBlci5jbG9uZU5vZGUodHJ1ZSkgOiB3cmFwcGVyO1xuICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcblxuICAgICAgLy8gQ2FjaGUgdGhlIGN1cnJlbnQgcGFyZW50IGFuZCBzaWJsaW5nLlxuICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIHZhciBzaWJsaW5nID0gZWxlbWVudC5uZXh0U2libGluZztcblxuICAgICAgLy8gV3JhcCB0aGUgZWxlbWVudCAoaXMgYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20gaXRzIGN1cnJlbnRcbiAgICAgIC8vIHBhcmVudCkuXG4gICAgICBjaGlsZC5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFkIGEgc2libGluZywgaW5zZXJ0IHRoZSB3cmFwcGVyIGJlZm9yZVxuICAgICAgLy8gdGhlIHNpYmxpbmcgdG8gbWFpbnRhaW4gdGhlIEhUTUwgc3RydWN0dXJlOyBvdGhlcndpc2UsIGp1c3RcbiAgICAgIC8vIGFwcGVuZCBpdCB0byB0aGUgcGFyZW50LlxuICAgICAgaWYgKHNpYmxpbmcpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgc2libGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgZ2V0Q2xhc3NuYW1lKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoJy4nLCAnJyk7XG4gIH1cbiAgc3RhdGljIGluc2VydEVsZW1lbnQodHlwZSwgcGFyZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IDxlbGVtZW50PlxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgIC8vIFNldCBhbGwgcGFzc2VkIGF0dHJpYnV0ZXNcbiAgICBEb20uc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgIC8vIEluamVjdCB0aGUgbmV3IGVsZW1lbnRcbiAgICBEb20ucHJlcGVuZENoaWxkKHBhcmVudCwgZWxlbWVudCk7XG4gIH1cbiAgc3RhdGljIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIChfaXMuYm9vbGVhbihhdHRyaWJ1dGVzW2tleV0pICYmIGF0dHJpYnV0ZXNba2V5XSkgPyAnJyA6IGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBwcmVwZW5kQ2hpbGQocGFyZW50LCBlbGVtZW50KSB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH1cbiAgc3RhdGljIGluamVjdFNjcmlwdChzb3VyY2UpIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3NyYz1cIicgKyBzb3VyY2UgKyAnXCJdJykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgdGFnLnNyYyA9IHNvdXJjZTtcbiAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gIH1cbiAgc3RhdGljIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhcXFxcc3xeKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzfCQpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGF0aWMgcmVtb3ZlRWxlbWVudChlbGVtZW50KXtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbiAgLy8gVG9nZ2xlIGNsYXNzIG9uIGFuIGVsZW1lbnRcbiAgc3RhdGljIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSwgc3RhdGUpe1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3Rbc3RhdGUgPyAnYWRkJyA6ICdyZW1vdmUnXShjbGFzc05hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5hbWUgPSAoJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKCcgJyArIGNsYXNzTmFtZSArICcgJywgJycpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5hbWUgKyAoc3RhdGUgPyAnICcgKyBjbGFzc05hbWUgOiAnJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN0YXRpYyBmdWxsc2NyZWVuKCkge1xuICAgIHZhciBmdWxsc2NyZWVuID0ge1xuICAgICAgICAgICAgc3VwcG9ydHNGdWxsU2NyZWVuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbjogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgIHJlcXVlc3RGdWxsU2NyZWVuOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgY2FuY2VsRnVsbFNjcmVlbjogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgIGZ1bGxTY3JlZW5FdmVudE5hbWU6ICcnLFxuICAgICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIHByZWZpeDogJydcbiAgICAgICAgfSxcbiAgICAgICAgYnJvd3NlclByZWZpeGVzID0gJ3dlYmtpdCBvIG1veiBtcyBraHRtbCcuc3BsaXQoJyAnKTtcblxuICAgIC8vIENoZWNrIGZvciBuYXRpdmUgc3VwcG9ydFxuICAgIGlmICghaXMudW5kZWZpbmVkKGRvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW4pKSB7XG4gICAgICAgIGZ1bGxzY3JlZW4uc3VwcG9ydHNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2hlY2sgZm9yIGZ1bGxzY3JlZW4gc3VwcG9ydCBieSB2ZW5kb3IgcHJlZml4XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBicm93c2VyUHJlZml4ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKyApIHtcbiAgICAgICAgZnVsbHNjcmVlbi5wcmVmaXggPSBicm93c2VyUHJlZml4ZXNbaV07XG5cbiAgICAgICAgaWYgKCFpcy51bmRlZmluZWQoZG9jdW1lbnRbZnVsbHNjcmVlbi5wcmVmaXggKyAnQ2FuY2VsRnVsbFNjcmVlbiddKSkge1xuICAgICAgICAgIGZ1bGxzY3JlZW4uc3VwcG9ydHNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmICghaXMudW5kZWZpbmVkKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pICYmIGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVuYWJsZWQpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIE1TICh3aGVuIGlzbid0IGl0PylcbiAgICAgICAgICBmdWxsc2NyZWVuLnByZWZpeCA9ICdtcyc7XG4gICAgICAgICAgZnVsbHNjcmVlbi5zdXBwb3J0c0Z1bGxTY3JlZW4gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIG1ldGhvZHMgdG8gZG8gc29tZXRoaW5nIHVzZWZ1bFxuICAgIGlmIChmdWxsc2NyZWVuLnN1cHBvcnRzRnVsbFNjcmVlbikge1xuICAgICAgLy8gWWV0IGFnYWluIE1pY3Jvc29mdCBhd2Vzb21lbmVzcyxcbiAgICAgIC8vIFNvbWV0aW1lcyB0aGUgcHJlZml4IGlzICdtcycsIHNvbWV0aW1lcyAnTVMnIHRvIGtlZXAgeW91IG9uIHlvdXIgdG9lc1xuICAgICAgZnVsbHNjcmVlbi5mdWxsU2NyZWVuRXZlbnROYW1lID0gKGZ1bGxzY3JlZW4ucHJlZml4ID09PSAnbXMnID8gJ01TRnVsbHNjcmVlbkNoYW5nZScgOiBmdWxsc2NyZWVuLnByZWZpeCArICdmdWxsc2NyZWVuY2hhbmdlJyk7XG5cbiAgICAgIGZ1bGxzY3JlZW4uaXNGdWxsU2NyZWVuID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBpZiAoaXMudW5kZWZpbmVkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJlZml4KSB7XG4gICAgICAgICAgY2FzZSAnJzpcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudDtcbiAgICAgICAgICBjYXNlICdtb3onOlxuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50ID09PSBlbGVtZW50O1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnRbdGhpcy5wcmVmaXggKyAnRnVsbHNjcmVlbkVsZW1lbnQnXSA9PT0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZ1bGxzY3JlZW4ucmVxdWVzdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGlmIChpcy51bmRlZmluZWQoZWxlbWVudCkpIHtcbiAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMucHJlZml4ID09PSAnJykgPyBlbGVtZW50LnJlcXVlc3RGdWxsU2NyZWVuKCkgOiBlbGVtZW50W3RoaXMucHJlZml4ICsgKHRoaXMucHJlZml4ID09PSAnbXMnID8gJ1JlcXVlc3RGdWxsc2NyZWVuJyA6ICdSZXF1ZXN0RnVsbFNjcmVlbicpXSgpO1xuICAgICAgfTtcbiAgICAgIGZ1bGxzY3JlZW4uY2FuY2VsRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMucHJlZml4ID09PSAnJykgPyBkb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuKCkgOiBkb2N1bWVudFt0aGlzLnByZWZpeCArICh0aGlzLnByZWZpeCA9PT0gJ21zJyA/ICdFeGl0RnVsbHNjcmVlbicgOiAnQ2FuY2VsRnVsbFNjcmVlbicpXSgpO1xuICAgICAgfTtcbiAgICAgIGZ1bGxzY3JlZW4uZWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMucHJlZml4ID09PSAnJykgPyBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA6IGRvY3VtZW50W3RoaXMucHJlZml4ICsgJ0Z1bGxzY3JlZW5FbGVtZW50J107XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdWxsc2NyZWVuO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBEb207XG4iLCJpbXBvcnQgdXRpbHMsIHsgaXMgfSBmcm9tICcuL3V0aWwnO1xuXG5jbGFzcyBFdmVudCB7XG4gIHN0YXRpYyBjdXN0b21FdmVudChlbGVtZW50LCB0eXBlLCBidWJibGVzLCBwcm9wZXJ0aWVzKSB7XG4gICAgLy8gQmFpbCBpZiBubyBlbGVtZW50XG4gICAgaWYgKCFlbGVtZW50IHx8ICF0eXBlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBidWJibGVzIHRvIGZhbHNlXG4gICAgaWYgKCFpcy5ib29sZWFuKGJ1YmJsZXMpKSB7XG4gICAgICBidWJibGVzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuZCBkaXNwYXRjaCB0aGUgZXZlbnRcbiAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgIGRldGFpbDogcHJvcGVydGllc1xuICAgIH0pO1xuXG4gICAgLy8gRGlzcGF0Y2ggdGhlIGV2ZW50XG4gICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfVxuICBzdGF0aWMgb25FdmVudChlbGVtZW50LCBldmVudHMsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIEV2ZW50LnRvZ2dsZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHRydWUsIHVzZUNhcHR1cmUpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB0b2dnbGVMaXN0ZW5lcihlbGVtZW50LCBldmVudHMsIGNhbGxiYWNrLCB0b2dnbGUsIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgZXZlbnRMaXN0ID0gZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgLy8gV2hldGhlciB0aGUgbGlzdGVuZXIgaXMgYSBjYXB0dXJpbmcgbGlzdGVuZXIgb3Igbm90XG4gICAgLy8gRGVmYXVsdCB0byBmYWxzZVxuICAgIGlmICghaXMuYm9vbGVhbih1c2VDYXB0dXJlKSkge1xuICAgICAgdXNlQ2FwdHVyZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIGEgbm9kZWxpc3QgaXMgcGFzc2VkLCBjYWxsIGl0c2VsZiBvbiBlYWNoIG5vZGVcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGVsZW1lbnQubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgaWYgKGVsZW1lbnRbeF0gaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgRXZlbnQudG9nZ2xlTGlzdGVuZXIoZWxlbWVudFt4XSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHNpbmdsZSBub2RlIGlzIHBhc3NlZCwgYmluZCB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgZWxlbWVudFt0b2dnbGUgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lciddKGV2ZW50TGlzdFtpXSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgcHJveHlMaXN0ZW5lcihlbGVtZW50LCBldmVudE5hbWUsIHVzZXJMaXN0ZW5lciwgZGVmYXVsdExpc3RlbmVyLCB1c2VDYXB0dXJlKSB7XG4gICAgRXZlbnQub25FdmVudChlbGVtZW50LCBldmVudE5hbWUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKHVzZXJMaXN0ZW5lcikge1xuICAgICAgICB1c2VyTGlzdGVuZXIuYXBwbHkoZWxlbWVudCwgW2V2ZW50XSk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0TGlzdGVuZXIuYXBwbHkoZWxlbWVudCwgW2V2ZW50XSk7XG4gICAgfSwgdXNlQ2FwdHVyZSk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEV2ZW50OyIsIlxuY2xhc3MgTG9nIHtcblxuICBzdGF0aWMgZSh0YWcsIG1zZykge1xuICAgIGlmICghTG9nLkVOQUJMRV9FUlJPUikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gO1xuICAgIGlmIChjb25zb2xlLmVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKHN0cik7XG4gICAgfSBlbHNlIGlmIChjb25zb2xlLndhcm4pIHtcbiAgICAgIGNvbnNvbGUud2FybihzdHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhzdHIpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBpKHRhZywgbXNnKSB7XG4gICAgaWYgKCFMb2cuRU5BQkxFX0lORk8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuXG4gICAgbGV0IHN0ciA9IGBbJHt0YWd9XSA+ICR7bXNnfWA7XG5cbiAgICBpZiAoY29uc29sZS5pbmZvKSB7XG4gICAgICBjb25zb2xlLmluZm8oc3RyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdyh0YWcsIG1zZykge1xuICAgIGlmICghTG9nLkVOQUJMRV9XQVJOKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpXG4gICAgICB0YWcgPSBMb2cuR0xPQkFMX1RBRztcblxuICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gO1xuXG4gICAgaWYgKGNvbnNvbGUud2Fybikge1xuICAgICAgY29uc29sZS53YXJuKHN0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGQodGFnLCBtc2cpIHtcbiAgICBpZiAoIUxvZy5FTkFCTEVfREVCVUcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuXG4gICAgbGV0IHN0ciA9IGBbJHt0YWd9XSA+ICR7bXNnfWA7XG5cbiAgICBpZiAoY29uc29sZS5kZWJ1Zykge1xuICAgICAgY29uc29sZS5kZWJ1ZyhzdHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhzdHIpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2KHRhZywgbXNnKSB7XG4gICAgaWYgKCFMb2cuRU5BQkxFX1ZFUkJPU0UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuICAgIGNvbnNvbGUubG9nKGBbJHt0YWd9XSA+ICR7bXNnfWApO1xuICB9XG5cbn1cblxuTG9nLkdMT0JBTF9UQUcgPSAnVlBseXInO1xuTG9nLkZPUkNFX0dMT0JBTF9UQUcgPSBmYWxzZTtcbkxvZy5FTkFCTEVfRVJST1IgPSB0cnVlO1xuTG9nLkVOQUJMRV9JTkZPID0gdHJ1ZTtcbkxvZy5FTkFCTEVfV0FSTiA9IHRydWU7XG5Mb2cuRU5BQkxFX0RFQlVHID0gdHJ1ZTtcbkxvZy5FTkFCTEVfVkVSQk9TRSA9IHRydWU7XG5cbmV4cG9ydCBkZWZhdWx0IExvZzsiLCJjbGFzcyBVdGlscyB7XG4gIFxuICBzdGF0aWMgc3RvcmFnZVN1cHBvcnQoKXtcbiAgICBpZiAoISgnbG9jYWxTdG9yYWdlJyBpbiB3aW5kb3cpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIHVzZSBpdCAoaXQgbWlnaHQgYmUgZGlzYWJsZWQsIGUuZy4gdXNlciBpcyBpbiBwcml2YXRlL3Bvcm4gbW9kZSlcbiAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9TZWx6L3BseXIvaXNzdWVzLzEzMVxuICAgIHRyeSB7XG4gICAgICAvLyBBZGQgdGVzdCBpdGVtXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ19fX3Rlc3QnLCAnT0snKTtcblxuICAgICAgLy8gR2V0IHRoZSB0ZXN0IGl0ZW1cbiAgICAgIGxldCByZXN1bHQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ19fX3Rlc3QnKTtcblxuICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnX19fdGVzdCcpO1xuXG4gICAgICAvLyBDaGVjayBpZiB2YWx1ZSBtYXRjaGVzXG4gICAgICByZXR1cm4gKHJlc3VsdCA9PT0gJ09LJyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YXRpYyByZXBsYWNlQWxsKHN0cmluZywgZmluZCwgcmVwbGFjZSkge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShuZXcgUmVnRXhwKGZpbmQucmVwbGFjZSgvKFsuKis/XFxePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKSwgJ2cnKSwgcmVwbGFjZSk7XG4gIH1cbiAgc3RhdGljIGV4dGVuZCgpIHtcbiAgICAvLyBHZXQgYXJndW1lbnRzXG4gICAgbGV0IG9iamVjdHMgPSBhcmd1bWVudHM7XG5cbiAgICAvLyBCYWlsIGlmIG5vdGhpbmcgdG8gbWVyZ2VcbiAgICBpZiAoIW9iamVjdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGZpcnN0IGlmIHNwZWNpZmllZCBidXQgbm90aGluZyB0byBtZXJnZVxuICAgIGlmIChvYmplY3RzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIG9iamVjdHNbMF07XG4gICAgfVxuXG4gICAgLy8gRmlyc3Qgb2JqZWN0IGlzIHRoZSBkZXN0aW5hdGlvblxuICAgIGxldCBkZXN0aW5hdGlvbiA9IEFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKG9iamVjdHMpLFxuICAgICAgbGVuZ3RoID0gb2JqZWN0cy5sZW5ndGg7XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIG9iamVjdHMgdG8gbWVyZ2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgc291cmNlID0gb2JqZWN0c1tpXTtcblxuICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2VbcHJvcGVydHldICYmXG4gICAgICAgICAgc291cmNlW3Byb3BlcnR5XS5jb25zdHJ1Y3RvciAmJlxuICAgICAgICAgIHNvdXJjZVtwcm9wZXJ0eV0uY29uc3RydWN0b3IgPT09IE9iamVjdFxuICAgICAgICApIHtcbiAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gfHwge307XG4gICAgICAgICAgVXRpbHMuZXh0ZW5kKGRlc3RpbmF0aW9uW3Byb3BlcnR5XSwgc291cmNlW3Byb3BlcnR5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgfVxuICBzdGF0aWMgaXMoKXtcbiAgICByZXR1cm4ge1xuICAgICAgb2JqZWN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCc7XG4gICAgICB9LFxuICAgICAgYXJyYXk6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IEFycmF5KTtcbiAgICAgIH0sXG4gICAgICBudW1iZXI6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiAodHlwZW9mKGlucHV0KSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGlucHV0IC0gMCkgfHwgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IE51bWJlcikpO1xuICAgICAgfSxcbiAgICAgIHN0cmluZzogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8ICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LmNvbnN0cnVjdG9yID09PSBTdHJpbmcpKTtcbiAgICAgIH0sXG4gICAgICBib29sZWFuOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbic7XG4gICAgICB9LFxuICAgICAgbm9kZUxpc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCBpbnN0YW5jZW9mIE5vZGVMaXN0O1xuICAgICAgfSxcbiAgICAgIGh0bWxFbGVtZW50OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbjogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgIH0sXG4gICAgICB1bmRlZmluZWQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzdGF0aWMgYnJvd2VyU25pZmYoKXtcbiAgICBsZXQgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgbmFtZSA9IG5hdmlnYXRvci5hcHBOYW1lLFxuICAgICAgZnVsbFZlcnNpb24gPSAnJyArIHBhcnNlRmxvYXQobmF2aWdhdG9yLmFwcFZlcnNpb24pLFxuICAgICAgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobmF2aWdhdG9yLmFwcFZlcnNpb24sIDEwKSxcbiAgICAgIG5hbWVPZmZzZXQsXG4gICAgICB2ZXJPZmZzZXQsXG4gICAgICBpeCxcbiAgICAgIGlzSUUgPSBmYWxzZSxcbiAgICAgIGlzRmlyZWZveCA9IGZhbHNlLFxuICAgICAgaXNDaHJvbWUgPSBmYWxzZSxcbiAgICAgIGlzV2VjaGF0ID0gZmFsc2UsXG4gICAgICBpc1NhZmFyaSA9IGZhbHNlO1xuXG4gICAgaWYgKChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCdXaW5kb3dzIE5UJykgIT09IC0xKSAmJiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZigncnY6MTEnKSAhPT0gLTEpKSB7XG4gICAgICAvLyBNU0lFIDExXG4gICAgICBpc0lFID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnSUUnO1xuICAgICAgZnVsbFZlcnNpb24gPSAnMTEnO1xuICAgIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ01TSUUnKSkgIT09IC0xKSB7XG4gICAgICAvLyBNU0lFXG4gICAgICBpc0lFID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnSUUnO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgNSk7XG4gICAgfWVsc2UgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdtaWNyb21lc3NlbmdlcicpKSAhPT0gLTEpIHtcbiAgICAgIC8vIFdlQ2hhdFxuICAgICAgaXNXZWNoYXQgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdXZUNoYXQnO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgMTUpO1xuICAgIH1lbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignQ2hyb21lJykpICE9PSAtMSkge1xuICAgICAgLy8gQ2hyb21lXG4gICAgICBpc0Nocm9tZSA9IHRydWU7XG4gICAgICBuYW1lID0gJ0Nocm9tZSc7XG4gICAgICBmdWxsVmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA3KTtcbiAgICB9IGVsc2UgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdTYWZhcmknKSkgIT09IC0xKSB7XG4gICAgICAvLyBTYWZhcmlcbiAgICAgIGlzU2FmYXJpID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnU2FmYXJpJztcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDcpO1xuICAgICAgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdWZXJzaW9uJykpICE9PSAtMSkge1xuICAgICAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ0ZpcmVmb3gnKSkgIT09IC0xKSB7XG4gICAgICAvLyBGaXJlZm94XG4gICAgICBpc0ZpcmVmb3ggPSB0cnVlO1xuICAgICAgbmFtZSA9ICdGaXJlZm94JztcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDgpO1xuICAgIH0gZWxzZSBpZiAoKG5hbWVPZmZzZXQgPSB1YS5sYXN0SW5kZXhPZignICcpICsgMSkgPCAodmVyT2Zmc2V0ID0gdWEubGFzdEluZGV4T2YoJy8nKSkpIHtcbiAgICAgIC8vIEluIG1vc3Qgb3RoZXIgYnJvd3NlcnMsICduYW1lL3ZlcnNpb24nIGlzIGF0IHRoZSBlbmQgb2YgdXNlckFnZW50XG4gICAgICBuYW1lID0gdWEuc3Vic3RyaW5nKG5hbWVPZmZzZXQsdmVyT2Zmc2V0KTtcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDEpO1xuXG4gICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICBuYW1lID0gbmF2aWdhdG9yLmFwcE5hbWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJpbSB0aGUgZnVsbFZlcnNpb24gc3RyaW5nIGF0IHNlbWljb2xvbi9zcGFjZSBpZiBwcmVzZW50XG4gICAgaWYgKChpeCA9IGZ1bGxWZXJzaW9uLmluZGV4T2YoJzsnKSkgIT09IC0xKSB7XG4gICAgICBmdWxsVmVyc2lvbiA9IGZ1bGxWZXJzaW9uLnN1YnN0cmluZygwLCBpeCk7XG4gICAgfVxuICAgIGlmICgoaXggPSBmdWxsVmVyc2lvbi5pbmRleE9mKCcgJykpICE9PSAtMSkge1xuICAgICAgZnVsbFZlcnNpb24gPSBmdWxsVmVyc2lvbi5zdWJzdHJpbmcoMCwgaXgpO1xuICAgIH1cblxuICAgIC8vIEdldCBtYWpvciB2ZXJzaW9uXG4gICAgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQoJycgKyBmdWxsVmVyc2lvbiwgMTApO1xuICAgIGlmIChpc05hTihtYWpvclZlcnNpb24pKSB7XG4gICAgICBmdWxsVmVyc2lvbiA9ICcnICsgcGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbik7XG4gICAgICBtYWpvclZlcnNpb24gPSBwYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgMTApO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBkYXRhXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6ICAgICAgIG5hbWUsXG4gICAgICB2ZXJzaW9uOiAgICBtYWpvclZlcnNpb24sXG4gICAgICBpc0lFOiAgICAgICBpc0lFLFxuICAgICAgaXNGaXJlZm94OiAgaXNGaXJlZm94LFxuICAgICAgaXNDaHJvbWU6ICAgaXNDaHJvbWUsXG4gICAgICBpc1NhZmFyaTogICBpc1NhZmFyaSxcbiAgICAgIGlzV2VjaGF0OiAgIGlzV2VjaGF0LFxuICAgICAgaXNJb3M6ICAgICAgLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxcbiAgICAgIGlzSXBob25lOiAgIC8oaVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICAgIGlzVG91Y2g6ICAgICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgIH07XG4gIH1cbiAgc3RhdGljIGluQXJyYXkoaGF5c3RhY2ssIG5lZWRsZSkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiAmJiAoaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpICE9PSAtMSk7XG4gIH1cbiAgc3RhdGljIHN1cHBvcnQodHlwZSl7XG4gICAgY29uc3QgYnJvd3NlciAgICAgPSBVdGlscy5icm93c2VyU25pZmYoKSxcbiAgICAgICAgaXNPbGRJRSAgICAgPSAoYnJvd3Nlci5pc0lFICYmIGJyb3dzZXIudmVyc2lvbiA8PSA5KSxcbiAgICAgICAgaXNJb3MgICAgICAgPSBicm93c2VyLmlzSW9zLFxuICAgICAgICBpc0lwaG9uZSAgICA9IGJyb3dzZXIuaXNJcGhvbmUsXG4gICAgICAgIGF1ZGlvU3VwcG9ydCA9ICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKS5jYW5QbGF5VHlwZSxcbiAgICAgICAgdmlkZW9TdXBwb3J0ID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpLmNhblBsYXlUeXBlO1xuICAgIGxldCBiYXNpYyAgICAgICA9IGZhbHNlLFxuICAgICAgICBmdWxsICAgICAgICA9IGZhbHNlO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgICAgIGJhc2ljID0gdmlkZW9TdXBwb3J0O1xuICAgICAgICAgICAgZnVsbCAgPSAoYmFzaWMgJiYgKCFpc09sZElFKSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdhdWRpbyc6XG4gICAgICAgICAgICBiYXNpYyA9IGF1ZGlvU3VwcG9ydDtcbiAgICAgICAgICAgIGZ1bGwgID0gKGJhc2ljICYmICFpc09sZElFKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBiYXNpYyA9IChhdWRpb1N1cHBvcnQgJiYgdmlkZW9TdXBwb3J0KTtcbiAgICAgICAgICAgIGZ1bGwgID0gKGJhc2ljICYmICFpc09sZElFKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNpYzogIGJhc2ljLFxuICAgICAgICBmdWxsOiAgIGZ1bGxcbiAgICB9O1xuICB9XG4gIHN0YXRpYyBzdXBwb3J0ZWQodHlwZSl7XG4gICAgY29uc3QgYnJvd3NlciAgICAgPSBVdGlscy5icm93ZXJTbmlmZigpLFxuICAgICAgICBpc09sZElFICAgICA9IChicm93c2VyLmlzSUUgJiYgYnJvd3Nlci52ZXJzaW9uIDw9IDkpLFxuICAgICAgICBpc0lvcyAgICAgICA9IGJyb3dzZXIuaXNJb3MsXG4gICAgICAgIGlzSXBob25lICAgID0gYnJvd3Nlci5pc0lwaG9uZSxcbiAgICAgICAgYXVkaW9TdXBwb3J0ID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpLmNhblBsYXlUeXBlLFxuICAgICAgICB2aWRlb1N1cHBvcnQgPSAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykuY2FuUGxheVR5cGU7XG4gICAgbGV0IGJhc2ljICAgICAgID0gZmFsc2UsXG4gICAgICAgIGZ1bGwgICAgICAgID0gZmFsc2U7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgICAgICAgYmFzaWMgPSB2aWRlb1N1cHBvcnQ7XG4gICAgICAgICAgICBmdWxsICA9IChiYXNpYyAmJiAoIWlzT2xkSUUpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgICAgIGJhc2ljID0gYXVkaW9TdXBwb3J0O1xuICAgICAgICAgICAgZnVsbCAgPSAoYmFzaWMgJiYgIWlzT2xkSUUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJhc2ljID0gKGF1ZGlvU3VwcG9ydCAmJiB2aWRlb1N1cHBvcnQpO1xuICAgICAgICAgICAgZnVsbCAgPSAoYmFzaWMgJiYgIWlzT2xkSUUpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2ljOiAgYmFzaWMsXG4gICAgICAgIGZ1bGw6ICAgZnVsbFxuICAgIH07XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFV0aWxzO1xuZXhwb3J0IGNvbnN0IGlzID0gVXRpbHMuaXMoKTtcbmV4cG9ydCBjb25zdCBzdG9yYWdlU3VwcG9ydCA9IFV0aWxzLnN0b3JhZ2VTdXBwb3J0KCk7XG4iLCJpbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyL2luZGV4JztcbmZ1bmN0aW9uIGluc3RhbGwoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7IGJ1YmJsZXM6IGZhbHNlLCBjYW5jZWxhYmxlOiBmYWxzZSwgZGV0YWlsOiB1bmRlZmluZWQgfTtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG5cbiAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZTtcbiAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG5cbn1cbmluc3RhbGwoKTtcbmxldCB2UGxheWVyID0gUGxheWVyO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkodlBsYXllciwgJ3ZlcnNpb24nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIC8vIHJlcGxhY2VkIGJ5IGJyb3dzZXJpZnktdmVyc2lvbmlmeSB0cmFuc2Zvcm1cbiAgICByZXR1cm4gJ19fVkVSU0lPTl9fJztcbiAgfVxufSk7XG5leHBvcnQgZGVmYXVsdCB2UGxheWVyOyJdfQ=="}