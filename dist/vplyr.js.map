{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/config.js","src/js/dom.js","src/js/event.js","src/js/player.js","src/js/util.js","src/js/vplyr.js"],"names":[],"mappings":"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","file":"vplyr.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export const defaultConfig = {\n  enabled:                 true,\n  debug:                  true,\n  autoplay:               false,\n  loop:                   false,\n  seekTime:               10,\n  volume:                 10,\n  volumeMin:              0,\n  volumeMax:              10,\n  volumeStep:             1,\n  duration:               null,\n  displayDuration:        true,\n  loadSprite:             true,\n  selectors: {\n    html5:                'video, audio',\n    editable:             'input, textarea, select, [contenteditable]',\n    container:            '.vplyr',\n    controls: {\n        container:        null,\n        wrapper:          '.vplyr-controls'\n    },\n    buttons: {\n        seek:             '[data-video=\"seek\"]',\n        play:             '[data-video=\"play\"]',\n        pause:            '[data-video=\"pause\"]',\n        mute:             '[data-video=\"mute\"]',\n        fullscreen:       '[data-video=\"fullscreen\"]'\n    },\n    volume: {\n        input:            '[data-video=\"volume\"]',\n        display:          '.vplyr-volume-display'\n    },\n    progress: {\n        container:        '.vplyr-progress-bar-container',\n        buffer:           '.vplyr-progress-buffer',\n        played:           '.vplyr-progress-played'\n    },\n    currentTime:          '.control-currenttime',\n    duration:             '.control-duration'\n},\n  // Custom control listeners\n  listeners: {\n      seek:               null,\n      play:               null,\n      pause:              null,\n      restart:            null,\n      rewind:             null,\n      forward:            null,\n      mute:               null,\n      volume:             null,\n      captions:           null,\n      fullscreen:         null\n  },\n  classes:{\n\n  },\n  events:                 ['ready', 'ended', 'progress', 'stalled', 'playing', 'waiting', 'canplay', 'canplaythrough', 'loadstart', 'loadeddata', 'loadedmetadata', 'timeupdate', 'volumechange', 'play', 'pause', 'error', 'seeking', 'seeked', 'emptied'],\n  // Logging\n  logPrefix:              '[vPlyr]'\n}\nexport function createDefaultConfig() {\n  return Object.assign({}, defaultConfig);\n}","class Dom {\n  constructor(){\n    this.toggleClass  = this._toggleClass.bind(this);\n    this.removeElement  = this._removeElement.bind(this);\n    this.hasClass = this._hasClass.bind(this);\n    this.injectScript = this._injectScript.bind(this);\n    this.prependChild = this._prependChild.bind(this);\n    this.setAttributes = this._setAttributes.bind(this);\n    this.insertElement= this._insertElement.bind(this);\n    this.getClassname= this._getClassname.bind(this);\n  }\n  _getClassname(selector) {\n    return selector.replace('.', '');\n  }\n  _insertElement(type, parent, attributes) {\n    // Create a new <element>\n    var element = document.createElement(type);\n\n    // Set all passed attributes\n    _setAttributes(element, attributes);\n\n    // Inject the new element\n    _prependChild(parent, element);\n  }\n  _setAttributes(element, attributes) {\n    for (var key in attributes) {\n      element.setAttribute(key, (_is.boolean(attributes[key]) && attributes[key]) ? '' : attributes[key]);\n    }\n  }\n  _prependChild(parent, element) {\n    parent.insertBefore(element, parent.firstChild);\n  }\n  _injectScript(source) {\n    if (document.querySelectorAll('script[src=\"' + source + '\"]').length) {\n        return;\n    }\n\n    var tag = document.createElement('script');\n    tag.src = source;\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  }\n  _hasClass(element, className) {\n    if (element) {\n      if (element.classList) {\n          return element.classList.contains(className);\n      } else {\n          return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test(element.className);\n      }\n    }\n    return false;\n  }\n  _removeElement(element){\n    if (!element) {\n        return;\n    }\n    element.parentNode.removeChild(element);\n  }\n  // Toggle class on an element\n  _toggleClass(element, className, state){\n    if (element) {\n      if (element.classList) {\n        element.classList[state ? 'add' : 'remove'](className);\n      } else {\n        let name = (' ' + element.className + ' ').replace(/\\s+/g, ' ').replace(' ' + className + ' ', '');\n        element.className = name + (state ? ' ' + className : '');\n      }\n    }\n  }\n}\nexport default new Dom();\n","import utils from './util';\n\nclass Event{\n  constructor(){\n    this.onEvent = this._on.bind(this);\n    this.customEvent = this._event.bind(this);\n  }\n  _event(element, type, bubbles, properties) {\n    // Bail if no element\n    if (!element || !type) {\n        return;\n    }\n\n    // Default bubbles to false\n    if (!_is.boolean(bubbles)) {\n        bubbles = false;\n    }\n\n    // Create and dispatch the event\n    var event = new CustomEvent(type, {\n        bubbles:    bubbles,\n        detail:     properties\n    });\n\n    // Dispatch the event\n    element.dispatchEvent(event);\n  }\n  _on(element, events, callback, useCapture) {\n    if (element) {\n      this._toggleListener(element, events, callback, true, useCapture);\n    }\n  }\n\n  _toggleListener(element, events, callback, toggle, useCapture) {\n    var eventList = events.split(' ');\n    // Whether the listener is a capturing listener or not\n    // Default to false\n    if (!utils.is.boolean(useCapture)) {\n      useCapture = false;\n    }\n\n    // If a nodelist is passed, call itself on each node\n    if (element instanceof NodeList) {\n      for (var x = 0; x < element.length; x++) {\n        if (element[x] instanceof Node) {\n          this._toggleListener(element[x], arguments[1], arguments[2], arguments[3]);\n        }\n      }\n      return;\n    }\n\n    // If a single node is passed, bind the event listener\n    for (var i = 0; i < eventList.length; i++) {\n      element[toggle ? 'addEventListener' : 'removeEventListener'](eventList[i], callback, useCapture);\n    }\n  }\n}\nexport default new Event();","'use strict';\n\nimport utils from './util';\nimport doms from './dom';\nimport {defaultConfig as defaults} from './config';\nimport Event from './event';\nclass vPlyr {\n  constructor(media,config){\n    this.api = {};\n    this.\n    this.timers = {};\n    this.media= media;\n    this.config = config;\n    this.__init(config);\n  }\n  __init(){\n    const original = this.media.cloneNode(true);\n    const _log =()=>{\n      this._console('log', arguments) \n    },\n      _warn = ()=>{\n        this._console('warn', arguments)\n      };\n    _log('Config', this.config);\n  }\n  _buildControls() {\n    const html = [];\n    html.push('<div class=\"vplyr-gradient-bottom\"></div>');\n    html.push('<div class=\"vplyr-bottom-container\">');\n    //progress\n    if (utils.inArray(this.config.controls, 'progress')) {\n      // Create progress\n      html.push('<div class=\"vplyr-progress-bar-container\">',\n                '<input type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"0.1\" class=\"vplyr-progress-bar\" data-video=\"seek\"/>',\n                '<progress class=\"vplyr-progress-played\" max=\"100\" role=\"presentation\"></progress>',\n                '<progress class=\"vplyr-progress-buffer\" max=\"100\" value=\"100\">',\n                  '<span>100.00</span>',\n                '</progress>');\n\n      // Close\n      html.push('</div>');\n    }\n    //left-controls\n    html.push('<div class=\"left-controls\">');\n    if (utils.inArray(this.config.controls, 'play')){\n      html.push('<div class=\"btn-controls\">',\n                '<div class=\"btn-wrap\">',\n                '<div class=\"play\" data-video=\"play\"></div>',\n                ' <div class=\"pause\" data-video=\"pause\"></div>',\n                '</div>',\n                '</div>');\n    }\n    // Media current time display\n    html.push('<div class=\"time-mod-controls\">');\n    \n    if (utils.inArray(this.config.controls, 'current-time')){\n      html.push('<div class=\"control-currenttime\">01:29</div>');\n    }\n     if (utils.inArray(this.config.controls, 'duration')){\n      html.push('<div class=\"control-separator\">/</div>',\n          '<div class=\"control-duration\">1:30:52</div>');\n    }\n    html.push('</div>');//end media time\n    \n    html.push('</div>');\n    //right-controls\n    html.push('<div class=\"right-controls\">');\n    html.push('<div class=\"fullscreen-controls\">',\n                '<svg class=\"icon-exit-fullscreen\" data-video=\"fullscreen\">',\n                '<use xlink:href=\"#vplyr-exit-fullscreen\"></use>',\n                ' </svg>',\n                '<svg class=\"icon-enter-fullscreen\">',\n                '<use xlink:href=\"#vplyr-enter-fullscreen\"></use>',\n                '</svg>',\n                '</div>');\n    if (utils.inArray(this.config.controls, 'mute')){\n      html.push('<div class=\"volume-controls\">',\n                '<div class=\"vplyr-volume\" data-video=\"mute\">',\n                '<svg class=\"icon-muted\">',\n                '<use xlink:href=\"#vplyr-muted\"></use>',\n                '</svg>',\n                '<svg class=\"icon-volume\">',\n                '<use xlink:href=\"#vplyr-volume\"></use>',\n                '</svg>',\n                '</div>',\n                '<div class=\"vplyr-volume-progress\">',\n                '<input type=\"range\"  class=\"vplyr-volume-input\"  min=\"0\"  max=\"10\" data-video=\"volume\" value=\"8\">',\n                '<progress class=\"vplyr-volume-display\" max=\"10\" role=\"presentation\"></progress>',\n                '</div>',\n                '</div>');\n    }\n    \n    html.push('</div>');//right controls\n\n    //end closing\n    html.push('</div>');\n\n    return html.join('');\n  }\n  _triggerEvent(element, type, bubbles, properties) {\n    Event.customEvent(element, type, bubbles, utils.extend({}, properties, {\n      vplyr: this.api\n    }));\n  }\n  _console(type, args) {\n    if (this.config.debug && window.console) {\n      args = Array.prototype.slice.call(args);\n\n      if (utils.is.string(this.config.logPrefix) && this.config.logPrefix.length) {\n        args.unshift(this.config.logPrefix);\n      }\n      console[type].apply(console, args);\n    }\n  }\n};\n\n\nclass Player {\n  constructor(targets, options){\n    this.players = [];\n    this.instances = [];\n    this.targets = this._getTargets(targets);\n    this.selector = defaults.selectors.html5;\n    this._init(options);\n  }\n  _getTargets(targets){\n    if (utils.is.string(targets)) {\n      // String selector passed\n      targets = document.querySelectorAll(targets);\n    }  else if (utils.is.htmlElement(targets)) {\n      // Single HTMLElement passed\n      targets = [targets];\n    }  else if (!utils.is.nodeList(targets) && !utils.is.array(targets) && !utils.is.string(targets))  {\n      // No selector passed, possibly options as first argument\n      // If options are the first argument\n      if (utils.is.undefined(options) && utils.is.object(targets)) {\n          options = targets;\n      }\n\n      // Use default selector\n      targets = document.querySelectorAll(this.selector);\n    }\n\n    // Convert NodeList to array\n    if (utils.is.nodeList(targets)) {\n      targets = Array.prototype.slice.call(targets);\n    }\n    return targets;\n  }\n  _init(options){\n    this._playerSetup(options);\n  }\n  _playerSetup(options){\n    // Check if the targets have multiple media elements\n    for (var i = 0; i < this.targets.length; i++) {\n      var target = this.targets[i];\n      // Get children\n      var children = target.querySelectorAll(this.selector);\n\n      // If there's more than one media element child, wrap them\n      if (children.length) {\n        for (var x = 0; x < children.length; x++) {\n          this._add(target, children[x]);\n        }\n      } else if (utils.matches(target, this.selector)) {\n          // Target is media element\n        this._add(target, target);\n      }\n    }\n    this.players.forEach(function(player) {\n      var element     = player.target,\n          media       = player.media,\n          match       = false;\n\n      // The target element can also be the media element\n      if (media === element) {\n          match = true;\n      }\n\n      // Setup a player instance and add to the element\n      // Create instance-specific config\n      var data = {};\n      // Try parsing data attribute config\n      try { data = JSON.parse(element.getAttribute('data-vplyr')); }\n      catch(e) { \n        console.error(e);\n      }\n      var config = utils.extend({}, defaults, options, data);\n\n      // Bail if not enabled\n      if (!config.enabled) {\n          return null;\n      }\n\n      // Create new instance\n      var instance = new vPlyr(media, config);\n      console.log('instance---->',instance.getContainer);\n      // Go to next if setup failed\n      if (!utils.is.object(instance)) {\n          return;\n      }\n\n      // Listen for events if debugging\n      if (config.debug) {\n          var events = config.events.concat(['setup', 'statechange', 'enterfullscreen', 'exitfullscreen', 'captionsenabled', 'captionsdisabled']);\n\n          Event.onEvent(instance.getContainer(), events.join(' '), function(event) {\n              console.log([config.logPrefix, 'event:', event.type].join(' '), event.detail.vplyr);\n          });\n      }\n\n      // Callback\n      Event.customEvent(instance.getContainer(), 'setup', true, {\n        vplyr: instance\n      });\n\n      // Add to return array even if it's already setup\n      this.instances.push(instance);\n    });\n  }\n  // Add to container list\n  _add(target, media) {\n    if (!doms.hasClass(media, defaults.classes.hook)) {\n      this.players.push({\n        // Always wrap in a <div> for styling\n        //container:  _wrap(media, document.createElement('div')),\n        // Could be a container or the media itself\n        target:     target,\n        // This should be the <video>, <audio> or <div> (YouTube/Vimeo)\n        media:      media\n      });\n    }\n  }\n}\nexport default Player;","class Utils {\n  constructor(){\n    this.browserSniff=this._browserSniff.bind(this)();\n    this.is = this._is.bind(this)();\n    this.storageSupport = this._storageSupport.bind(this)();\n    this.extend  = this._extend.bind(this);\n    this.matches  = this._matches.bind(this);\n    this.inArray = this._inArray.bind(this);\n  }\n  _inArray(haystack, needle) {\n    return Array.prototype.indexOf && (haystack.indexOf(needle) !== -1);\n  }\n\n  _matches(element, selector) {\n    var p = Element.prototype;\n\n    var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\n        return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n    };\n\n    return f.call(element, selector);\n  }\n  _extend() {\n    // Get arguments\n    let objects = arguments;\n\n    // Bail if nothing to merge\n    if (!objects.length) {\n        return;\n    }\n\n    // Return first if specified but nothing to merge\n    if (objects.length === 1) {\n        return objects[0];\n    }\n\n    // First object is the destination\n    let destination = Array.prototype.shift.call(objects),\n        length      = objects.length;\n\n    // Loop through all objects to merge\n    for (let i = 0; i < length; i++) {\n        let source = objects[i];\n\n      for (let property in source) {\n        if (source[property] && \n          source[property].constructor &&\n          source[property].constructor === Object\n        ) {\n          destination[property] = destination[property] || {};\n          this._extend(destination[property], source[property]);\n        } else {\n          destination[property] = source[property];\n        }\n      }\n    }\n\n    return destination;\n  }\n  //remove an element\n  \n  _storageSupport(){\n    if (!('localStorage' in window)) {\n      return false;\n    }\n\n    // Try to use it (it might be disabled, e.g. user is in private/porn mode)\n    // see: https://github.com/Selz/plyr/issues/131\n    try {\n      // Add test item\n      window.localStorage.setItem('___test', 'OK');\n\n      // Get the test item\n      let result = window.localStorage.getItem('___test');\n\n      // Clean up\n      window.localStorage.removeItem('___test');\n\n      // Check if value matches\n      return (result === 'OK');\n    }\n    catch (e) {\n      return false;\n    }\n\n    return false;\n  }\n  \n  _browserSniff(){\n    let ua = navigator.userAgent,\n      name = navigator.appName,\n      fullVersion = '' + parseFloat(navigator.appVersion),\n      majorVersion = parseInt(navigator.appVersion, 10),\n      nameOffset,\n      verOffset,\n      ix,\n      isIE = false,\n      isFirefox = false,\n      isChrome = false,\n      isWechat = false,\n      isSafari = false;\n\n    if ((navigator.appVersion.indexOf('Windows NT') !== -1) && (navigator.appVersion.indexOf('rv:11') !== -1)) {\n      // MSIE 11\n      isIE = true;\n      name = 'IE';\n      fullVersion = '11';\n    } else if ((verOffset = ua.indexOf('MSIE')) !== -1) {\n      // MSIE\n      isIE = true;\n      name = 'IE';\n      fullVersion = ua.substring(verOffset + 5);\n    }else if ((verOffset = ua.indexOf('micromessenger')) !== -1) {\n      // WeChat\n      isWechat = true;\n      name = 'WeChat';\n      fullVersion = ua.substring(verOffset + 15);\n    }else if ((verOffset = ua.indexOf('Chrome')) !== -1) {\n      // Chrome\n      isChrome = true;\n      name = 'Chrome';\n      fullVersion = ua.substring(verOffset + 7);\n    } else if ((verOffset = ua.indexOf('Safari')) !== -1) {\n      // Safari\n      isSafari = true;\n      name = 'Safari';\n      fullVersion = ua.substring(verOffset + 7);\n      if ((verOffset = ua.indexOf('Version')) !== -1) {\n          fullVersion = ua.substring(verOffset + 8);\n      }\n    } else if ((verOffset = ua.indexOf('Firefox')) !== -1) {\n      // Firefox\n      isFirefox = true;\n      name = 'Firefox';\n      fullVersion = ua.substring(verOffset + 8);\n    } else if ((nameOffset = ua.lastIndexOf(' ') + 1) < (verOffset = ua.lastIndexOf('/'))) {\n      // In most other browsers, 'name/version' is at the end of userAgent\n      name = ua.substring(nameOffset,verOffset);\n      fullVersion = ua.substring(verOffset + 1);\n\n      if (name.toLowerCase() === name.toUpperCase()) {\n          name = navigator.appName;\n      }\n    }\n\n    // Trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n      fullVersion = fullVersion.substring(0, ix);\n    }\n\n    // Get major version\n    majorVersion = parseInt('' + fullVersion, 10);\n    if (isNaN(majorVersion)) {\n      fullVersion = '' + parseFloat(navigator.appVersion);\n      majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    // Return data\n    return {\n      name:       name,\n      version:    majorVersion,\n      isIE:       isIE,\n      isFirefox:  isFirefox,\n      isChrome:   isChrome,\n      isSafari:   isSafari,\n      isWeChat:   isWechat,\n      isIos:      /(iPad|iPhone|iPod)/g.test(navigator.platform),\n      isIphone:   /(iPhone|iPod)/g.test(navigator.userAgent),\n      isTouch:    'ontouchstart' in document.documentElement\n    };\n  }\n  _is(){\n    return {\n      object: function(input) {\n        return input !== null && typeof(input) === 'object';\n      },\n      array: function(input) {\n        return input !== null && (typeof(input) === 'object' && input.constructor === Array);\n      },\n      number: function(input) {\n        return input !== null && (typeof(input) === 'number' && !isNaN(input - 0) || (typeof input === 'object' && input.constructor === Number));\n      },\n      string: function(input) {\n        return input !== null && (typeof input === 'string' || (typeof input === 'object' && input.constructor === String));\n      },\n      boolean: function(input) {\n        return input !== null && typeof input === 'boolean';\n      },\n      nodeList: function(input) {\n        return input !== null && input instanceof NodeList;\n      },\n      htmlElement: function(input) {\n        return input !== null && input instanceof HTMLElement;\n      },\n      function: function(input) {\n        return input !== null && typeof input === 'function';\n      },\n      undefined: function(input) {\n        return input !== null && typeof input === 'undefined';\n      }\n    }\n  }\n}\nexport default new Utils();","import Player from './player';\nconsole.log(new Player('.js-player',{}));"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RvbS5qcyIsInNyYy9qcy9ldmVudC5qcyIsInNyYy9qcy9wbGF5ZXIuanMiLCJzcmMvanMvdXRpbC5qcyIsInNyYy9qcy92cGx5ci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O1FDNERnQixtQixHQUFBLG1CO0FBNURULElBQU0sd0NBQWdCO0FBQzNCLGFBQXlCLElBREU7QUFFM0IsV0FBd0IsSUFGRztBQUczQixjQUF3QixLQUhHO0FBSTNCLFVBQXdCLEtBSkc7QUFLM0IsY0FBd0IsRUFMRztBQU0zQixZQUF3QixFQU5HO0FBTzNCLGVBQXdCLENBUEc7QUFRM0IsZUFBd0IsRUFSRztBQVMzQixnQkFBd0IsQ0FURztBQVUzQixjQUF3QixJQVZHO0FBVzNCLHFCQUF3QixJQVhHO0FBWTNCLGdCQUF3QixJQVpHO0FBYTNCLGVBQVc7QUFDVCxlQUFzQixjQURiO0FBRVQsa0JBQXNCLDRDQUZiO0FBR1QsbUJBQXNCLFFBSGI7QUFJVCxrQkFBVTtBQUNOLHVCQUFrQixJQURaO0FBRU4scUJBQWtCO0FBRlosU0FKRDtBQVFULGlCQUFTO0FBQ0wsa0JBQWtCLHFCQURiO0FBRUwsa0JBQWtCLHFCQUZiO0FBR0wsbUJBQWtCLHNCQUhiO0FBSUwsa0JBQWtCLHFCQUpiO0FBS0wsd0JBQWtCO0FBTGIsU0FSQTtBQWVULGdCQUFRO0FBQ0osbUJBQWtCLHVCQURkO0FBRUoscUJBQWtCO0FBRmQsU0FmQztBQW1CVCxrQkFBVTtBQUNOLHVCQUFrQiwrQkFEWjtBQUVOLG9CQUFrQix3QkFGWjtBQUdOLG9CQUFrQjtBQUhaLFNBbkJEO0FBd0JULHFCQUFzQixzQkF4QmI7QUF5QlQsa0JBQXNCO0FBekJiLEtBYmdCO0FBd0MzQjtBQUNBLGVBQVc7QUFDUCxjQUFvQixJQURiO0FBRVAsY0FBb0IsSUFGYjtBQUdQLGVBQW9CLElBSGI7QUFJ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TyxVQUFVLElBQVYsS0FBbUIsT0FBTyxLQUFQLEtBQWlCLFFBQWpCLElBQThCLFFBQU8sS0FBUCx5Q0FBTyxLQUFQLE9BQWlCLFFBQWpCLElBQTZCLE1BQU0sV0FBTixLQUFzQixNQUFwRyxDQUFQO0FBQ0QsU0FaSTtBQWFMLGlCQUFTLGlCQUFTLEtBQVQsRUFBZ0I7QUFDdkIsaUJBQU8sVUFBVSxJQUFWLElBQWtCLE9BQU8sS0FBUCxLQUFpQixTQUExQztBQUNELFNBZkk7QUFnQkwsa0JBQVUsa0JBQVMsS0FBVCxFQUFnQjtBQUN4QixpQkFBTyxVQUFVLElBQVYsSUFBa0IsaUJBQWlCLFFBQTFDO0FBQ0QsU0FsQkk7QUFtQkwscUJBQWEscUJBQVMsS0FBVCxFQUFnQjtBQUMzQixpQkFBTyxVQUFVLElBQVYsSUFBa0IsaUJBQWlCLFdBQTFDO0FBQ0QsU0FyQkk7QUFzQkwsa0JBQVUsbUJBQVMsS0FBVCxFQUFnQjtBQUN4QixpQkFBTyxVQUFVLElBQVYsSUFBa0IsT0FBTyxLQUFQLEtBQWlCLFVBQTFDO0FBQ0QsU0F4Qkk7QUF5QkwsbUJBQVcsbUJBQVMsS0FBVCxFQUFnQjtBQUN6QixpQkFBTyxVQUFVLElBQVYsSUFBa0IsT0FBTyxLQUFQLEtBQWlCLFdBQTFDO0FBQ0Q7QUEzQkksT0FBUDtBQTZCRDs7Ozs7O2tCQUVZLElBQUksS0FBSixFOzs7OztBQzlNZjs7Ozs7O0FBQ0EsUUFBUSxHQUFSLENBQVkscUJBQVcsWUFBWCxFQUF3QixFQUF4QixDQUFaIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xuICBlbmFibGVkOiAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgZGVidWc6ICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgYXV0b3BsYXk6ICAgICAgICAgICAgICAgZmFsc2UsXG4gIGxvb3A6ICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICBzZWVrVGltZTogICAgICAgICAgICAgICAxMCxcbiAgdm9sdW1lOiAgICAgICAgICAgICAgICAgMTAsXG4gIHZvbHVtZU1pbjogICAgICAgICAgICAgIDAsXG4gIHZvbHVtZU1heDogICAgICAgICAgICAgIDEwLFxuICB2b2x1bWVTdGVwOiAgICAgICAgICAgICAxLFxuICBkdXJhdGlvbjogICAgICAgICAgICAgICBudWxsLFxuICBkaXNwbGF5RHVyYXRpb246ICAgICAgICB0cnVlLFxuICBsb2FkU3ByaXRlOiAgICAgICAgICAgICB0cnVlLFxuICBzZWxlY3RvcnM6IHtcbiAgICBodG1sNTogICAgICAgICAgICAgICAgJ3ZpZGVvLCBhdWRpbycsXG4gICAgZWRpdGFibGU6ICAgICAgICAgICAgICdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgW2NvbnRlbnRlZGl0YWJsZV0nLFxuICAgIGNvbnRhaW5lcjogICAgICAgICAgICAnLnZwbHlyJyxcbiAgICBjb250cm9sczoge1xuICAgICAgICBjb250YWluZXI6ICAgICAgICBudWxsLFxuICAgICAgICB3cmFwcGVyOiAgICAgICAgICAnLnZwbHlyLWNvbnRyb2xzJ1xuICAgIH0sXG4gICAgYnV0dG9uczoge1xuICAgICAgICBzZWVrOiAgICAgICAgICAgICAnW2RhdGEtdmlkZW89XCJzZWVrXCJdJyxcbiAgICAgICAgcGxheTogICAgICAgICAgICAgJ1tkYXRhLXZpZGVvPVwicGxheVwiXScsXG4gICAgICAgIHBhdXNlOiAgICAgICAgICAgICdbZGF0YS12aWRlbz1cInBhdXNlXCJdJyxcbiAgICAgICAgbXV0ZTogICAgICAgICAgICAgJ1tkYXRhLXZpZGVvPVwibXV0ZVwiXScsXG4gICAgICAgIGZ1bGxzY3JlZW46ICAgICAgICdbZGF0YS12aWRlbz1cImZ1bGxzY3JlZW5cIl0nXG4gICAgfSxcbiAgICB2b2x1bWU6IHtcbiAgICAgICAgaW5wdXQ6ICAgICAgICAgICAgJ1tkYXRhLXZpZGVvPVwidm9sdW1lXCJdJyxcbiAgICAgICAgZGlzcGxheTogICAgICAgICAgJy52cGx5ci12b2x1bWUtZGlzcGxheSdcbiAgICB9LFxuICAgIHByb2dyZXNzOiB7XG4gICAgICAgIGNvbnRhaW5lcjogICAgICAgICcudnBseXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lcicsXG4gICAgICAgIGJ1ZmZlcjogICAgICAgICAgICcudnBseXItcHJvZ3Jlc3MtYnVmZmVyJyxcbiAgICAgICAgcGxheWVkOiAgICAgICAgICAgJy52cGx5ci1wcm9ncmVzcy1wbGF5ZWQnXG4gICAgfSxcbiAgICBjdXJyZW50VGltZTogICAgICAgICAgJy5jb250cm9sLWN1cnJlbnR0aW1lJyxcbiAgICBkdXJhdGlvbjogICAgICAgICAgICAgJy5jb250cm9sLWR1cmF0aW9uJ1xufSxcbiAgLy8gQ3VzdG9tIGNvbnRyb2wgbGlzdGVuZXJzXG4gIGxpc3RlbmVyczoge1xuICAgICAgc2VlazogICAgICAgICAgICAgICBudWxsLFxuICAgICAgcGxheTogICAgICAgICAgICAgICBudWxsLFxuICAgICAgcGF1c2U6ICAgICAgICAgICAgICBudWxsLFxuICAgICAgcmVzdGFydDogICAgICAgICAgICBudWxsLFxuICAgICAgcmV3aW5kOiAgICAgICAgICAgICBudWxsLFxuICAgICAgZm9yd2FyZDogICAgICAgICAgICBudWxsLFxuICAgICAgbXV0ZTogICAgICAgICAgICAgICBudWxsLFxuICAgICAgdm9sdW1lOiAgICAgICAgICAgICBudWxsLFxuICAgICAgY2FwdGlvbnM6ICAgICAgICAgICBudWxsLFxuICAgICAgZnVsbHNjcmVlbjogICAgICAgICBudWxsXG4gIH0sXG4gIGNsYXNzZXM6e1xuXG4gIH0sXG4gIGV2ZW50czogICAgICAgICAgICAgICAgIFsncmVhZHknLCAnZW5kZWQnLCAncHJvZ3Jlc3MnLCAnc3RhbGxlZCcsICdwbGF5aW5nJywgJ3dhaXRpbmcnLCAnY2FucGxheScsICdjYW5wbGF5dGhyb3VnaCcsICdsb2Fkc3RhcnQnLCAnbG9hZGVkZGF0YScsICdsb2FkZWRtZXRhZGF0YScsICd0aW1ldXBkYXRlJywgJ3ZvbHVtZWNoYW5nZScsICdwbGF5JywgJ3BhdXNlJywgJ2Vycm9yJywgJ3NlZWtpbmcnLCAnc2Vla2VkJywgJ2VtcHRpZWQnXSxcbiAgLy8gTG9nZ2luZ1xuICBsb2dQcmVmaXg6ICAgICAgICAgICAgICAnW3ZQbHlyXSdcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0Q29uZmlnKCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZyk7XG59IiwiY2xhc3MgRG9tIHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLnRvZ2dsZUNsYXNzICA9IHRoaXMuX3RvZ2dsZUNsYXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW1vdmVFbGVtZW50ICA9IHRoaXMuX3JlbW92ZUVsZW1lbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhc0NsYXNzID0gdGhpcy5faGFzQ2xhc3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluamVjdFNjcmlwdCA9IHRoaXMuX2luamVjdFNjcmlwdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJlcGVuZENoaWxkID0gdGhpcy5fcHJlcGVuZENoaWxkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVzID0gdGhpcy5fc2V0QXR0cmlidXRlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW5zZXJ0RWxlbWVudD0gdGhpcy5faW5zZXJ0RWxlbWVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0Q2xhc3NuYW1lPSB0aGlzLl9nZXRDbGFzc25hbWUuYmluZCh0aGlzKTtcbiAgfVxuICBfZ2V0Q2xhc3NuYW1lKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoJy4nLCAnJyk7XG4gIH1cbiAgX2luc2VydEVsZW1lbnQodHlwZSwgcGFyZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IDxlbGVtZW50PlxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgIC8vIFNldCBhbGwgcGFzc2VkIGF0dHJpYnV0ZXNcbiAgICBfc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKTtcblxuICAgIC8vIEluamVjdCB0aGUgbmV3IGVsZW1lbnRcbiAgICBfcHJlcGVuZENoaWxkKHBhcmVudCwgZWxlbWVudCk7XG4gIH1cbiAgX3NldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIChfaXMuYm9vbGVhbihhdHRyaWJ1dGVzW2tleV0pICYmIGF0dHJpYnV0ZXNba2V5XSkgPyAnJyA6IGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfVxuICB9XG4gIF9wcmVwZW5kQ2hpbGQocGFyZW50LCBlbGVtZW50KSB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH1cbiAgX2luamVjdFNjcmlwdChzb3VyY2UpIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3NyYz1cIicgKyBzb3VyY2UgKyAnXCJdJykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgdGFnLnNyYyA9IHNvdXJjZTtcbiAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gIH1cbiAgX2hhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhcXFxcc3xeKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzfCQpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBfcmVtb3ZlRWxlbWVudChlbGVtZW50KXtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbiAgLy8gVG9nZ2xlIGNsYXNzIG9uIGFuIGVsZW1lbnRcbiAgX3RvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSwgc3RhdGUpe1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3Rbc3RhdGUgPyAnYWRkJyA6ICdyZW1vdmUnXShjbGFzc05hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5hbWUgPSAoJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoL1xccysvZywgJyAnKS5yZXBsYWNlKCcgJyArIGNsYXNzTmFtZSArICcgJywgJycpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5hbWUgKyAoc3RhdGUgPyAnICcgKyBjbGFzc05hbWUgOiAnJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgRG9tKCk7XG4iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlsJztcblxuY2xhc3MgRXZlbnR7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5vbkV2ZW50ID0gdGhpcy5fb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmN1c3RvbUV2ZW50ID0gdGhpcy5fZXZlbnQuYmluZCh0aGlzKTtcbiAgfVxuICBfZXZlbnQoZWxlbWVudCwgdHlwZSwgYnViYmxlcywgcHJvcGVydGllcykge1xuICAgIC8vIEJhaWwgaWYgbm8gZWxlbWVudFxuICAgIGlmICghZWxlbWVudCB8fCAhdHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBidWJibGVzIHRvIGZhbHNlXG4gICAgaWYgKCFfaXMuYm9vbGVhbihidWJibGVzKSkge1xuICAgICAgICBidWJibGVzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuZCBkaXNwYXRjaCB0aGUgZXZlbnRcbiAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgICBidWJibGVzOiAgICBidWJibGVzLFxuICAgICAgICBkZXRhaWw6ICAgICBwcm9wZXJ0aWVzXG4gICAgfSk7XG5cbiAgICAvLyBEaXNwYXRjaCB0aGUgZXZlbnRcbiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG4gIF9vbihlbGVtZW50LCBldmVudHMsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3RvZ2dsZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHRydWUsIHVzZUNhcHR1cmUpO1xuICAgIH1cbiAgfVxuXG4gIF90b2dnbGVMaXN0ZW5lcihlbGVtZW50LCBldmVudHMsIGNhbGxiYWNrLCB0b2dnbGUsIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgZXZlbnRMaXN0ID0gZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgLy8gV2hldGhlciB0aGUgbGlzdGVuZXIgaXMgYSBjYXB0dXJpbmcgbGlzdGVuZXIgb3Igbm90XG4gICAgLy8gRGVmYXVsdCB0byBmYWxzZVxuICAgIGlmICghdXRpbHMuaXMuYm9vbGVhbih1c2VDYXB0dXJlKSkge1xuICAgICAgdXNlQ2FwdHVyZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIGEgbm9kZWxpc3QgaXMgcGFzc2VkLCBjYWxsIGl0c2VsZiBvbiBlYWNoIG5vZGVcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGVsZW1lbnQubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgaWYgKGVsZW1lbnRbeF0gaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgdGhpcy5fdG9nZ2xlTGlzdGVuZXIoZWxlbWVudFt4XSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHNpbmdsZSBub2RlIGlzIHBhc3NlZCwgYmluZCB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgZWxlbWVudFt0b2dnbGUgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lciddKGV2ZW50TGlzdFtpXSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IEV2ZW50KCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlsJztcbmltcG9ydCBkb21zIGZyb20gJy4vZG9tJztcbmltcG9ydCB7ZGVmYXVsdENvbmZpZyBhcyBkZWZhdWx0c30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnO1xuY2xhc3MgdlBseXIge1xuICBjb25zdHJ1Y3RvcihtZWRpYSxjb25maWcpe1xuICAgIHRoaXMuYXBpID0ge307XG4gICAgdGhpcy5cbiAgICB0aGlzLnRpbWVycyA9IHt9O1xuICAgIHRoaXMubWVkaWE9IG1lZGlhO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX19pbml0KGNvbmZpZyk7XG4gIH1cbiAgX19pbml0KCl7XG4gICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLm1lZGlhLmNsb25lTm9kZSh0cnVlKTtcbiAgICBjb25zdCBfbG9nID0oKT0+e1xuICAgICAgdGhpcy5fY29uc29sZSgnbG9nJywgYXJndW1lbnRzKSBcbiAgICB9LFxuICAgICAgX3dhcm4gPSAoKT0+e1xuICAgICAgICB0aGlzLl9jb25zb2xlKCd3YXJuJywgYXJndW1lbnRzKVxuICAgICAgfTtcbiAgICBfbG9nKCdDb25maWcnLCB0aGlzLmNvbmZpZyk7XG4gIH1cbiAgX2J1aWxkQ29udHJvbHMoKSB7XG4gICAgY29uc3QgaHRtbCA9IFtdO1xuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZwbHlyLWdyYWRpZW50LWJvdHRvbVwiPjwvZGl2PicpO1xuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZwbHlyLWJvdHRvbS1jb250YWluZXJcIj4nKTtcbiAgICAvL3Byb2dyZXNzXG4gICAgaWYgKHV0aWxzLmluQXJyYXkodGhpcy5jb25maWcuY29udHJvbHMsICdwcm9ncmVzcycpKSB7XG4gICAgICAvLyBDcmVhdGUgcHJvZ3Jlc3NcbiAgICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZwbHlyLXByb2dyZXNzLWJhci1jb250YWluZXJcIj4nLFxuICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMFwiIHN0ZXA9XCIwLjFcIiBjbGFzcz1cInZwbHlyLXByb2dyZXNzLWJhclwiIGRhdGEtdmlkZW89XCJzZWVrXCIvPicsXG4gICAgICAgICAgICAgICAgJzxwcm9ncmVzcyBjbGFzcz1cInZwbHlyLXByb2dyZXNzLXBsYXllZFwiIG1heD1cIjEwMFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3Byb2dyZXNzPicsXG4gICAgICAgICAgICAgICAgJzxwcm9ncmVzcyBjbGFzcz1cInZwbHlyLXByb2dyZXNzLWJ1ZmZlclwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMTAwXCI+JyxcbiAgICAgICAgICAgICAgICAgICc8c3Bhbj4xMDAuMDA8L3NwYW4+JyxcbiAgICAgICAgICAgICAgICAnPC9wcm9ncmVzcz4nKTtcblxuICAgICAgLy8gQ2xvc2VcbiAgICAgIGh0bWwucHVzaCgnPC9kaXY+Jyk7XG4gICAgfVxuICAgIC8vbGVmdC1jb250cm9sc1xuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cImxlZnQtY29udHJvbHNcIj4nKTtcbiAgICBpZiAodXRpbHMuaW5BcnJheSh0aGlzLmNvbmZpZy5jb250cm9scywgJ3BsYXknKSl7XG4gICAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJidG4tY29udHJvbHNcIj4nLFxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYnRuLXdyYXBcIj4nLFxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGxheVwiIGRhdGEtdmlkZW89XCJwbGF5XCI+PC9kaXY+JyxcbiAgICAgICAgICAgICAgICAnIDxkaXYgY2xhc3M9XCJwYXVzZVwiIGRhdGEtdmlkZW89XCJwYXVzZVwiPjwvZGl2PicsXG4gICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICAgICAgJzwvZGl2PicpO1xuICAgIH1cbiAgICAvLyBNZWRpYSBjdXJyZW50IHRpbWUgZGlzcGxheVxuICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInRpbWUtbW9kLWNvbnRyb2xzXCI+Jyk7XG4gICAgXG4gICAgaWYgKHV0aWxzLmluQXJyYXkodGhpcy5jb25maWcuY29udHJvbHMsICdjdXJyZW50LXRpbWUnKSl7XG4gICAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJjb250cm9sLWN1cnJlbnR0aW1lXCI+MDE6Mjk8L2Rpdj4nKTtcbiAgICB9XG4gICAgIGlmICh1dGlscy5pbkFycmF5KHRoaXMuY29uZmlnLmNvbnRyb2xzLCAnZHVyYXRpb24nKSl7XG4gICAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJjb250cm9sLXNlcGFyYXRvclwiPi88L2Rpdj4nLFxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udHJvbC1kdXJhdGlvblwiPjE6MzA6NTI8L2Rpdj4nKTtcbiAgICB9XG4gICAgaHRtbC5wdXNoKCc8L2Rpdj4nKTsvL2VuZCBtZWRpYSB0aW1lXG4gICAgXG4gICAgaHRtbC5wdXNoKCc8L2Rpdj4nKTtcbiAgICAvL3JpZ2h0LWNvbnRyb2xzXG4gICAgaHRtbC5wdXNoKCc8ZGl2IGNsYXNzPVwicmlnaHQtY29udHJvbHNcIj4nKTtcbiAgICBodG1sLnB1c2goJzxkaXYgY2xhc3M9XCJmdWxsc2NyZWVuLWNvbnRyb2xzXCI+JyxcbiAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cImljb24tZXhpdC1mdWxsc2NyZWVuXCIgZGF0YS12aWRlbz1cImZ1bGxzY3JlZW5cIj4nLFxuICAgICAgICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItZXhpdC1mdWxsc2NyZWVuXCI+PC91c2U+JyxcbiAgICAgICAgICAgICAgICAnIDwvc3ZnPicsXG4gICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uLWVudGVyLWZ1bGxzY3JlZW5cIj4nLFxuICAgICAgICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjdnBseXItZW50ZXItZnVsbHNjcmVlblwiPjwvdXNlPicsXG4gICAgICAgICAgICAgICAgJzwvc3ZnPicsXG4gICAgICAgICAgICAgICAgJzwvZGl2PicpO1xuICAgIGlmICh1dGlscy5pbkFycmF5KHRoaXMuY29uZmlnLmNvbnRyb2xzLCAnbXV0ZScpKXtcbiAgICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cInZvbHVtZS1jb250cm9sc1wiPicsXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci12b2x1bWVcIiBkYXRhLXZpZGVvPVwibXV0ZVwiPicsXG4gICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uLW11dGVkXCI+JyxcbiAgICAgICAgICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLW11dGVkXCI+PC91c2U+JyxcbiAgICAgICAgICAgICAgICAnPC9zdmc+JyxcbiAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cImljb24tdm9sdW1lXCI+JyxcbiAgICAgICAgICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiI3ZwbHlyLXZvbHVtZVwiPjwvdXNlPicsXG4gICAgICAgICAgICAgICAgJzwvc3ZnPicsXG4gICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ2cGx5ci12b2x1bWUtcHJvZ3Jlc3NcIj4nLFxuICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cInJhbmdlXCIgIGNsYXNzPVwidnBseXItdm9sdW1lLWlucHV0XCIgIG1pbj1cIjBcIiAgbWF4PVwiMTBcIiBkYXRhLXZpZGVvPVwidm9sdW1lXCIgdmFsdWU9XCI4XCI+JyxcbiAgICAgICAgICAgICAgICAnPHByb2dyZXNzIGNsYXNzPVwidnBseXItdm9sdW1lLWRpc3BsYXlcIiBtYXg9XCIxMFwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3Byb2dyZXNzPicsXG4gICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICAgICAgJzwvZGl2PicpO1xuICAgIH1cbiAgICBcbiAgICBodG1sLnB1c2goJzwvZGl2PicpOy8vcmlnaHQgY29udHJvbHNcblxuICAgIC8vZW5kIGNsb3NpbmdcbiAgICBodG1sLnB1c2goJzwvZGl2PicpO1xuXG4gICAgcmV0dXJuIGh0bWwuam9pbignJyk7XG4gIH1cbiAgX3RyaWdnZXJFdmVudChlbGVtZW50LCB0eXBlLCBidWJibGVzLCBwcm9wZXJ0aWVzKSB7XG4gICAgRXZlbnQuY3VzdG9tRXZlbnQoZWxlbWVudCwgdHlwZSwgYnViYmxlcywgdXRpbHMuZXh0ZW5kKHt9LCBwcm9wZXJ0aWVzLCB7XG4gICAgICB2cGx5cjogdGhpcy5hcGlcbiAgICB9KSk7XG4gIH1cbiAgX2NvbnNvbGUodHlwZSwgYXJncykge1xuICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1ZyAmJiB3aW5kb3cuY29uc29sZSkge1xuICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpO1xuXG4gICAgICBpZiAodXRpbHMuaXMuc3RyaW5nKHRoaXMuY29uZmlnLmxvZ1ByZWZpeCkgJiYgdGhpcy5jb25maWcubG9nUHJlZml4Lmxlbmd0aCkge1xuICAgICAgICBhcmdzLnVuc2hpZnQodGhpcy5jb25maWcubG9nUHJlZml4KTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGVbdHlwZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgfVxuICB9XG59O1xuXG5cbmNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yKHRhcmdldHMsIG9wdGlvbnMpe1xuICAgIHRoaXMucGxheWVycyA9IFtdO1xuICAgIHRoaXMuaW5zdGFuY2VzID0gW107XG4gICAgdGhpcy50YXJnZXRzID0gdGhpcy5fZ2V0VGFyZ2V0cyh0YXJnZXRzKTtcbiAgICB0aGlzLnNlbGVjdG9yID0gZGVmYXVsdHMuc2VsZWN0b3JzLmh0bWw1O1xuICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XG4gIH1cbiAgX2dldFRhcmdldHModGFyZ2V0cyl7XG4gICAgaWYgKHV0aWxzLmlzLnN0cmluZyh0YXJnZXRzKSkge1xuICAgICAgLy8gU3RyaW5nIHNlbGVjdG9yIHBhc3NlZFxuICAgICAgdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0cyk7XG4gICAgfSAgZWxzZSBpZiAodXRpbHMuaXMuaHRtbEVsZW1lbnQodGFyZ2V0cykpIHtcbiAgICAgIC8vIFNpbmdsZSBIVE1MRWxlbWVudCBwYXNzZWRcbiAgICAgIHRhcmdldHMgPSBbdGFyZ2V0c107XG4gICAgfSAgZWxzZSBpZiAoIXV0aWxzLmlzLm5vZGVMaXN0KHRhcmdldHMpICYmICF1dGlscy5pcy5hcnJheSh0YXJnZXRzKSAmJiAhdXRpbHMuaXMuc3RyaW5nKHRhcmdldHMpKSAge1xuICAgICAgLy8gTm8gc2VsZWN0b3IgcGFzc2VkLCBwb3NzaWJseSBvcHRpb25zIGFzIGZpcnN0IGFyZ3VtZW50XG4gICAgICAvLyBJZiBvcHRpb25zIGFyZSB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgIGlmICh1dGlscy5pcy51bmRlZmluZWQob3B0aW9ucykgJiYgdXRpbHMuaXMub2JqZWN0KHRhcmdldHMpKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHRhcmdldHM7XG4gICAgICB9XG5cbiAgICAgIC8vIFVzZSBkZWZhdWx0IHNlbGVjdG9yXG4gICAgICB0YXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IE5vZGVMaXN0IHRvIGFycmF5XG4gICAgaWYgKHV0aWxzLmlzLm5vZGVMaXN0KHRhcmdldHMpKSB7XG4gICAgICB0YXJnZXRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGFyZ2V0cyk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRzO1xuICB9XG4gIF9pbml0KG9wdGlvbnMpe1xuICAgIHRoaXMuX3BsYXllclNldHVwKG9wdGlvbnMpO1xuICB9XG4gIF9wbGF5ZXJTZXR1cChvcHRpb25zKXtcbiAgICAvLyBDaGVjayBpZiB0aGUgdGFyZ2V0cyBoYXZlIG11bHRpcGxlIG1lZGlhIGVsZW1lbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldHNbaV07XG4gICAgICAvLyBHZXQgY2hpbGRyZW5cbiAgICAgIHZhciBjaGlsZHJlbiA9IHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpO1xuXG4gICAgICAvLyBJZiB0aGVyZSdzIG1vcmUgdGhhbiBvbmUgbWVkaWEgZWxlbWVudCBjaGlsZCwgd3JhcCB0aGVtXG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY2hpbGRyZW4ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICB0aGlzLl9hZGQodGFyZ2V0LCBjaGlsZHJlblt4XSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodXRpbHMubWF0Y2hlcyh0YXJnZXQsIHRoaXMuc2VsZWN0b3IpKSB7XG4gICAgICAgICAgLy8gVGFyZ2V0IGlzIG1lZGlhIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fYWRkKHRhcmdldCwgdGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICB2YXIgZWxlbWVudCAgICAgPSBwbGF5ZXIudGFyZ2V0LFxuICAgICAgICAgIG1lZGlhICAgICAgID0gcGxheWVyLm1lZGlhLFxuICAgICAgICAgIG1hdGNoICAgICAgID0gZmFsc2U7XG5cbiAgICAgIC8vIFRoZSB0YXJnZXQgZWxlbWVudCBjYW4gYWxzbyBiZSB0aGUgbWVkaWEgZWxlbWVudFxuICAgICAgaWYgKG1lZGlhID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCBhIHBsYXllciBpbnN0YW5jZSBhbmQgYWRkIHRvIHRoZSBlbGVtZW50XG4gICAgICAvLyBDcmVhdGUgaW5zdGFuY2Utc3BlY2lmaWMgY29uZmlnXG4gICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgLy8gVHJ5IHBhcnNpbmcgZGF0YSBhdHRyaWJ1dGUgY29uZmlnXG4gICAgICB0cnkgeyBkYXRhID0gSlNPTi5wYXJzZShlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12cGx5cicpKTsgfVxuICAgICAgY2F0Y2goZSkgeyBcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIH1cbiAgICAgIHZhciBjb25maWcgPSB1dGlscy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zLCBkYXRhKTtcblxuICAgICAgLy8gQmFpbCBpZiBub3QgZW5hYmxlZFxuICAgICAgaWYgKCFjb25maWcuZW5hYmxlZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgbmV3IGluc3RhbmNlXG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgdlBseXIobWVkaWEsIGNvbmZpZyk7XG4gICAgICBjb25zb2xlLmxvZygnaW5zdGFuY2UtLS0tPicsaW5zdGFuY2UuZ2V0Q29udGFpbmVyKTtcbiAgICAgIC8vIEdvIHRvIG5leHQgaWYgc2V0dXAgZmFpbGVkXG4gICAgICBpZiAoIXV0aWxzLmlzLm9iamVjdChpbnN0YW5jZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgZXZlbnRzIGlmIGRlYnVnZ2luZ1xuICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgIHZhciBldmVudHMgPSBjb25maWcuZXZlbnRzLmNvbmNhdChbJ3NldHVwJywgJ3N0YXRlY2hhbmdlJywgJ2VudGVyZnVsbHNjcmVlbicsICdleGl0ZnVsbHNjcmVlbicsICdjYXB0aW9uc2VuYWJsZWQnLCAnY2FwdGlvbnNkaXNhYmxlZCddKTtcblxuICAgICAgICAgIEV2ZW50Lm9uRXZlbnQoaW5zdGFuY2UuZ2V0Q29udGFpbmVyKCksIGV2ZW50cy5qb2luKCcgJyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFtjb25maWcubG9nUHJlZml4LCAnZXZlbnQ6JywgZXZlbnQudHlwZV0uam9pbignICcpLCBldmVudC5kZXRhaWwudnBseXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsYmFja1xuICAgICAgRXZlbnQuY3VzdG9tRXZlbnQoaW5zdGFuY2UuZ2V0Q29udGFpbmVyKCksICdzZXR1cCcsIHRydWUsIHtcbiAgICAgICAgdnBseXI6IGluc3RhbmNlXG4gICAgICB9KTtcblxuICAgICAgLy8gQWRkIHRvIHJldHVybiBhcnJheSBldmVuIGlmIGl0J3MgYWxyZWFkeSBzZXR1cFxuICAgICAgdGhpcy5pbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgfSk7XG4gIH1cbiAgLy8gQWRkIHRvIGNvbnRhaW5lciBsaXN0XG4gIF9hZGQodGFyZ2V0LCBtZWRpYSkge1xuICAgIGlmICghZG9tcy5oYXNDbGFzcyhtZWRpYSwgZGVmYXVsdHMuY2xhc3Nlcy5ob29rKSkge1xuICAgICAgdGhpcy5wbGF5ZXJzLnB1c2goe1xuICAgICAgICAvLyBBbHdheXMgd3JhcCBpbiBhIDxkaXY+IGZvciBzdHlsaW5nXG4gICAgICAgIC8vY29udGFpbmVyOiAgX3dyYXAobWVkaWEsIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSxcbiAgICAgICAgLy8gQ291bGQgYmUgYSBjb250YWluZXIgb3IgdGhlIG1lZGlhIGl0c2VsZlxuICAgICAgICB0YXJnZXQ6ICAgICB0YXJnZXQsXG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSA8dmlkZW8+LCA8YXVkaW8+IG9yIDxkaXY+IChZb3VUdWJlL1ZpbWVvKVxuICAgICAgICBtZWRpYTogICAgICBtZWRpYVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7IiwiY2xhc3MgVXRpbHMge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMuYnJvd3NlclNuaWZmPXRoaXMuX2Jyb3dzZXJTbmlmZi5iaW5kKHRoaXMpKCk7XG4gICAgdGhpcy5pcyA9IHRoaXMuX2lzLmJpbmQodGhpcykoKTtcbiAgICB0aGlzLnN0b3JhZ2VTdXBwb3J0ID0gdGhpcy5fc3RvcmFnZVN1cHBvcnQuYmluZCh0aGlzKSgpO1xuICAgIHRoaXMuZXh0ZW5kICA9IHRoaXMuX2V4dGVuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWF0Y2hlcyAgPSB0aGlzLl9tYXRjaGVzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5pbkFycmF5ID0gdGhpcy5faW5BcnJheS5iaW5kKHRoaXMpO1xuICB9XG4gIF9pbkFycmF5KGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgJiYgKGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSAhPT0gLTEpO1xuICB9XG5cbiAgX21hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB2YXIgcCA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgdmFyIGYgPSBwLm1hdGNoZXMgfHwgcC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgcC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgcC5tc01hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiBbXS5pbmRleE9mLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzKSwgdGhpcykgIT09IC0xO1xuICAgIH07XG5cbiAgICByZXR1cm4gZi5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgfVxuICBfZXh0ZW5kKCkge1xuICAgIC8vIEdldCBhcmd1bWVudHNcbiAgICBsZXQgb2JqZWN0cyA9IGFyZ3VtZW50cztcblxuICAgIC8vIEJhaWwgaWYgbm90aGluZyB0byBtZXJnZVxuICAgIGlmICghb2JqZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBmaXJzdCBpZiBzcGVjaWZpZWQgYnV0IG5vdGhpbmcgdG8gbWVyZ2VcbiAgICBpZiAob2JqZWN0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdHNbMF07XG4gICAgfVxuXG4gICAgLy8gRmlyc3Qgb2JqZWN0IGlzIHRoZSBkZXN0aW5hdGlvblxuICAgIGxldCBkZXN0aW5hdGlvbiA9IEFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKG9iamVjdHMpLFxuICAgICAgICBsZW5ndGggICAgICA9IG9iamVjdHMubGVuZ3RoO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIHRvIG1lcmdlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgc291cmNlID0gb2JqZWN0c1tpXTtcblxuICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2VbcHJvcGVydHldICYmIFxuICAgICAgICAgIHNvdXJjZVtwcm9wZXJ0eV0uY29uc3RydWN0b3IgJiZcbiAgICAgICAgICBzb3VyY2VbcHJvcGVydHldLmNvbnN0cnVjdG9yID09PSBPYmplY3RcbiAgICAgICAgKSB7XG4gICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gZGVzdGluYXRpb25bcHJvcGVydHldIHx8IHt9O1xuICAgICAgICAgIHRoaXMuX2V4dGVuZChkZXN0aW5hdGlvbltwcm9wZXJ0eV0sIHNvdXJjZVtwcm9wZXJ0eV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cbiAgLy9yZW1vdmUgYW4gZWxlbWVudFxuICBcbiAgX3N0b3JhZ2VTdXBwb3J0KCl7XG4gICAgaWYgKCEoJ2xvY2FsU3RvcmFnZScgaW4gd2luZG93KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byB1c2UgaXQgKGl0IG1pZ2h0IGJlIGRpc2FibGVkLCBlLmcuIHVzZXIgaXMgaW4gcHJpdmF0ZS9wb3JuIG1vZGUpXG4gICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vU2Vsei9wbHlyL2lzc3Vlcy8xMzFcbiAgICB0cnkge1xuICAgICAgLy8gQWRkIHRlc3QgaXRlbVxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfX190ZXN0JywgJ09LJyk7XG5cbiAgICAgIC8vIEdldCB0aGUgdGVzdCBpdGVtXG4gICAgICBsZXQgcmVzdWx0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfX190ZXN0Jyk7XG5cbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ19fX3Rlc3QnKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdmFsdWUgbWF0Y2hlc1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT09ICdPSycpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgX2Jyb3dzZXJTbmlmZigpe1xuICAgIGxldCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBuYW1lID0gbmF2aWdhdG9yLmFwcE5hbWUsXG4gICAgICBmdWxsVmVyc2lvbiA9ICcnICsgcGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbiksXG4gICAgICBtYWpvclZlcnNpb24gPSBwYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgMTApLFxuICAgICAgbmFtZU9mZnNldCxcbiAgICAgIHZlck9mZnNldCxcbiAgICAgIGl4LFxuICAgICAgaXNJRSA9IGZhbHNlLFxuICAgICAgaXNGaXJlZm94ID0gZmFsc2UsXG4gICAgICBpc0Nocm9tZSA9IGZhbHNlLFxuICAgICAgaXNXZWNoYXQgPSBmYWxzZSxcbiAgICAgIGlzU2FmYXJpID0gZmFsc2U7XG5cbiAgICBpZiAoKG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoJ1dpbmRvd3MgTlQnKSAhPT0gLTEpICYmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCdydjoxMScpICE9PSAtMSkpIHtcbiAgICAgIC8vIE1TSUUgMTFcbiAgICAgIGlzSUUgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdJRSc7XG4gICAgICBmdWxsVmVyc2lvbiA9ICcxMSc7XG4gICAgfSBlbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignTVNJRScpKSAhPT0gLTEpIHtcbiAgICAgIC8vIE1TSUVcbiAgICAgIGlzSUUgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdJRSc7XG4gICAgICBmdWxsVmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA1KTtcbiAgICB9ZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ21pY3JvbWVzc2VuZ2VyJykpICE9PSAtMSkge1xuICAgICAgLy8gV2VDaGF0XG4gICAgICBpc1dlY2hhdCA9IHRydWU7XG4gICAgICBuYW1lID0gJ1dlQ2hhdCc7XG4gICAgICBmdWxsVmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyAxNSk7XG4gICAgfWVsc2UgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdDaHJvbWUnKSkgIT09IC0xKSB7XG4gICAgICAvLyBDaHJvbWVcbiAgICAgIGlzQ2hyb21lID0gdHJ1ZTtcbiAgICAgIG5hbWUgPSAnQ2hyb21lJztcbiAgICAgIGZ1bGxWZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDcpO1xuICAgIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ1NhZmFyaScpKSAhPT0gLTEpIHtcbiAgICAgIC8vIFNhZmFyaVxuICAgICAgaXNTYWZhcmkgPSB0cnVlO1xuICAgICAgbmFtZSA9ICdTYWZhcmknO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgNyk7XG4gICAgICBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ1ZlcnNpb24nKSkgIT09IC0xKSB7XG4gICAgICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgOCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignRmlyZWZveCcpKSAhPT0gLTEpIHtcbiAgICAgIC8vIEZpcmVmb3hcbiAgICAgIGlzRmlyZWZveCA9IHRydWU7XG4gICAgICBuYW1lID0gJ0ZpcmVmb3gnO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgOCk7XG4gICAgfSBlbHNlIGlmICgobmFtZU9mZnNldCA9IHVhLmxhc3RJbmRleE9mKCcgJykgKyAxKSA8ICh2ZXJPZmZzZXQgPSB1YS5sYXN0SW5kZXhPZignLycpKSkge1xuICAgICAgLy8gSW4gbW9zdCBvdGhlciBicm93c2VycywgJ25hbWUvdmVyc2lvbicgaXMgYXQgdGhlIGVuZCBvZiB1c2VyQWdlbnRcbiAgICAgIG5hbWUgPSB1YS5zdWJzdHJpbmcobmFtZU9mZnNldCx2ZXJPZmZzZXQpO1xuICAgICAgZnVsbFZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgMSk7XG5cbiAgICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgICAgIG5hbWUgPSBuYXZpZ2F0b3IuYXBwTmFtZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUcmltIHRoZSBmdWxsVmVyc2lvbiBzdHJpbmcgYXQgc2VtaWNvbG9uL3NwYWNlIGlmIHByZXNlbnRcbiAgICBpZiAoKGl4ID0gZnVsbFZlcnNpb24uaW5kZXhPZignOycpKSAhPT0gLTEpIHtcbiAgICAgIGZ1bGxWZXJzaW9uID0gZnVsbFZlcnNpb24uc3Vic3RyaW5nKDAsIGl4KTtcbiAgICB9XG4gICAgaWYgKChpeCA9IGZ1bGxWZXJzaW9uLmluZGV4T2YoJyAnKSkgIT09IC0xKSB7XG4gICAgICBmdWxsVmVyc2lvbiA9IGZ1bGxWZXJzaW9uLnN1YnN0cmluZygwLCBpeCk7XG4gICAgfVxuXG4gICAgLy8gR2V0IG1ham9yIHZlcnNpb25cbiAgICBtYWpvclZlcnNpb24gPSBwYXJzZUludCgnJyArIGZ1bGxWZXJzaW9uLCAxMCk7XG4gICAgaWYgKGlzTmFOKG1ham9yVmVyc2lvbikpIHtcbiAgICAgIGZ1bGxWZXJzaW9uID0gJycgKyBwYXJzZUZsb2F0KG5hdmlnYXRvci5hcHBWZXJzaW9uKTtcbiAgICAgIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG5hdmlnYXRvci5hcHBWZXJzaW9uLCAxMCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGRhdGFcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogICAgICAgbmFtZSxcbiAgICAgIHZlcnNpb246ICAgIG1ham9yVmVyc2lvbixcbiAgICAgIGlzSUU6ICAgICAgIGlzSUUsXG4gICAgICBpc0ZpcmVmb3g6ICBpc0ZpcmVmb3gsXG4gICAgICBpc0Nocm9tZTogICBpc0Nocm9tZSxcbiAgICAgIGlzU2FmYXJpOiAgIGlzU2FmYXJpLFxuICAgICAgaXNXZUNoYXQ6ICAgaXNXZWNoYXQsXG4gICAgICBpc0lvczogICAgICAvKGlQYWR8aVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLFxuICAgICAgaXNJcGhvbmU6ICAgLyhpUGhvbmV8aVBvZCkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgICAgaXNUb3VjaDogICAgJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgfTtcbiAgfVxuICBfaXMoKXtcbiAgICByZXR1cm4ge1xuICAgICAgb2JqZWN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCc7XG4gICAgICB9LFxuICAgICAgYXJyYXk6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IEFycmF5KTtcbiAgICAgIH0sXG4gICAgICBudW1iZXI6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiAodHlwZW9mKGlucHV0KSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGlucHV0IC0gMCkgfHwgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IE51bWJlcikpO1xuICAgICAgfSxcbiAgICAgIHN0cmluZzogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8ICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LmNvbnN0cnVjdG9yID09PSBTdHJpbmcpKTtcbiAgICAgIH0sXG4gICAgICBib29sZWFuOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbic7XG4gICAgICB9LFxuICAgICAgbm9kZUxpc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCBpbnN0YW5jZW9mIE5vZGVMaXN0O1xuICAgICAgfSxcbiAgICAgIGh0bWxFbGVtZW50OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbjogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgIH0sXG4gICAgICB1bmRlZmluZWQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IFV0aWxzKCk7IiwiaW1wb3J0IFBsYXllciBmcm9tICcuL3BsYXllcic7XG5jb25zb2xlLmxvZyhuZXcgUGxheWVyKCcuanMtcGxheWVyJyx7fSkpOyJdfQ=="}